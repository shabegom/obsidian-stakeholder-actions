/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugin's github repository at
https://github.com/zsviczian/obsidian-stakeholder-actions
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

const VIEW_TYPE_TODO = 'online.zsviczian.obsidian-stakeholder_action-plugin';

var TodoItemStatus;
(function (TodoItemStatus) {
    TodoItemStatus[TodoItemStatus["Todo"] = 0] = "Todo";
    TodoItemStatus[TodoItemStatus["Done"] = 1] = "Done";
})(TodoItemStatus || (TodoItemStatus = {}));
// eslint-disable-next-line @typescript-eslint/no-namespace
(function (TodoItemStatus) {
    function toggleStatus(status) {
        switch (status) {
            case TodoItemStatus.Todo:
                return TodoItemStatus.Done;
            case TodoItemStatus.Done:
                return TodoItemStatus.Todo;
        }
    }
    TodoItemStatus.toggleStatus = toggleStatus;
})(TodoItemStatus || (TodoItemStatus = {}));
class TodoItem {
    constructor(status, description, person, project, misc, isSomedayMaybeNote, isDiscussWithNote, isWaitingForNote, isPromisedToNote, sourceFilePath, startIndex, length, actionDate) {
        this.status = status;
        this.description = description;
        this.person = person;
        this.project = project;
        this.misc = misc;
        this.actionDate = actionDate;
        this.isSomedayMaybeNote = isSomedayMaybeNote;
        this.isDiscussWithNote = isDiscussWithNote;
        this.isWaitingForNote = isWaitingForNote;
        this.isPromisedToNote = isPromisedToNote;
        this.sourceFilePath = sourceFilePath;
        this.startIndex = startIndex;
        this.length = length;
    }
}

var Icon;
(function (Icon) {
    Icon[Icon["Inbox"] = 0] = "Inbox";
    Icon[Icon["Reveal"] = 1] = "Reveal";
    Icon[Icon["Scheduled"] = 2] = "Scheduled";
    Icon[Icon["Someday"] = 3] = "Someday";
    Icon[Icon["Today"] = 4] = "Today";
    Icon[Icon["Stakeholder"] = 5] = "Stakeholder";
    Icon[Icon["Aging"] = 6] = "Aging";
    Icon[Icon["Sort"] = 7] = "Sort";
})(Icon || (Icon = {}));
const RenderIcon = (icon, title = '', description = '') => {
    const svg = svgForIcon(icon)(title, description);
    return parser.parseFromString(svg, 'text/xml').documentElement;
};
const parser = new DOMParser();
const svgForIcon = (icon) => {
    switch (icon) {
        case Icon.Inbox:
            return inboxIcon;
        case Icon.Reveal:
            return revealIcon;
        case Icon.Scheduled:
            return scheduledIcon;
        case Icon.Someday:
            return somedayIcon;
        case Icon.Today:
            return todayIcon;
        case Icon.Stakeholder:
            return stakeholderIcon;
        case Icon.Aging:
            return agingIcon;
        case Icon.Sort:
            return sortIcon;
    }
};
const inboxIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5v-3h3.56c.69 1.19 1.97 2 3.45 2s2.75-.81 3.45-2H19v3zm0-5h-4.99c0 1.1-.9 2-2 2s-2-.9-2-2H5V5h14v9z"/>
</svg>
`;
const revealIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" role="img" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <rect fill="none" height="24" width="24"/><path d="M9,5v2h6.59L4,18.59L5.41,20L17,8.41V15h2V5H9z"/>
</svg>
`;
const scheduledIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z"/>
</svg>
`;
const somedayIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <g><rect fill="none" height="24" width="24"/></g>
  <g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"/><rect height="2" width="6" x="9" y="12"/></g></g>
</svg>
`;
const todayIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/>
</svg>
`;
const stakeholderIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 16 24" width="16" height="24" viewBox="0 0 16 24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v16H0V0z" fill="none"/>
  <path  d="M 12.041617 0.379395 C 14.783072 -0.385254 17.844596 0.648438 20.335563 2.021973 C 22.826529 3.395508 25.707145 5.746094 26.973502 8.606445 C 28.23986 11.480957 28.921744 16.182129 27.933707 19.226562 C 26.94567 22.270996 23.744986 25.471191 21.059195 26.901367 C 18.359488 28.345703 14.68566 28.628906 11.777213 27.864258 C 8.868766 27.099609 5.584586 24.635742 3.566764 22.299316 C 1.562858 19.962891 -0.246224 16.960938 -0.301889 13.874023 C -0.357553 10.787109 0.811393 6.128418 3.204947 3.806152 C 5.598502 1.483887 11.888541 0.379395 14.087272 -0.0737305 C 16.299918 -0.526855 16.480826 0.761719 16.439078 1.059082 M 18.902213 -0.201172 C 21.629752 0.308594 25.484488 3.62207 26.94567 6.397461 C 28.420768 9.172852 28.532096 13.52002 27.697135 16.422852 C 26.87609 19.325684 24.245963 22.101074 21.963736 23.814453 C 19.68151 25.513672 17.134879 26.349121 14.031608 26.660645 C 10.942252 26.958008 5.821158 27.524414 3.385856 25.655273 C 0.950553 23.800293 -0.580209 18.476074 -0.594125 15.488281 C -0.608041 12.500488 1.72985 10.022461 3.30236 7.728516 C 4.874869 5.43457 6.113395 2.970703 8.840934 1.724609 C 11.568473 0.478516 18.053336 0.237793 19.639762 0.237793 C 21.226188 0.223633 18.526481 1.512207 18.38732 1.696289 " transform="matrix(0.280702,0,0,0.275862,3.237084,2.758621)"/>
  <path  d="M -0.260884 -17.497731 C -0.664449 -21.207692 -3.405904 -34.730641 -2.779683 -39.941578 C -2.153463 -45.152516 0.114848 -46.894215 3.482524 -48.749196 C 6.8502 -50.590016 13.098491 -51.467946 17.440287 -51.028981 C 21.782084 -50.590016 27.042338 -51.694508 29.519389 -46.129567 C 31.99644 -40.564625 37.242778 -22.595387 32.27476 -17.639332 C 27.320659 -12.683278 5.124614 -16.50652 -0.246968 -16.393238 M -1.513326 -18.729664 C -1.555074 -22.708668 -1.193257 -36.727223 -0.469625 -41.499196 C 0.254008 -46.257008 -0.107808 -45.888844 2.814555 -47.290699 C 5.736918 -48.692555 12.305278 -50.09441 17.092387 -49.938649 C 21.86558 -49.768727 29.268901 -51.538746 31.523295 -46.313649 C 33.77769 -41.088551 35.753764 -23.430836 30.590922 -18.602223 C 25.441996 -13.77361 5.820414 -17.582692 0.601909 -17.356129 " transform="matrix(0.280702,0,0,0.275862,3.612293,25.350398)"/>
</svg>
`;
const agingIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <g id="surface1">
  <path style="fill-rule:evenodd;fill-opacity:1;stroke-width:16;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:4;" d="M 254.333333 461.166667 C 125 283.833333 172.833333 22.333333 518.5 18.333333 C 864.666667 17.666667 924.666667 295.833333 792.833333 449.666667 C 801.333333 531.5 801.5 600.333333 738.5 618.333333 C 712.833333 726.333333 722.5 794.5 707.166667 829.666667 C 635.333333 956.666667 410.833333 962.5 340 831.166667 C 323.666667 790 337.5 722.5 305.666667 612.166667 C 261.833333 595.166667 248.833333 542.666667 254.333333 461.166667 Z M 254.333333 238.333333 C 236.666667 279 245.166667 305 261.666667 348.5 C 272 375.333333 259.5 429.166667 254.333333 461.166667 M 797.166667 238.333333 C 809.5 264 807.166667 289.833333 790.166667 342.333333 C 778.5 372.833333 790.166667 419.166667 792.833333 449.666667 M 394.5 693.833333 C 384 658.666667 342 623.5 305.666667 612.166667 M 655.333333 692 C 672 650 694.5 620 738.5 618.333333 " transform="matrix(0.0234375,0,0,0.0234375,0,0)"/>
  <path style="fill:none;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:4;" d="M 340 626 C 361 674 372.333333 725.833333 380 779 C 428.166667 840 594.166667 858 665 776 C 669.833333 725.166667 687.666667 675.666667 704 626 L 655.333333 692 C 649.666667 733.166667 402 730.5 394.5 693.833333 Z M 403.5 798 L 403.5 706 M 432 815 L 433 714 M 462.5 822 L 463 719 M 492.5 827.5 C 492.5 825.5 493 721.5 493 721.5 M 523.5 831 L 523 722.5 M 554.5 827 L 554 722 M 583 822.5 L 582 719 M 615.5 810.5 L 614 715 M 644 794 L 643 705.5 M 642 750.5 C 560.5 786 487.833333 788.5 404 750.5 " transform="matrix(0.0234375,0,0,0.0234375,0,0)"/>
  <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 7.25 9.789062 C 7.113281 10.28125 7.207031 10.910156 7.382812 11.460938 C 7.605469 12.152344 8.105469 12.566406 8.953125 12.632812 C 9.929688 12.65625 10.554688 12.089844 10.96875 11.179688 C 11.082031 10.90625 11.15625 10.445312 11.039062 9.9375 C 10.96875 9.679688 10.644531 9.296875 10.328125 9.101562 C 9.753906 8.753906 7.472656 8.949219 7.25 9.789062 Z M 17.339844 9.726562 C 17.472656 10.21875 17.378906 10.847656 17.203125 11.398438 C 16.984375 12.089844 16.480469 12.503906 15.632812 12.570312 C 14.65625 12.59375 14.035156 12.027344 13.617188 11.117188 C 13.503906 10.84375 13.429688 10.382812 13.546875 9.875 C 13.617188 9.617188 13.941406 9.234375 14.257812 9.035156 C 14.835938 8.691406 17.113281 8.886719 17.339844 9.726562 Z M 12.035156 12 L 12.035156 14.765625 C 11.625 15.386719 11.484375 15.433594 11.25 15.421875 C 10.941406 15.421875 10.734375 14.964844 10.792969 14.4375 C 10.945312 12.769531 11.449219 12.425781 12.035156 12 Z M 12.453125 12.011719 L 12.453125 14.777344 C 12.863281 15.398438 13.003906 15.445312 13.238281 15.433594 C 13.542969 15.433594 13.75 14.976562 13.695312 14.449219 C 13.542969 12.78125 13.039062 12.4375 12.453125 12.011719 Z M 12.453125 12.011719 "/>
  </g>
</svg>
`;
const sortIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="24" viewBox="0 0 20 24"> aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path style="stroke-width:4;" d="M 0 0 C 0 13.339844 0 66.660156 0 80 M 0 0 C 0 13.339844 0 66.660156 0 80 " transform="matrix(0.2,0,0,0.2,2,6)"/>
  <path style="stroke-width:4;" d="M -10.253906 51.816406 C -7.34375 59.804688 -4.433594 67.792969 0 80 M -10.253906 51.816406 C -7.65625 58.984375 -5.039062 66.171875 0 80 " transform="matrix(0.2,0,0,0.2,2,6)"/>
  <path style="stroke-width:4;" d="M 10.253906 51.816406 C 7.34375 59.804688 4.433594 67.792969 0 80 M 10.253906 51.816406 C 7.65625 58.984375 5.039062 66.171875 0 80 " transform="matrix(0.2,0,0,0.2,2,6)"/>
  <path style="stroke-width:4;" d="M 0 0 C 0 -13.339844 0 -66.660156 0 -80 M 0 0 C 0 -13.339844 0 -66.660156 0 -80 " transform="matrix(0.2,0,0,0.2,18,18)"/>
  <path style="stroke-width:4;" d="M 10.253906 -51.816406 C 6.992188 -60.78125 3.730469 -69.746094 0 -80 M 10.253906 -51.816406 C 7.109375 -60.488281 3.945312 -69.179688 0 -80 " transform="matrix(0.2,0,0,0.2,18,18)"/>
  <path style="stroke-width:4;" d="M -10.253906 -51.816406 C -6.992188 -60.78125 -3.730469 -69.746094 0 -80 M -10.253906 -51.816406 C -7.109375 -60.488281 -3.945312 -69.179688 0 -80 " transform="matrix(0.2,0,0,0.2,18,18)"/>
  <path style="stroke-width:4;" d="M 0 0 C 6.660156 0 33.339844 0 40 0 M 0 0 C 6.660156 0 33.339844 0 40 0 " transform="matrix(0.2,0,0,0.2,6,6)"/>
  <path style="stroke-width:4;" d="M 0 0 C 6.660156 0 33.339844 0 40 0 M 0 0 C 6.660156 0 33.339844 0 40 0 " transform="matrix(0.2,0,0,0.2,6,10)"/>
  <path style="stroke-width:4;" d="M 0 0 C 6.660156 0 33.339844 0 40 0 M 0 0 C 6.660156 0 33.339844 0 40 0 " transform="matrix(0.2,0,0,0.2,6,14)"/>
</svg>
`;

var TodoItemViewPane;
(function (TodoItemViewPane) {
    TodoItemViewPane[TodoItemViewPane["Aging"] = 0] = "Aging";
    TodoItemViewPane[TodoItemViewPane["Today"] = 1] = "Today";
    TodoItemViewPane[TodoItemViewPane["Scheduled"] = 2] = "Scheduled";
    TodoItemViewPane[TodoItemViewPane["Inbox"] = 3] = "Inbox";
    TodoItemViewPane[TodoItemViewPane["Someday"] = 4] = "Someday";
    TodoItemViewPane[TodoItemViewPane["Stakeholder"] = 5] = "Stakeholder";
})(TodoItemViewPane || (TodoItemViewPane = {}));
var TodoSortStates;
(function (TodoSortStates) {
    TodoSortStates[TodoSortStates["None"] = 0] = "None";
    TodoSortStates[TodoSortStates["DateAsc"] = 1] = "DateAsc";
    TodoSortStates[TodoSortStates["DateDesc"] = 2] = "DateDesc";
    TodoSortStates[TodoSortStates["StakeholderAsc"] = 3] = "StakeholderAsc";
    TodoSortStates[TodoSortStates["StakeholderDesc"] = 4] = "StakeholderDesc";
    TodoSortStates[TodoSortStates["ProjectAsc"] = 5] = "ProjectAsc";
    TodoSortStates[TodoSortStates["ProjectDesc"] = 6] = "ProjectDesc";
    TodoSortStates[TodoSortStates["MiscAsc"] = 7] = "MiscAsc";
    TodoSortStates[TodoSortStates["MiscDesc"] = 8] = "MiscDesc";
    TodoSortStates[TodoSortStates["FullTextAsc"] = 9] = "FullTextAsc";
    TodoSortStates[TodoSortStates["FullTextDesc"] = 10] = "FullTextDesc";
})(TodoSortStates || (TodoSortStates = {}));
class TodoItemView extends obsidian.ItemView {
    constructor(leaf, props) {
        //debugger;
        super(leaf);
        this.props = props;
        this.state = {
            activePane: TodoItemViewPane.Today,
        };
        this.sortState = {
            state: TodoSortStates.None,
        };
        this.sortStateCount = Object.values(TodoSortStates).length / 2;
        this.filter = '';
    }
    getViewType() {
        return VIEW_TYPE_TODO;
    }
    getDisplayText() {
        return 'Todo';
    }
    getIcon() {
        return 'checkmark';
    }
    onClose() {
        return Promise.resolve();
    }
    setDisplayProps(props) {
        this.props.isInboxVisible = props.isInboxVisible;
        this.props.isAgingVisible = props.isAgingVisible;
        this.props.isTodayVisible = props.isTodayVisible;
        this.props.isScheduledVisible = props.isScheduledVisible;
        this.props.isStakeholderVisible = props.isStakeholderVisible;
        this.props.isSomedayVisible = props.isSomedayVisible;
        this.props.inboxTooltip = props.inboxTooltip;
        this.props.agingTooltip = props.agingTooltip;
        this.props.todayTooltip = props.todayTooltip;
        this.props.scheduledTooltip = props.scheduledTooltip;
        this.props.stakeholderTooltip = props.stakeholderTooltip;
        this.props.somedayTooltip = props.somedayTooltip;
        this.render();
    }
    setProps(setter) {
        this.props = setter(this.props);
        this.render();
    }
    setViewState(newState) {
        this.state = newState;
        if (newState.activePane == TodoItemViewPane.Aging || newState.activePane == TodoItemViewPane.Scheduled || newState.activePane == TodoItemViewPane.Today)
            this.sortState = { state: TodoSortStates.DateAsc };
        else if (newState.activePane == TodoItemViewPane.Stakeholder)
            this.sortState = { state: TodoSortStates.StakeholderAsc };
        else
            this.sortState = { state: TodoSortStates.FullTextAsc };
        this.render();
    }
    setSortState(newState) {
        this.sortState = newState;
        this.render();
    }
    setFilter(filter) {
        this.filter = filter;
        this.filterRegexp = new RegExp(filter, 'i');
        this.renderViewItemsOnly();
    }
    renderViewItemsOnly() {
        const container = this.containerEl.children[1].children[0];
        container.children[2].remove();
        container.createDiv('todo-item-view-items', (el) => {
            this.renderItems(el);
        });
    }
    render() {
        const container = this.containerEl.children[1];
        container.empty();
        container.createDiv('todo-item-view-container', (el) => {
            el.createDiv('todo-item-view-search', (el) => {
                this.renderSearch(el);
            });
            el.createDiv('todo-item-view-toolbar', (el) => {
                this.renderToolBar(el);
            });
            el.createDiv('todo-item-view-items', (el) => {
                this.renderItems(el);
            });
        });
    }
    renderSearch(container) {
        const activeClass = () => {
            if (this.sortState.state == TodoSortStates.None)
                return ' none';
            else
                return ' active';
        };
        const sortLabel = (sortState) => {
            switch (sortState) {
                case TodoSortStates.None:
                    return 'Sort by: none';
                case TodoSortStates.DateDesc:
                    return 'Sort by: Action Date Descending';
                case TodoSortStates.DateAsc:
                    return 'Sort by: Action Date Ascending';
                case TodoSortStates.StakeholderDesc:
                    return 'Sort by: Person Descending';
                case TodoSortStates.StakeholderAsc:
                    return 'Sort by: Person Ascending';
                case TodoSortStates.ProjectDesc:
                    return 'Sort by: Project Descending';
                case TodoSortStates.ProjectAsc:
                    return 'Sort by: Project Ascending';
                case TodoSortStates.MiscDesc:
                    return 'Sort by: Misc-snippet Descending';
                case TodoSortStates.MiscAsc:
                    return 'Sort by: Misc-snippet Ascending';
                case TodoSortStates.FullTextDesc:
                    return 'Sort by: Full Text Descending';
                case TodoSortStates.FullTextAsc:
                    return 'Sort by: Full Text Ascending';
            }
        };
        container.createEl('input', { value: this.filter }, (el) => {
            el.addClass('todo-filter-input');
            el.setAttribute('placeholder', 'proj/person RexExp filter, case insensitive');
            el.onkeyup = (e) => {
                this.setFilter(e.target.value);
            };
        });
        container.createDiv(`todo-item-view-sort${activeClass()}`, (el) => {
            el.appendChild(RenderIcon(Icon.Sort, sortLabel(this.sortState.state)));
            el.onClickEvent((e) => {
                const nextSortState = (this.sortState.state + 1) % this.sortStateCount;
                this.setSortState({ state: nextSortState });
                //(<HTMLElement>e.target).setAttribute('aria-label',sortLabel(nextSortState));
            });
        });
    }
    renderToolBar(container) {
        const activeClass = (pane) => {
            return pane === this.state.activePane ? ' active' : '';
        };
        const setActivePane = (pane) => {
            const newState = Object.assign(Object.assign({}, this.state), { activePane: pane });
            this.setViewState(newState);
        };
        if (this.props.isInboxVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Inbox)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Inbox, this.props.inboxTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Inbox));
            });
        if (this.props.isAgingVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Aging)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Aging, this.props.agingTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Aging));
            });
        if (this.props.isTodayVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Today)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Today, this.props.todayTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Today));
            });
        if (this.props.isScheduledVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Scheduled)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Scheduled, this.props.scheduledTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Scheduled));
            });
        if (this.props.isStakeholderVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Stakeholder)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Stakeholder, this.props.stakeholderTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Stakeholder));
            });
        if (this.props.isSomedayVisible)
            container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Someday)}`, (el) => {
                el.appendChild(RenderIcon(Icon.Someday, this.props.somedayTooltip));
                el.onClickEvent(() => setActivePane(TodoItemViewPane.Someday));
            });
    }
    renderItems(container) {
        const sortView = (a, b) => {
            return this.sortView(a, b);
        };
        const todosToRender = this.props.todos
            .filter(this.filterForState, this);
        const sortedTodos = todosToRender.sort(sortView);
        sortedTodos
            .forEach((todo, index) => {
            if (index > 0) {
                if ((todo.isWaitingForNote && todosToRender[index - 1].isDiscussWithNote) ||
                    (todo.isPromisedToNote &&
                        (todosToRender[index - 1].isWaitingForNote || todosToRender[index - 1].isDiscussWithNote)) ||
                    (!todo.isPromisedToNote && !todo.isWaitingForNote && !todo.isDiscussWithNote &&
                        (todosToRender[index - 1].isWaitingForNote || todosToRender[index - 1].isDiscussWithNote || todosToRender[index - 1].isPromisedToNote))) {
                    container.createEl('hr', {}, (el) => {
                        el.addClass('todo-item-view-divider');
                    });
                }
            }
            container.createDiv('todo-item-view-item', (el) => {
                el.createDiv('todo-item-view-item-checkbox', (el) => {
                    el.createEl('input', { type: 'checkbox' }, (el) => {
                        el.checked = todo.status === TodoItemStatus.Done;
                        el.onClickEvent(() => {
                            this.toggleTodo(todo);
                        });
                    });
                });
                el.createDiv('todo-item-view-item-description', (el) => {
                    obsidian.MarkdownRenderer.renderMarkdown(todo.description, el, todo.sourceFilePath, this);
                });
                el.createDiv('todo-item-view-item-link', (el) => {
                    el.appendChild(RenderIcon(Icon.Reveal, 'Open file'));
                    el.onClickEvent(() => {
                        this.openFile(todo);
                    });
                });
            });
        });
    }
    sortView(a, b) {
        let sortResult = 0;
        switch (this.sortState.state) {
            case TodoSortStates.None:
                sortResult = 0;
                break;
            case TodoSortStates.DateAsc:
                sortResult = a.actionDate < b.actionDate ? -1 : a.actionDate > b.actionDate ? 1 : 0;
                break;
            case TodoSortStates.DateDesc:
                sortResult = a.actionDate > b.actionDate ? -1 : a.actionDate < b.actionDate ? 1 : 0;
                break;
            case TodoSortStates.StakeholderAsc:
                sortResult = a.person < b.person ? -1 : a.person > b.person ? 1 : 0;
                break;
            case TodoSortStates.StakeholderDesc:
                sortResult = a.person > b.person ? -1 : a.person < b.person ? 1 : 0;
                break;
            case TodoSortStates.ProjectAsc:
                sortResult = a.project < b.project ? -1 : a.project > b.project ? 1 : 0;
                break;
            case TodoSortStates.ProjectDesc:
                sortResult = a.project > b.project ? -1 : a.project < b.project ? 1 : 0;
                break;
            case TodoSortStates.MiscAsc:
                sortResult = a.misc < b.misc ? -1 : a.misc > b.misc ? 1 : 0;
                break;
            case TodoSortStates.MiscDesc:
                sortResult = a.misc > b.misc ? -1 : a.misc < b.misc ? 1 : 0;
                break;
            case TodoSortStates.FullTextAsc:
                sortResult = a.description.toLowerCase() < b.description.toLowerCase() ? -1 : a.description.toLowerCase() > b.description.toLowerCase() ? 1 : 0;
                break;
            case TodoSortStates.FullTextDesc:
                sortResult = a.description.toLowerCase() > b.description.toLowerCase() ? -1 : a.description.toLowerCase() < b.description.toLowerCase() ? 1 : 0;
                break;
        }
        if (this.state.activePane == TodoItemViewPane.Stakeholder) {
            if (a.isDiscussWithNote && !b.isDiscussWithNote) {
                return -1;
            }
            if (a.isWaitingForNote && !b.isDiscussWithNote && !b.isWaitingForNote) {
                return -1;
            }
            if (a.isPromisedToNote && !b.isDiscussWithNote && !b.isWaitingForNote) {
                return -1;
            }
            if (b.isDiscussWithNote && !a.isDiscussWithNote) {
                return 1;
            }
            if (b.isWaitingForNote && !a.isDiscussWithNote && !a.isWaitingForNote) {
                return 1;
            }
            if (b.isPromisedToNote && !a.isDiscussWithNote && !a.isWaitingForNote) {
                return 1;
            }
            return sortResult;
        }
        return sortResult;
    }
    filterForState(value, _index, _array) {
        const isPersonMatch = value.person.match(this.filterRegexp) != null;
        const isProjectMatch = value.project.match(this.filterRegexp) != null;
        const isMiscMatch = value.misc.match(this.filterRegexp) != null;
        const isFilterSet = this.filter != "";
        const hasPersonOrProject = value.person != '' || value.project != '';
        const isPeopleActionNote = value.isDiscussWithNote || value.isWaitingForNote || value.isPromisedToNote;
        if (!isFilterSet || isPersonMatch || isProjectMatch || isMiscMatch) {
            const isToday = (date) => {
                let today = new Date();
                return (date.getDate() == today.getDate() &&
                    date.getMonth() == today.getMonth() &&
                    date.getFullYear() == today.getFullYear());
            };
            const isBeforeToday = (date) => {
                let today = (new Date());
                today.setHours(0, 0, 0, 0);
                return date < today;
            };
            const isAgingNote = value.actionDate && isBeforeToday(value.actionDate);
            const isTodayNote = value.actionDate && isToday(value.actionDate);
            const isScheduledNote = !value.isSomedayMaybeNote && value.actionDate && !isTodayNote && !isAgingNote;
            switch (this.state.activePane) {
                case TodoItemViewPane.Inbox:
                    return !value.isSomedayMaybeNote && !isTodayNote && !isScheduledNote && !isAgingNote && !(isPeopleActionNote && hasPersonOrProject);
                case TodoItemViewPane.Scheduled:
                    return isScheduledNote;
                case TodoItemViewPane.Someday:
                    return value.isSomedayMaybeNote;
                case TodoItemViewPane.Today:
                    return isTodayNote;
                case TodoItemViewPane.Aging:
                    return isAgingNote;
                case TodoItemViewPane.Stakeholder:
                    return hasPersonOrProject && isPeopleActionNote;
            }
        }
        else
            return false;
    }
    toggleTodo(todo) {
        this.props.toggleTodo(todo, TodoItemStatus.toggleStatus(todo.status));
    }
    openFile(todo) {
        this.props.openFile(todo.sourceFilePath);
    }
}

class TodoParser {
    constructor(props) {
        this.props = props;
    }
    parseTasks(filePath, fileContents) {
        return __awaiter(this, void 0, void 0, function* () {
            const pattern = /(-|\*) \[(\s|x)?\]\s(.*)/g;
            return [...fileContents.matchAll(pattern)].map((task) => this.parseTask(filePath, task));
        });
    }
    parseTask(filePath, entry) {
        var _a;
        //debugger;
        const todoItemOffset = 2; // Strip off `-|* `
        const status = entry[2] === 'x' ? TodoItemStatus.Done : TodoItemStatus.Todo;
        const description = entry[3];
        const dateMatches = description.match(this.props.dateRegexp);
        let actionDate = undefined;
        if (dateMatches != null) {
            if (dateMatches.length == 4) {
                actionDate = new Date(parseInt(dateMatches[1]), parseInt(dateMatches[2]) - 1, parseInt(dateMatches[3]), 0, 0, 0, 0);
            }
            else if (dateMatches.length == 2) {
                actionDate = new Date(dateMatches[1]);
            }
        }
        const personMatches = description.match(this.props.personRegexp);
        const person = personMatches != null ? personMatches[1] : "";
        const projectMatches = description.match(this.props.projectRegexp);
        const project = projectMatches != null ? projectMatches[1] : "";
        const miscMatches = description.match(this.props.miscRegexp);
        const misc = miscMatches != null ? miscMatches.length == 2 ? miscMatches[1] : "" : "";
        return new TodoItem(status, description, person.toLowerCase(), project.toLowerCase(), misc.toLowerCase(), description.match(this.props.somedayMaybeRegexp) != null, description.match(this.props.discussWithRegexp) != null, description.match(this.props.waitingForRegexp) != null, description.match(this.props.promisedToRegexp) != null, filePath, ((_a = entry.index) !== null && _a !== void 0 ? _a : 0) + todoItemOffset, entry[0].length - todoItemOffset, actionDate);
    }
}

class TodoIndex {
    constructor(vault, listener, props) {
        this.props = props;
        this.vault = vault;
        this.todos = new Map();
        this.listeners = [listener];
    }
    reloadIndex(props) {
        return __awaiter(this, void 0, void 0, function* () {
            this.props = props;
            yield this.initialize();
        });
    }
    initialize() {
        return __awaiter(this, void 0, void 0, function* () {
            // TODO: persist index & last sync timestamp; only parse files that changed since then.
            const todoMap = new Map();
            let numberOfTodos = 0;
            const timeStart = new Date().getTime();
            const markdownFiles = this.vault.getMarkdownFiles();
            for (const file of markdownFiles) {
                const todos = yield this.parseTodosInFile(file);
                numberOfTodos += todos.length;
                if (todos.length > 0) {
                    todoMap.set(file.path, todos);
                }
            }
            const totalTimeMs = new Date().getTime() - timeStart;
            console.log(`[obsidian-stakeholder_action-plugin] Parsed ${numberOfTodos} TODOs from ${markdownFiles.length} markdown files in (${totalTimeMs / 1000.0}s)`);
            this.todos = todoMap;
            this.registerEventHandlers();
            this.invokeListeners();
        });
    }
    setStatus(todo, newStatus) {
        const file = this.vault.getAbstractFileByPath(todo.sourceFilePath);
        const fileContents = this.vault.read(file);
        fileContents.then((c) => {
            const newTodo = `[${newStatus === TodoItemStatus.Done ? 'x' : ' '}] ${todo.description}`;
            const newContents = c.substring(0, todo.startIndex) + newTodo + c.substring(todo.startIndex + todo.length);
            this.vault.modify(file, newContents);
        });
    }
    indexAbstractFile(file) {
        if (!(file instanceof obsidian.TFile)) {
            return;
        }
        this.indexFile(file);
    }
    indexFile(file) {
        this.parseTodosInFile(file).then((todos) => {
            this.todos.set(file.path, todos);
            this.invokeListeners();
        });
    }
    clearIndex(path, silent = false) {
        this.todos.delete(path);
        if (!silent) {
            this.invokeListeners();
        }
    }
    setProps(setter) {
        this.props = setter(this.props);
        //do I need to do anything else??
    }
    parseTodosInFile(file) {
        return __awaiter(this, void 0, void 0, function* () {
            // TODO: Does it make sense to index completed TODOs at all?
            const todoParser = new TodoParser(this.props);
            const fileContents = yield this.vault.cachedRead(file);
            return todoParser
                .parseTasks(file.path, fileContents)
                .then((todos) => todos.filter((todo) => todo.status === TodoItemStatus.Todo));
        });
    }
    registerEventHandlers() {
        this.vault.on('create', (file) => {
            this.indexAbstractFile(file);
        });
        this.vault.on('modify', (file) => {
            this.indexAbstractFile(file);
        });
        this.vault.on('delete', (file) => {
            this.clearIndex(file.path);
        });
        // We could simply change the references to the old path, but parsing again does the trick as well
        this.vault.on('rename', (file, oldPath) => {
            this.clearIndex(oldPath);
            this.indexAbstractFile(file);
        });
    }
    invokeListeners() {
        const todos = [].concat(...Array.from(this.todos.values()));
        this.listeners.forEach((listener) => listener(todos));
    }
}

const DEFAULT_SETTINGS = {
    personRegexpString: '\\[{2}People\\/(.*?)\\]{2}',
    projectRegexpString: '\\[{2}Projects\\/(.*?)\\]{2}',
    miscRegexpString: '',
    dateRegexpString: '#(\\d{4})\\/(\\d{2})\\/(\\d{2})',
    discussWithRegexpString: '#(discussWith)',
    waitingForRegexpString: '#(waitingFor)',
    promisedToRegexpString: '#(promisedTo)',
    somedayMaybeRegexpString: '#(someday)',
    isInboxVisible: true,
    isAgingVisible: true,
    isTodayVisible: true,
    isScheduledVisible: true,
    isStakeholderVisible: true,
    isSomedayVisible: true,
    inboxTooltip: 'Inbox: No date set, no stakeholder action set, not a someday / maybe item.',
    agingTooltip: 'Aging',
    todayTooltip: 'Scheduled for Today',
    scheduledTooltip: 'Scheduled for a future date',
    stakeholderTooltip: 'Stakeholder and Project actions: discussWith, promisedTo, waitingFor. Only items that have a valid project or person will show up here. Stakeholder actions without project or person are in the Inbox.',
    somedayTooltip: 'Tagged as Someday / Maybe',
};
class ActionTrackerSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        this.containerEl.empty();
        this.containerEl.createEl('h1', { text: 'Selectors' });
        this.containerEl.createEl('p', { text: 'Selectors are regular expressions that select specific part of the action. ' +
                'These values are used to control what is presented in each view and/or to filter the views.' });
        this.containerEl.createEl('h3', { text: 'Snipets' });
        this.containerEl.createEl('p', { text: 'Use these selectors to capture specific information from your action item. ' +
                'You can filter view results with these using the search box at the top. ' +
                'Also the "Stakeholder and projects actions" view only shows actions ' +
                'that have either a Project or an Action Party. ' });
        this.containerEl.createEl('p', { text: 'The patterns will only capture the first match. If you mention multiple ' +
                'people and projects in a TODO, you must place the action party first. For example:' });
        this.containerEl.createEl('p', { text: '[ ] #discussWith [[People/Catherine]] what present to by for [[People/Kate]] as a recognition ' +
                'for achievements on [[Project/Secret campaign]].' });
        this.containerEl.createEl('p', { text: 'Catherine will be identified as the Action Party and Secret campaign as the Project.' });
        new obsidian.Setting(containerEl)
            .setName('Action Party')
            .setDesc('This is the regular expression to identify the action party in the action. Used for filtering todos by person.')
            .addText(text => text
            .setPlaceholder('\\[{2}People\\/(.*?)\\]{2}')
            .setValue(this.plugin.settings.personRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.personRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Project')
            .setDesc('This is the regular expression to identify the project in the action. Used for filtering todos by project name.')
            .addText(text => text
            .setPlaceholder('\\[{2}Projects\\/(.*?)\\]{2}')
            .setValue(this.plugin.settings.projectRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.projectRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Miscellaneous')
            .setDesc('This is the regular expression to capture what ever other part of the action you prefer to capture. ' +
            'This snipet will only be used in the search box at the top of the O-GTD panel. Default is to capture nothing. ' +
            'should you want to capture the whole action line for example, change the pattern to: (.*) ')
            .addText(text => text
            .setPlaceholder('(.*)')
            .setValue(this.plugin.settings.miscRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.miscRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        this.containerEl.createEl('h3', { text: 'Date' });
        this.containerEl.createEl('p', { text: 'This is the actions\'s due date. If set your action will show up in one of the date filtered views: ' +
                'Aging (date is overdue), Today (date is today), Scheduled (future date).' });
        new obsidian.Setting(containerEl)
            .setName('Date')
            .setDesc('This is the regular expression to get the date for an action. You have two options. If your RegExp captures 3 values, then ' +
            'the first must be the year (yyyy), the sceond the month (mm), the third the day (dd). ' +
            'If your RegExp captures a single value, then it must be a valid date format based on your regional settings. For example: ' +
            '#(\\d{4}\\/\\d{2}\\/\\d{2}) is also valid as it captures a single date as yyyy/mm/dd')
            .addText(text => text
            .setPlaceholder('#(\\d{4})\\/(\\d{2})\\/(\\d{2})')
            .setValue(this.plugin.settings.dateRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.dateRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        this.containerEl.createEl('h3', { text: 'Stakeholder-action tags' });
        this.containerEl.createEl('p', { text: 'These three tags allow you to qualify the type of stakeholder action you want to take. ' +
                'In the "Stakeholder and project actions" view items will be pre-sorted ' +
                'with #discussWith first, #waitingFor second, and #promisedTo third. I can imagine situations ' +
                'when you repurpose these and select for #high, #medium, #low by changing the regular expressions.' });
        new obsidian.Setting(containerEl)
            .setName('Discuss With tag')
            .setDesc('This is the regular expression to identify topics you want to discuss with someone.')
            .addText(text => text
            .setPlaceholder('#(discussWith)')
            .setValue(this.plugin.settings.discussWithRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.discussWithRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Waiting For')
            .setDesc('This is the regular expression to identify actions which you are waiting for some to complete.')
            .addText(text => text
            .setPlaceholder('#(waitingFor)')
            .setValue(this.plugin.settings.waitingForRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.waitingForRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Promised To')
            .setDesc('This is the regular expression to identify promises you have made to someone.')
            .addText(text => text
            .setPlaceholder('#(promisedTo)')
            .setValue(this.plugin.settings.promisedToRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.promisedToRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        this.containerEl.createEl('h3', { text: 'Someday/Maybe tag' });
        this.containerEl.createEl('p', { text: 'Use a tag to mark actions that are deliberately without a deadline, such as ' +
                'items on your bucket list. These actions will show up in the "Someday/Maybe view. ' +
                'Actions without a valid tag and without a deadline will show up in the Inbox.' });
        new obsidian.Setting(containerEl)
            .setName('Someday Maybe regexp pattern')
            .setDesc('This is the regexp pattern you use ')
            .addText(text => text
            .setPlaceholder('#(someday)')
            .setValue(this.plugin.settings.somedayMaybeRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.somedayMaybeRegexpString = value;
            yield this.plugin.saveFilterSettings();
        })));
        this.containerEl.createEl('h1', { text: 'View Configuration' });
        this.containerEl.createEl('p', { text: 'You can show/hide specific views based on your needs. ' +
                'As you customize some of the selectors, views may change their meaning. You can update ' +
                'the tooltip text to help you remember your intended use for each view.' });
        this.containerEl.createEl('h3', { text: 'Inbox' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Inbox')
            .addToggle(value => value
            .setValue(this.plugin.settings.isInboxVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isInboxVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Inbox tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.inboxTooltip)
                .setValue(this.plugin.settings.inboxTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.inboxTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
        this.containerEl.createEl('h3', { text: 'Aging' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Aging')
            .addToggle(value => value
            .setValue(this.plugin.settings.isAgingVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isAgingVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Aging tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.agingTooltip)
                .setValue(this.plugin.settings.agingTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.agingTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
        this.containerEl.createEl('h3', { text: 'Today' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Today')
            .addToggle(value => value
            .setValue(this.plugin.settings.isTodayVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isTodayVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Today tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.todayTooltip)
                .setValue(this.plugin.settings.todayTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.todayTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
        this.containerEl.createEl('h3', { text: 'Scheduled' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Scheduled')
            .addToggle(value => value
            .setValue(this.plugin.settings.isScheduledVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isScheduledVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Scheduled tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.scheduledTooltip)
                .setValue(this.plugin.settings.scheduledTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.scheduledTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
        this.containerEl.createEl('h3', { text: 'Stakeholder Actions' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Stakeholder Actions')
            .addToggle(value => value
            .setValue(this.plugin.settings.isStakeholderVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isStakeholderVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Stakeholder Actions tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.stakeholderTooltip)
                .setValue(this.plugin.settings.stakeholderTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.stakeholderTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
        this.containerEl.createEl('h3', { text: 'Someday/Maybe' });
        new obsidian.Setting(containerEl)
            .setName('Show/hide Someday/Maybe')
            .addToggle(value => value
            .setValue(this.plugin.settings.isSomedayVisible)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.isSomedayVisible = value;
            yield this.plugin.saveViewDisplaySettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Someday/Maybe tooltip')
            .addTextArea(text => {
            let t = text.setPlaceholder(DEFAULT_SETTINGS.somedayTooltip)
                .setValue(this.plugin.settings.somedayTooltip)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.somedayTooltip = value;
                yield this.plugin.saveViewDisplaySettings();
            }));
            t.inputEl.setAttr("rows", 4);
        });
    }
}

class ActionTrackerPlugin extends obsidian.Plugin {
    constructor(app, manifest) {
        super(app, manifest);
    }
    getTodoItemIndexProps() {
        return {
            personRegexp: new RegExp(this.getSettingValue('personRegexpString')),
            projectRegexp: new RegExp(this.getSettingValue('projectRegexpString')),
            miscRegexp: new RegExp(this.getSettingValue('miscRegexpString')),
            dateRegexp: new RegExp(this.getSettingValue('dateRegexpString')),
            discussWithRegexp: new RegExp(this.getSettingValue('discussWithRegexpString')),
            waitingForRegexp: new RegExp(this.getSettingValue('waitingForRegexpString')),
            promisedToRegexp: new RegExp(this.getSettingValue('promisedToRegexpString')),
            somedayMaybeRegexp: new RegExp(this.getSettingValue('somedayMaybeRegexpString')),
        };
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log('loading plugin');
            yield this.loadSettings();
            this.todoIndex = new TodoIndex(this.app.vault, this.tick.bind(this), this.getTodoItemIndexProps());
            this.registerView(VIEW_TYPE_TODO, (leaf) => {
                const todos = [];
                const props = {
                    todos: todos,
                    openFile: (filePath) => {
                        const file = this.app.vault.getAbstractFileByPath(filePath);
                        this.app.workspace.splitActiveLeaf().openFile(file);
                    },
                    toggleTodo: (todo, newStatus) => {
                        this.todoIndex.setStatus(todo, newStatus);
                    },
                    isInboxVisible: this.getSettingValue('isInboxVisible'),
                    isAgingVisible: this.getSettingValue('isAgingVisible'),
                    isTodayVisible: this.getSettingValue('isTodayVisible'),
                    isScheduledVisible: this.getSettingValue('isScheduledVisible'),
                    isStakeholderVisible: this.getSettingValue('isStakeholderVisible'),
                    isSomedayVisible: this.getSettingValue('isSomedayVisible'),
                    inboxTooltip: this.getSettingValue('inboxTooltip'),
                    agingTooltip: this.getSettingValue('agingTooltip'),
                    todayTooltip: this.getSettingValue('todayTooltip'),
                    scheduledTooltip: this.getSettingValue('scheduledTooltip'),
                    stakeholderTooltip: this.getSettingValue('stakeholderTooltip'),
                    somedayTooltip: this.getSettingValue('somedayTooltip'),
                };
                this.view = new TodoItemView(leaf, props);
                return this.view;
            });
            this.addSettingTab(new ActionTrackerSettingTab(this.app, this));
            if (this.app.workspace.layoutReady) {
                this.initLeaf();
                yield this.prepareIndex();
            }
            else {
                this.registerEvent(this.app.workspace.on('layout-ready', this.initLeaf.bind(this)));
                this.registerEvent(this.app.workspace.on('layout-ready', () => __awaiter(this, void 0, void 0, function* () { return yield this.prepareIndex(); })));
            }
        });
    }
    onunload() {
        this.app.workspace.getLeavesOfType(VIEW_TYPE_TODO).forEach((leaf) => leaf.detach());
    }
    initLeaf() {
        if (this.app.workspace.getLeavesOfType(VIEW_TYPE_TODO).length) {
            return;
        }
        this.app.workspace.getRightLeaf(false).setViewState({
            type: VIEW_TYPE_TODO,
        });
    }
    prepareIndex() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.todoIndex.initialize();
        });
    }
    tick(todos) {
        this.view.setProps((currentProps) => {
            return Object.assign(Object.assign({}, currentProps), { todos: todos });
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveFilterSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
            yield this.todoIndex.reloadIndex(this.getTodoItemIndexProps());
        });
    }
    saveViewDisplaySettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
            this.view.setDisplayProps({
                todos: null,
                openFile: null,
                toggleTodo: null,
                isInboxVisible: this.getSettingValue('isInboxVisible'),
                isAgingVisible: this.getSettingValue('isAgingVisible'),
                isTodayVisible: this.getSettingValue('isTodayVisible'),
                isScheduledVisible: this.getSettingValue('isScheduledVisible'),
                isStakeholderVisible: this.getSettingValue('isStakeholderVisible'),
                isSomedayVisible: this.getSettingValue('isSomedayVisible'),
                inboxTooltip: this.getSettingValue('inboxTooltip'),
                agingTooltip: this.getSettingValue('agingTooltip'),
                todayTooltip: this.getSettingValue('todayTooltip'),
                scheduledTooltip: this.getSettingValue('scheduledTooltip'),
                stakeholderTooltip: this.getSettingValue('stakeholderTooltip'),
                somedayTooltip: this.getSettingValue('somedayTooltip'),
            });
        });
    }
    getSettingValue(setting) {
        return this.settings[setting];
    }
}

module.exports = ActionTrackerPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsImNvbnN0YW50cy50cyIsIm1vZGVsL1RvZG9JdGVtLnRzIiwidWkvaWNvbnMudHMiLCJ1aS9Ub2RvSXRlbVZpZXcudHMiLCJtb2RlbC9Ub2RvUGFyc2VyLnRzIiwibW9kZWwvVG9kb0luZGV4LnRzIiwic2V0dGluZ3MudHMiLCJtYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcclxuICAgICAgICB0b1tqXSA9IGZyb21baV07XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBjb25zdCBWSUVXX1RZUEVfVE9ETyA9ICdvbmxpbmUuenN2aWN6aWFuLm9ic2lkaWFuLXN0YWtlaG9sZGVyX2FjdGlvbi1wbHVnaW4nO1xyXG4iLCJleHBvcnQgZW51bSBUb2RvSXRlbVN0YXR1cyB7XHJcbiAgVG9kbyxcclxuICBEb25lLFxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxyXG5leHBvcnQgbmFtZXNwYWNlIFRvZG9JdGVtU3RhdHVzIHtcclxuICBleHBvcnQgZnVuY3Rpb24gdG9nZ2xlU3RhdHVzKHN0YXR1czogVG9kb0l0ZW1TdGF0dXMpOiBUb2RvSXRlbVN0YXR1cyB7XHJcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xyXG4gICAgICBjYXNlIFRvZG9JdGVtU3RhdHVzLlRvZG86XHJcbiAgICAgICAgcmV0dXJuIFRvZG9JdGVtU3RhdHVzLkRvbmU7XHJcbiAgICAgIGNhc2UgVG9kb0l0ZW1TdGF0dXMuRG9uZTpcclxuICAgICAgICByZXR1cm4gVG9kb0l0ZW1TdGF0dXMuVG9kbztcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvSXRlbSB7XHJcbiAgcHVibGljIHNvdXJjZUZpbGVQYXRoOiBzdHJpbmc7XHJcbiAgcHVibGljIHN0YXJ0SW5kZXg6IG51bWJlcjtcclxuICBwdWJsaWMgbGVuZ3RoOiBudW1iZXI7XHJcbiAgcHVibGljIHN0YXR1czogVG9kb0l0ZW1TdGF0dXM7XHJcbiAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgcHVibGljIHBlcnNvbjogc3RyaW5nO1xyXG4gIHB1YmxpYyBwcm9qZWN0OiBzdHJpbmc7XHJcbiAgcHVibGljIG1pc2M6IHN0cmluZztcclxuICBwdWJsaWMgYWN0aW9uRGF0ZT86IERhdGU7XHJcbiAgcHVibGljIGlzU29tZWRheU1heWJlTm90ZTogYm9vbGVhbjtcclxuICBwdWJsaWMgaXNEaXNjdXNzV2l0aE5vdGU6IGJvb2xlYW47XHJcbiAgcHVibGljIGlzV2FpdGluZ0Zvck5vdGU6IGJvb2xlYW47XHJcbiAgcHVibGljIGlzUHJvbWlzZWRUb05vdGU6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgc3RhdHVzOiBUb2RvSXRlbVN0YXR1cyxcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICBwZXJzb246IHN0cmluZyxcclxuICAgIHByb2plY3Q6IHN0cmluZyxcclxuICAgIG1pc2M6IHN0cmluZyxcclxuICAgIGlzU29tZWRheU1heWJlTm90ZTogYm9vbGVhbixcclxuICAgIGlzRGlzY3Vzc1dpdGhOb3RlOiBib29sZWFuLFxyXG4gICAgaXNXYWl0aW5nRm9yTm90ZTogYm9vbGVhbixcclxuICAgIGlzUHJvbWlzZWRUb05vdGU6IGJvb2xlYW4sXHJcbiAgICBzb3VyY2VGaWxlUGF0aDogc3RyaW5nLFxyXG4gICAgc3RhcnRJbmRleDogbnVtYmVyLFxyXG4gICAgbGVuZ3RoOiBudW1iZXIsXHJcbiAgICBhY3Rpb25EYXRlPzogRGF0ZSxcclxuICApIHtcclxuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5wZXJzb24gPSBwZXJzb247XHJcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgdGhpcy5taXNjID0gbWlzYztcclxuICAgIHRoaXMuYWN0aW9uRGF0ZSA9IGFjdGlvbkRhdGU7XHJcbiAgICB0aGlzLmlzU29tZWRheU1heWJlTm90ZSA9IGlzU29tZWRheU1heWJlTm90ZTtcclxuICAgIHRoaXMuaXNEaXNjdXNzV2l0aE5vdGUgPSBpc0Rpc2N1c3NXaXRoTm90ZTtcclxuICAgIHRoaXMuaXNXYWl0aW5nRm9yTm90ZSA9IGlzV2FpdGluZ0Zvck5vdGU7XHJcbiAgICB0aGlzLmlzUHJvbWlzZWRUb05vdGUgPSBpc1Byb21pc2VkVG9Ob3RlO1xyXG4gICAgdGhpcy5zb3VyY2VGaWxlUGF0aCA9IHNvdXJjZUZpbGVQYXRoO1xyXG4gICAgdGhpcy5zdGFydEluZGV4ID0gc3RhcnRJbmRleDtcclxuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZW51bSBJY29uIHtcclxuICBJbmJveCxcclxuICBSZXZlYWwsXHJcbiAgU2NoZWR1bGVkLFxyXG4gIFNvbWVkYXksXHJcbiAgVG9kYXksXHJcbiAgU3Rha2Vob2xkZXIsXHJcbiAgQWdpbmcsXHJcbiAgU29ydCxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFJlbmRlckljb24gPSAoaWNvbjogSWNvbiwgdGl0bGUgPSAnJywgZGVzY3JpcHRpb24gPSAnJyk6IEhUTUxFbGVtZW50ID0+IHtcclxuICBjb25zdCBzdmcgPSBzdmdGb3JJY29uKGljb24pKHRpdGxlLCBkZXNjcmlwdGlvbik7XHJcbiAgcmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnLCAndGV4dC94bWwnKS5kb2N1bWVudEVsZW1lbnQ7XHJcbn07XHJcblxyXG5jb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcblxyXG5jb25zdCBzdmdGb3JJY29uID0gKGljb246IEljb24pOiAoKGFyZzA6IHN0cmluZywgYXJnMTogc3RyaW5nKSA9PiBzdHJpbmcpID0+IHtcclxuICBzd2l0Y2ggKGljb24pIHtcclxuICAgIGNhc2UgSWNvbi5JbmJveDpcclxuICAgICAgcmV0dXJuIGluYm94SWNvbjtcclxuICAgIGNhc2UgSWNvbi5SZXZlYWw6XHJcbiAgICAgIHJldHVybiByZXZlYWxJY29uO1xyXG4gICAgY2FzZSBJY29uLlNjaGVkdWxlZDpcclxuICAgICAgcmV0dXJuIHNjaGVkdWxlZEljb247XHJcbiAgICBjYXNlIEljb24uU29tZWRheTpcclxuICAgICAgcmV0dXJuIHNvbWVkYXlJY29uO1xyXG4gICAgY2FzZSBJY29uLlRvZGF5OlxyXG4gICAgICByZXR1cm4gdG9kYXlJY29uO1xyXG4gICAgY2FzZSBJY29uLlN0YWtlaG9sZGVyOlxyXG4gICAgICByZXR1cm4gc3Rha2Vob2xkZXJJY29uO1xyXG4gICAgY2FzZSBJY29uLkFnaW5nOlxyXG4gICAgICByZXR1cm4gYWdpbmdJY29uO1xyXG4gICAgY2FzZSBJY29uLlNvcnQ6XHJcbiAgICAgIHJldHVybiBzb3J0SWNvbjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBpbmJveEljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBhcmlhLWxhYmVsPVwiJHt0aXRsZSArIGRlc2NyaXB0aW9ufVwiPlxyXG4gIDx0aXRsZT4ke3RpdGxlfTwvdGl0bGU+XHJcbiAgPGRlc2NyaXB0aW9uPiR7ZGVzY3JpcHRpb259PC9kZXNjcmlwdGlvbj5cclxuICA8cGF0aCBkPVwiTTAgMGgyNHYyNEgwVjB6XCIgZmlsbD1cIm5vbmVcIi8+XHJcbiAgPHBhdGggZD1cIk0xOSAzSDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINXYtM2gzLjU2Yy42OSAxLjE5IDEuOTcgMiAzLjQ1IDJzMi43NS0uODEgMy40NS0ySDE5djN6bTAtNWgtNC45OWMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJINVY1aDE0djl6XCIvPlxyXG48L3N2Zz5cclxuYDtcclxuXHJcbmNvbnN0IHJldmVhbEljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiByb2xlPVwiaW1nXCIgYXJpYS1sYWJlbD1cIiR7XHJcbiAgdGl0bGUgKyBkZXNjcmlwdGlvblxyXG59XCI+XHJcbiAgPHRpdGxlPiR7dGl0bGV9PC90aXRsZT5cclxuICA8ZGVzY3JpcHRpb24+JHtkZXNjcmlwdGlvbn08L2Rlc2NyaXB0aW9uPlxyXG4gIDxyZWN0IGZpbGw9XCJub25lXCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIvPjxwYXRoIGQ9XCJNOSw1djJoNi41OUw0LDE4LjU5TDUuNDEsMjBMMTcsOC40MVYxNWgyVjVIOXpcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3Qgc2NoZWR1bGVkSWNvbiA9ICh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogc3RyaW5nID0+IGBcclxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIGFyaWEtbGFiZWw9XCIke3RpdGxlICsgZGVzY3JpcHRpb259XCI+XHJcbiAgPHRpdGxlPiR7dGl0bGV9PC90aXRsZT5cclxuICA8ZGVzY3JpcHRpb24+JHtkZXNjcmlwdGlvbn08L2Rlc2NyaXB0aW9uPlxyXG4gIDxwYXRoIGQ9XCJNMCAwaDI0djI0SDBWMHpcIiBmaWxsPVwibm9uZVwiLz5cclxuICA8cGF0aCBkPVwiTTIwIDNoLTFWMWgtMnYySDdWMUg1djJINGMtMS4xIDAtMiAuOS0yIDJ2MTZjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE4SDRWMTBoMTZ2MTF6bTAtMTNINFY1aDE2djN6XCIvPlxyXG48L3N2Zz5cclxuYDtcclxuXHJcbmNvbnN0IHNvbWVkYXlJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgYXJpYS1sYWJlbD1cIiR7XHJcbiAgdGl0bGUgKyBkZXNjcmlwdGlvblxyXG59XCI+XHJcbiAgPHRpdGxlPiR7dGl0bGV9PC90aXRsZT5cclxuICA8ZGVzY3JpcHRpb24+JHtkZXNjcmlwdGlvbn08L2Rlc2NyaXB0aW9uPlxyXG4gIDxnPjxyZWN0IGZpbGw9XCJub25lXCIgaGVpZ2h0PVwiMjRcIiB3aWR0aD1cIjI0XCIvPjwvZz5cclxuICA8Zz48Zz48cGF0aCBkPVwiTTIwLDJINEMzLDIsMiwyLjksMiw0djMuMDFDMiw3LjczLDIuNDMsOC4zNSwzLDguN1YyMGMwLDEuMSwxLjEsMiwyLDJoMTRjMC45LDAsMi0wLjksMi0yVjguN2MwLjU3LTAuMzUsMS0wLjk3LDEtMS42OVY0IEMyMiwyLjksMjEsMiwyMCwyeiBNMTksMjBINVY5aDE0VjIweiBNMjAsN0g0VjRoMTZWN3pcIi8+PHJlY3QgaGVpZ2h0PVwiMlwiIHdpZHRoPVwiNlwiIHg9XCI5XCIgeT1cIjEyXCIvPjwvZz48L2c+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3QgdG9kYXlJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgYXJpYS1sYWJlbD1cIiR7dGl0bGUgKyBkZXNjcmlwdGlvbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMFYwelwiIGZpbGw9XCJub25lXCIvPlxyXG4gIDxwYXRoIGQ9XCJNMjIgOS4yNGwtNy4xOS0uNjJMMTIgMiA5LjE5IDguNjMgMiA5LjI0bDUuNDYgNC43M0w1LjgyIDIxIDEyIDE3LjI3IDE4LjE4IDIxbC0xLjYzLTcuMDNMMjIgOS4yNHpNMTIgMTUuNGwtMy43NiAyLjI3IDEtNC4yOC0zLjMyLTIuODggNC4zOC0uMzhMMTIgNi4xbDEuNzEgNC4wNCA0LjM4LjM4LTMuMzIgMi44OCAxIDQuMjhMMTIgMTUuNHpcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3Qgc3Rha2Vob2xkZXJJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMTYgMjRcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDE2IDI0XCIgYXJpYS1sYWJlbD1cIiR7dGl0bGUgKyBkZXNjcmlwdGlvbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggZD1cIk0wIDBoMjR2MTZIMFYwelwiIGZpbGw9XCJub25lXCIvPlxyXG4gIDxwYXRoICBkPVwiTSAxMi4wNDE2MTcgMC4zNzkzOTUgQyAxNC43ODMwNzIgLTAuMzg1MjU0IDE3Ljg0NDU5NiAwLjY0ODQzOCAyMC4zMzU1NjMgMi4wMjE5NzMgQyAyMi44MjY1MjkgMy4zOTU1MDggMjUuNzA3MTQ1IDUuNzQ2MDk0IDI2Ljk3MzUwMiA4LjYwNjQ0NSBDIDI4LjIzOTg2IDExLjQ4MDk1NyAyOC45MjE3NDQgMTYuMTgyMTI5IDI3LjkzMzcwNyAxOS4yMjY1NjIgQyAyNi45NDU2NyAyMi4yNzA5OTYgMjMuNzQ0OTg2IDI1LjQ3MTE5MSAyMS4wNTkxOTUgMjYuOTAxMzY3IEMgMTguMzU5NDg4IDI4LjM0NTcwMyAxNC42ODU2NiAyOC42Mjg5MDYgMTEuNzc3MjEzIDI3Ljg2NDI1OCBDIDguODY4NzY2IDI3LjA5OTYwOSA1LjU4NDU4NiAyNC42MzU3NDIgMy41NjY3NjQgMjIuMjk5MzE2IEMgMS41NjI4NTggMTkuOTYyODkxIC0wLjI0NjIyNCAxNi45NjA5MzggLTAuMzAxODg5IDEzLjg3NDAyMyBDIC0wLjM1NzU1MyAxMC43ODcxMDkgMC44MTEzOTMgNi4xMjg0MTggMy4yMDQ5NDcgMy44MDYxNTIgQyA1LjU5ODUwMiAxLjQ4Mzg4NyAxMS44ODg1NDEgMC4zNzkzOTUgMTQuMDg3MjcyIC0wLjA3MzczMDUgQyAxNi4yOTk5MTggLTAuNTI2ODU1IDE2LjQ4MDgyNiAwLjc2MTcxOSAxNi40MzkwNzggMS4wNTkwODIgTSAxOC45MDIyMTMgLTAuMjAxMTcyIEMgMjEuNjI5NzUyIDAuMzA4NTk0IDI1LjQ4NDQ4OCAzLjYyMjA3IDI2Ljk0NTY3IDYuMzk3NDYxIEMgMjguNDIwNzY4IDkuMTcyODUyIDI4LjUzMjA5NiAxMy41MjAwMiAyNy42OTcxMzUgMTYuNDIyODUyIEMgMjYuODc2MDkgMTkuMzI1Njg0IDI0LjI0NTk2MyAyMi4xMDEwNzQgMjEuOTYzNzM2IDIzLjgxNDQ1MyBDIDE5LjY4MTUxIDI1LjUxMzY3MiAxNy4xMzQ4NzkgMjYuMzQ5MTIxIDE0LjAzMTYwOCAyNi42NjA2NDUgQyAxMC45NDIyNTIgMjYuOTU4MDA4IDUuODIxMTU4IDI3LjUyNDQxNCAzLjM4NTg1NiAyNS42NTUyNzMgQyAwLjk1MDU1MyAyMy44MDAyOTMgLTAuNTgwMjA5IDE4LjQ3NjA3NCAtMC41OTQxMjUgMTUuNDg4MjgxIEMgLTAuNjA4MDQxIDEyLjUwMDQ4OCAxLjcyOTg1IDEwLjAyMjQ2MSAzLjMwMjM2IDcuNzI4NTE2IEMgNC44NzQ4NjkgNS40MzQ1NyA2LjExMzM5NSAyLjk3MDcwMyA4Ljg0MDkzNCAxLjcyNDYwOSBDIDExLjU2ODQ3MyAwLjQ3ODUxNiAxOC4wNTMzMzYgMC4yMzc3OTMgMTkuNjM5NzYyIDAuMjM3NzkzIEMgMjEuMjI2MTg4IDAuMjIzNjMzIDE4LjUyNjQ4MSAxLjUxMjIwNyAxOC4zODczMiAxLjY5NjI4OSBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yODA3MDIsMCwwLDAuMjc1ODYyLDMuMjM3MDg0LDIuNzU4NjIxKVwiLz5cclxuICA8cGF0aCAgZD1cIk0gLTAuMjYwODg0IC0xNy40OTc3MzEgQyAtMC42NjQ0NDkgLTIxLjIwNzY5MiAtMy40MDU5MDQgLTM0LjczMDY0MSAtMi43Nzk2ODMgLTM5Ljk0MTU3OCBDIC0yLjE1MzQ2MyAtNDUuMTUyNTE2IDAuMTE0ODQ4IC00Ni44OTQyMTUgMy40ODI1MjQgLTQ4Ljc0OTE5NiBDIDYuODUwMiAtNTAuNTkwMDE2IDEzLjA5ODQ5MSAtNTEuNDY3OTQ2IDE3LjQ0MDI4NyAtNTEuMDI4OTgxIEMgMjEuNzgyMDg0IC01MC41OTAwMTYgMjcuMDQyMzM4IC01MS42OTQ1MDggMjkuNTE5Mzg5IC00Ni4xMjk1NjcgQyAzMS45OTY0NCAtNDAuNTY0NjI1IDM3LjI0Mjc3OCAtMjIuNTk1Mzg3IDMyLjI3NDc2IC0xNy42MzkzMzIgQyAyNy4zMjA2NTkgLTEyLjY4MzI3OCA1LjEyNDYxNCAtMTYuNTA2NTIgLTAuMjQ2OTY4IC0xNi4zOTMyMzggTSAtMS41MTMzMjYgLTE4LjcyOTY2NCBDIC0xLjU1NTA3NCAtMjIuNzA4NjY4IC0xLjE5MzI1NyAtMzYuNzI3MjIzIC0wLjQ2OTYyNSAtNDEuNDk5MTk2IEMgMC4yNTQwMDggLTQ2LjI1NzAwOCAtMC4xMDc4MDggLTQ1Ljg4ODg0NCAyLjgxNDU1NSAtNDcuMjkwNjk5IEMgNS43MzY5MTggLTQ4LjY5MjU1NSAxMi4zMDUyNzggLTUwLjA5NDQxIDE3LjA5MjM4NyAtNDkuOTM4NjQ5IEMgMjEuODY1NTggLTQ5Ljc2ODcyNyAyOS4yNjg5MDEgLTUxLjUzODc0NiAzMS41MjMyOTUgLTQ2LjMxMzY0OSBDIDMzLjc3NzY5IC00MS4wODg1NTEgMzUuNzUzNzY0IC0yMy40MzA4MzYgMzAuNTkwOTIyIC0xOC42MDIyMjMgQyAyNS40NDE5OTYgLTEzLjc3MzYxIDUuODIwNDE0IC0xNy41ODI2OTIgMC42MDE5MDkgLTE3LjM1NjEyOSBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yODA3MDIsMCwwLDAuMjc1ODYyLDMuNjEyMjkzLDI1LjM1MDM5OClcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3QgYWdpbmdJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgYXJpYS1sYWJlbD1cIiR7dGl0bGUgKyBkZXNjcmlwdGlvbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPGcgaWQ9XCJzdXJmYWNlMVwiPlxyXG4gIDxwYXRoIHN0eWxlPVwiZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjE2O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjQ7XCIgZD1cIk0gMjU0LjMzMzMzMyA0NjEuMTY2NjY3IEMgMTI1IDI4My44MzMzMzMgMTcyLjgzMzMzMyAyMi4zMzMzMzMgNTE4LjUgMTguMzMzMzMzIEMgODY0LjY2NjY2NyAxNy42NjY2NjcgOTI0LjY2NjY2NyAyOTUuODMzMzMzIDc5Mi44MzMzMzMgNDQ5LjY2NjY2NyBDIDgwMS4zMzMzMzMgNTMxLjUgODAxLjUgNjAwLjMzMzMzMyA3MzguNSA2MTguMzMzMzMzIEMgNzEyLjgzMzMzMyA3MjYuMzMzMzMzIDcyMi41IDc5NC41IDcwNy4xNjY2NjcgODI5LjY2NjY2NyBDIDYzNS4zMzMzMzMgOTU2LjY2NjY2NyA0MTAuODMzMzMzIDk2Mi41IDM0MCA4MzEuMTY2NjY3IEMgMzIzLjY2NjY2NyA3OTAgMzM3LjUgNzIyLjUgMzA1LjY2NjY2NyA2MTIuMTY2NjY3IEMgMjYxLjgzMzMzMyA1OTUuMTY2NjY3IDI0OC44MzMzMzMgNTQyLjY2NjY2NyAyNTQuMzMzMzMzIDQ2MS4xNjY2NjcgWiBNIDI1NC4zMzMzMzMgMjM4LjMzMzMzMyBDIDIzNi42NjY2NjcgMjc5IDI0NS4xNjY2NjcgMzA1IDI2MS42NjY2NjcgMzQ4LjUgQyAyNzIgMzc1LjMzMzMzMyAyNTkuNSA0MjkuMTY2NjY3IDI1NC4zMzMzMzMgNDYxLjE2NjY2NyBNIDc5Ny4xNjY2NjcgMjM4LjMzMzMzMyBDIDgwOS41IDI2NCA4MDcuMTY2NjY3IDI4OS44MzMzMzMgNzkwLjE2NjY2NyAzNDIuMzMzMzMzIEMgNzc4LjUgMzcyLjgzMzMzMyA3OTAuMTY2NjY3IDQxOS4xNjY2NjcgNzkyLjgzMzMzMyA0NDkuNjY2NjY3IE0gMzk0LjUgNjkzLjgzMzMzMyBDIDM4NCA2NTguNjY2NjY3IDM0MiA2MjMuNSAzMDUuNjY2NjY3IDYxMi4xNjY2NjcgTSA2NTUuMzMzMzMzIDY5MiBDIDY3MiA2NTAgNjk0LjUgNjIwIDczOC41IDYxOC4zMzMzMzMgXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMDIzNDM3NSwwLDAsMC4wMjM0Mzc1LDAsMClcIi8+XHJcbiAgPHBhdGggc3R5bGU9XCJmaWxsOm5vbmU7c3Ryb2tlLXdpZHRoOjg7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6NDtcIiBkPVwiTSAzNDAgNjI2IEMgMzYxIDY3NCAzNzIuMzMzMzMzIDcyNS44MzMzMzMgMzgwIDc3OSBDIDQyOC4xNjY2NjcgODQwIDU5NC4xNjY2NjcgODU4IDY2NSA3NzYgQyA2NjkuODMzMzMzIDcyNS4xNjY2NjcgNjg3LjY2NjY2NyA2NzUuNjY2NjY3IDcwNCA2MjYgTCA2NTUuMzMzMzMzIDY5MiBDIDY0OS42NjY2NjcgNzMzLjE2NjY2NyA0MDIgNzMwLjUgMzk0LjUgNjkzLjgzMzMzMyBaIE0gNDAzLjUgNzk4IEwgNDAzLjUgNzA2IE0gNDMyIDgxNSBMIDQzMyA3MTQgTSA0NjIuNSA4MjIgTCA0NjMgNzE5IE0gNDkyLjUgODI3LjUgQyA0OTIuNSA4MjUuNSA0OTMgNzIxLjUgNDkzIDcyMS41IE0gNTIzLjUgODMxIEwgNTIzIDcyMi41IE0gNTU0LjUgODI3IEwgNTU0IDcyMiBNIDU4MyA4MjIuNSBMIDU4MiA3MTkgTSA2MTUuNSA4MTAuNSBMIDYxNCA3MTUgTSA2NDQgNzk0IEwgNjQzIDcwNS41IE0gNjQyIDc1MC41IEMgNTYwLjUgNzg2IDQ4Ny44MzMzMzMgNzg4LjUgNDA0IDc1MC41IFwiIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjAyMzQzNzUsMCwwLDAuMDIzNDM3NSwwLDApXCIvPlxyXG4gIDxwYXRoIHN0eWxlPVwiIHN0cm9rZTpub25lO2ZpbGwtcnVsZTpldmVub2RkO2ZpbGw6cmdiKDAlLDAlLDAlKTtmaWxsLW9wYWNpdHk6MTtcIiBkPVwiTSA3LjI1IDkuNzg5MDYyIEMgNy4xMTMyODEgMTAuMjgxMjUgNy4yMDcwMzEgMTAuOTEwMTU2IDcuMzgyODEyIDExLjQ2MDkzOCBDIDcuNjA1NDY5IDEyLjE1MjM0NCA4LjEwNTQ2OSAxMi41NjY0MDYgOC45NTMxMjUgMTIuNjMyODEyIEMgOS45Mjk2ODggMTIuNjU2MjUgMTAuNTU0Njg4IDEyLjA4OTg0NCAxMC45Njg3NSAxMS4xNzk2ODggQyAxMS4wODIwMzEgMTAuOTA2MjUgMTEuMTU2MjUgMTAuNDQ1MzEyIDExLjAzOTA2MiA5LjkzNzUgQyAxMC45Njg3NSA5LjY3OTY4OCAxMC42NDQ1MzEgOS4yOTY4NzUgMTAuMzI4MTI1IDkuMTAxNTYyIEMgOS43NTM5MDYgOC43NTM5MDYgNy40NzI2NTYgOC45NDkyMTkgNy4yNSA5Ljc4OTA2MiBaIE0gMTcuMzM5ODQ0IDkuNzI2NTYyIEMgMTcuNDcyNjU2IDEwLjIxODc1IDE3LjM3ODkwNiAxMC44NDc2NTYgMTcuMjAzMTI1IDExLjM5ODQzOCBDIDE2Ljk4NDM3NSAxMi4wODk4NDQgMTYuNDgwNDY5IDEyLjUwMzkwNiAxNS42MzI4MTIgMTIuNTcwMzEyIEMgMTQuNjU2MjUgMTIuNTkzNzUgMTQuMDM1MTU2IDEyLjAyNzM0NCAxMy42MTcxODggMTEuMTE3MTg4IEMgMTMuNTAzOTA2IDEwLjg0Mzc1IDEzLjQyOTY4OCAxMC4zODI4MTIgMTMuNTQ2ODc1IDkuODc1IEMgMTMuNjE3MTg4IDkuNjE3MTg4IDEzLjk0MTQwNiA5LjIzNDM3NSAxNC4yNTc4MTIgOS4wMzUxNTYgQyAxNC44MzU5MzggOC42OTE0MDYgMTcuMTEzMjgxIDguODg2NzE5IDE3LjMzOTg0NCA5LjcyNjU2MiBaIE0gMTIuMDM1MTU2IDEyIEwgMTIuMDM1MTU2IDE0Ljc2NTYyNSBDIDExLjYyNSAxNS4zODY3MTkgMTEuNDg0Mzc1IDE1LjQzMzU5NCAxMS4yNSAxNS40MjE4NzUgQyAxMC45NDE0MDYgMTUuNDIxODc1IDEwLjczNDM3NSAxNC45NjQ4NDQgMTAuNzkyOTY5IDE0LjQzNzUgQyAxMC45NDUzMTIgMTIuNzY5NTMxIDExLjQ0OTIxOSAxMi40MjU3ODEgMTIuMDM1MTU2IDEyIFogTSAxMi40NTMxMjUgMTIuMDExNzE5IEwgMTIuNDUzMTI1IDE0Ljc3NzM0NCBDIDEyLjg2MzI4MSAxNS4zOTg0MzggMTMuMDAzOTA2IDE1LjQ0NTMxMiAxMy4yMzgyODEgMTUuNDMzNTk0IEMgMTMuNTQyOTY5IDE1LjQzMzU5NCAxMy43NSAxNC45NzY1NjIgMTMuNjk1MzEyIDE0LjQ0OTIxOSBDIDEzLjU0Mjk2OSAxMi43ODEyNSAxMy4wMzkwNjIgMTIuNDM3NSAxMi40NTMxMjUgMTIuMDExNzE5IFogTSAxMi40NTMxMjUgMTIuMDExNzE5IFwiLz5cclxuICA8L2c+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3Qgc29ydEljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjAgMjRcIj4gYXJpYS1sYWJlbD1cIiR7dGl0bGUgKyBkZXNjcmlwdGlvbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggc3R5bGU9XCJzdHJva2Utd2lkdGg6NDtcIiBkPVwiTSAwIDAgQyAwIDEzLjMzOTg0NCAwIDY2LjY2MDE1NiAwIDgwIE0gMCAwIEMgMCAxMy4zMzk4NDQgMCA2Ni42NjAxNTYgMCA4MCBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yLDAsMCwwLjIsMiw2KVwiLz5cclxuICA8cGF0aCBzdHlsZT1cInN0cm9rZS13aWR0aDo0O1wiIGQ9XCJNIC0xMC4yNTM5MDYgNTEuODE2NDA2IEMgLTcuMzQzNzUgNTkuODA0Njg4IC00LjQzMzU5NCA2Ny43OTI5NjkgMCA4MCBNIC0xMC4yNTM5MDYgNTEuODE2NDA2IEMgLTcuNjU2MjUgNTguOTg0Mzc1IC01LjAzOTA2MiA2Ni4xNzE4NzUgMCA4MCBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yLDAsMCwwLjIsMiw2KVwiLz5cclxuICA8cGF0aCBzdHlsZT1cInN0cm9rZS13aWR0aDo0O1wiIGQ9XCJNIDEwLjI1MzkwNiA1MS44MTY0MDYgQyA3LjM0Mzc1IDU5LjgwNDY4OCA0LjQzMzU5NCA2Ny43OTI5NjkgMCA4MCBNIDEwLjI1MzkwNiA1MS44MTY0MDYgQyA3LjY1NjI1IDU4Ljk4NDM3NSA1LjAzOTA2MiA2Ni4xNzE4NzUgMCA4MCBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yLDAsMCwwLjIsMiw2KVwiLz5cclxuICA8cGF0aCBzdHlsZT1cInN0cm9rZS13aWR0aDo0O1wiIGQ9XCJNIDAgMCBDIDAgLTEzLjMzOTg0NCAwIC02Ni42NjAxNTYgMCAtODAgTSAwIDAgQyAwIC0xMy4zMzk4NDQgMCAtNjYuNjYwMTU2IDAgLTgwIFwiIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjIsMCwwLDAuMiwxOCwxOClcIi8+XHJcbiAgPHBhdGggc3R5bGU9XCJzdHJva2Utd2lkdGg6NDtcIiBkPVwiTSAxMC4yNTM5MDYgLTUxLjgxNjQwNiBDIDYuOTkyMTg4IC02MC43ODEyNSAzLjczMDQ2OSAtNjkuNzQ2MDk0IDAgLTgwIE0gMTAuMjUzOTA2IC01MS44MTY0MDYgQyA3LjEwOTM3NSAtNjAuNDg4MjgxIDMuOTQ1MzEyIC02OS4xNzk2ODggMCAtODAgXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMiwwLDAsMC4yLDE4LDE4KVwiLz5cclxuICA8cGF0aCBzdHlsZT1cInN0cm9rZS13aWR0aDo0O1wiIGQ9XCJNIC0xMC4yNTM5MDYgLTUxLjgxNjQwNiBDIC02Ljk5MjE4OCAtNjAuNzgxMjUgLTMuNzMwNDY5IC02OS43NDYwOTQgMCAtODAgTSAtMTAuMjUzOTA2IC01MS44MTY0MDYgQyAtNy4xMDkzNzUgLTYwLjQ4ODI4MSAtMy45NDUzMTIgLTY5LjE3OTY4OCAwIC04MCBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yLDAsMCwwLjIsMTgsMTgpXCIvPlxyXG4gIDxwYXRoIHN0eWxlPVwic3Ryb2tlLXdpZHRoOjQ7XCIgZD1cIk0gMCAwIEMgNi42NjAxNTYgMCAzMy4zMzk4NDQgMCA0MCAwIE0gMCAwIEMgNi42NjAxNTYgMCAzMy4zMzk4NDQgMCA0MCAwIFwiIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjIsMCwwLDAuMiw2LDYpXCIvPlxyXG4gIDxwYXRoIHN0eWxlPVwic3Ryb2tlLXdpZHRoOjQ7XCIgZD1cIk0gMCAwIEMgNi42NjAxNTYgMCAzMy4zMzk4NDQgMCA0MCAwIE0gMCAwIEMgNi42NjAxNTYgMCAzMy4zMzk4NDQgMCA0MCAwIFwiIHRyYW5zZm9ybT1cIm1hdHJpeCgwLjIsMCwwLDAuMiw2LDEwKVwiLz5cclxuICA8cGF0aCBzdHlsZT1cInN0cm9rZS13aWR0aDo0O1wiIGQ9XCJNIDAgMCBDIDYuNjYwMTU2IDAgMzMuMzM5ODQ0IDAgNDAgMCBNIDAgMCBDIDYuNjYwMTU2IDAgMzMuMzM5ODQ0IDAgNDAgMCBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4yLDAsMCwwLjIsNiwxNClcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG4iLCJpbXBvcnQgeyBJdGVtVmlldywgTWFya2Rvd25SZW5kZXJlciwgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgVklFV19UWVBFX1RPRE8gfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBUb2RvSXRlbSwgVG9kb0l0ZW1TdGF0dXMgfSBmcm9tICcuLi9tb2RlbC9Ub2RvSXRlbSc7XHJcbmltcG9ydCB7IFJlbmRlckljb24sIEljb24gfSBmcm9tICcuLi91aS9pY29ucyc7XHJcblxyXG5lbnVtIFRvZG9JdGVtVmlld1BhbmUge1xyXG4gIEFnaW5nLFxyXG4gIFRvZGF5LFxyXG4gIFNjaGVkdWxlZCxcclxuICBJbmJveCxcclxuICBTb21lZGF5LFxyXG4gIFN0YWtlaG9sZGVyLFxyXG59XHJcblxyXG5lbnVtIFRvZG9Tb3J0U3RhdGVzIHtcclxuICBOb25lID0gMCxcclxuICBEYXRlQXNjID0gMSxcclxuICBEYXRlRGVzYyA9IDIsXHJcbiAgU3Rha2Vob2xkZXJBc2MgPSAzLFxyXG4gIFN0YWtlaG9sZGVyRGVzYyA9IDQsXHJcbiAgUHJvamVjdEFzYyA9IDUsXHJcbiAgUHJvamVjdERlc2MgPSA2LFxyXG4gIE1pc2NBc2MgPSA3LFxyXG4gIE1pc2NEZXNjID0gOCwgIFxyXG4gIEZ1bGxUZXh0QXNjID0gOSxcclxuICBGdWxsVGV4dERlc2MgPSAxMCxcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb2RvSXRlbVZpZXdQcm9wcyB7XHJcbiAgdG9kb3M6IFRvZG9JdGVtW107XHJcbiAgb3BlbkZpbGU6IChmaWxlUGF0aDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIHRvZ2dsZVRvZG86ICh0b2RvOiBUb2RvSXRlbSwgbmV3U3RhdHVzOiBUb2RvSXRlbVN0YXR1cykgPT4gdm9pZDtcclxuICBpc0luYm94VmlzaWJsZTogICAgICAgYm9vbGVhbjtcclxuICBpc0FnaW5nVmlzaWJsZTogICAgICAgYm9vbGVhbjtcclxuICBpc1RvZGF5VmlzaWJsZTogICAgICAgYm9vbGVhbjtcclxuICBpc1NjaGVkdWxlZFZpc2libGU6ICAgYm9vbGVhbjtcclxuICBpc1N0YWtlaG9sZGVyVmlzaWJsZTogYm9vbGVhbjtcclxuICBpc1NvbWVkYXlWaXNpYmxlOiAgICAgYm9vbGVhbjtcclxuICBpbmJveFRvb2x0aXA6ICAgICAgICAgc3RyaW5nO1xyXG4gIGFnaW5nVG9vbHRpcDogICAgICAgICBzdHJpbmc7XHJcbiAgdG9kYXlUb29sdGlwOiAgICAgICAgIHN0cmluZztcclxuICBzY2hlZHVsZWRUb29sdGlwOiAgICAgc3RyaW5nO1xyXG4gIHN0YWtlaG9sZGVyVG9vbHRpcDogICBzdHJpbmc7XHJcbiAgc29tZWRheVRvb2x0aXA6ICAgICAgIHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvZG9JdGVtVmlld1N0YXRlIHtcclxuICBhY3RpdmVQYW5lOiBUb2RvSXRlbVZpZXdQYW5lO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG9kb1NvcnRTdGF0ZSB7XHJcbiAgc3RhdGU6IFRvZG9Tb3J0U3RhdGVzLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVG9kb0l0ZW1WaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xyXG4gIHByaXZhdGUgcHJvcHM6IFRvZG9JdGVtVmlld1Byb3BzO1xyXG4gIHByaXZhdGUgc3RhdGU6IFRvZG9JdGVtVmlld1N0YXRlO1xyXG4gIHByaXZhdGUgc29ydFN0YXRlOiBUb2RvU29ydFN0YXRlO1xyXG4gIHByaXZhdGUgZmlsdGVyOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBmaWx0ZXJSZWdleHA6IFJlZ0V4cDtcclxuICBwcml2YXRlIHNvcnRTdGF0ZUNvdW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwcm9wczogVG9kb0l0ZW1WaWV3UHJvcHMpIHtcclxuICAgIC8vZGVidWdnZXI7XHJcbiAgICBzdXBlcihsZWFmKTtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVBhbmU6IFRvZG9JdGVtVmlld1BhbmUuVG9kYXksXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zb3J0U3RhdGUgPSB7XHJcbiAgICAgIHN0YXRlOiBUb2RvU29ydFN0YXRlcy5Ob25lLFxyXG4gICAgfTtcclxuICAgIHRoaXMuc29ydFN0YXRlQ291bnQgPSBPYmplY3QudmFsdWVzKFRvZG9Tb3J0U3RhdGVzKS5sZW5ndGgvMjtcclxuICAgIHRoaXMuZmlsdGVyID0gJyc7XHJcbiAgfVxyXG4gIFxyXG4gIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gVklFV19UWVBFX1RPRE87XHJcbiAgfVxyXG5cclxuICBnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdUb2RvJztcclxuICB9XHJcblxyXG4gIGdldEljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnY2hlY2ttYXJrJztcclxuICB9XHJcblxyXG4gIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0RGlzcGxheVByb3BzKHByb3BzOiBUb2RvSXRlbVZpZXdQcm9wcykge1xyXG4gICAgdGhpcy5wcm9wcy5pc0luYm94VmlzaWJsZSA9IHByb3BzLmlzSW5ib3hWaXNpYmxlO1xyXG4gICAgdGhpcy5wcm9wcy5pc0FnaW5nVmlzaWJsZSA9IHByb3BzLmlzQWdpbmdWaXNpYmxlO1xyXG4gICAgdGhpcy5wcm9wcy5pc1RvZGF5VmlzaWJsZSA9IHByb3BzLmlzVG9kYXlWaXNpYmxlO1xyXG4gICAgdGhpcy5wcm9wcy5pc1NjaGVkdWxlZFZpc2libGUgPSBwcm9wcy5pc1NjaGVkdWxlZFZpc2libGU7XHJcbiAgICB0aGlzLnByb3BzLmlzU3Rha2Vob2xkZXJWaXNpYmxlID0gcHJvcHMuaXNTdGFrZWhvbGRlclZpc2libGU7XHJcbiAgICB0aGlzLnByb3BzLmlzU29tZWRheVZpc2libGUgPSBwcm9wcy5pc1NvbWVkYXlWaXNpYmxlO1xyXG4gICAgdGhpcy5wcm9wcy5pbmJveFRvb2x0aXAgPSBwcm9wcy5pbmJveFRvb2x0aXA7XHJcbiAgICB0aGlzLnByb3BzLmFnaW5nVG9vbHRpcCA9IHByb3BzLmFnaW5nVG9vbHRpcDtcclxuICAgIHRoaXMucHJvcHMudG9kYXlUb29sdGlwID0gcHJvcHMudG9kYXlUb29sdGlwO1xyXG4gICAgdGhpcy5wcm9wcy5zY2hlZHVsZWRUb29sdGlwID0gcHJvcHMuc2NoZWR1bGVkVG9vbHRpcDtcclxuICAgIHRoaXMucHJvcHMuc3Rha2Vob2xkZXJUb29sdGlwID0gcHJvcHMuc3Rha2Vob2xkZXJUb29sdGlwO1xyXG4gICAgdGhpcy5wcm9wcy5zb21lZGF5VG9vbHRpcCA9IHByb3BzLnNvbWVkYXlUb29sdGlwO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcbiAgXHJcbiAgcHVibGljIHNldFByb3BzKHNldHRlcjogKGN1cnJlbnRQcm9wczogVG9kb0l0ZW1WaWV3UHJvcHMpID0+IFRvZG9JdGVtVmlld1Byb3BzKTogdm9pZCB7XHJcbiAgICB0aGlzLnByb3BzID0gc2V0dGVyKHRoaXMucHJvcHMpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0Vmlld1N0YXRlKG5ld1N0YXRlOiBUb2RvSXRlbVZpZXdTdGF0ZSkge1xyXG4gICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgaWYobmV3U3RhdGUuYWN0aXZlUGFuZSA9PSBUb2RvSXRlbVZpZXdQYW5lLkFnaW5nIHx8IG5ld1N0YXRlLmFjdGl2ZVBhbmUgPT0gVG9kb0l0ZW1WaWV3UGFuZS5TY2hlZHVsZWQgfHwgbmV3U3RhdGUuYWN0aXZlUGFuZSA9PSBUb2RvSXRlbVZpZXdQYW5lLlRvZGF5KVxyXG4gICAgICB0aGlzLnNvcnRTdGF0ZSA9IHtzdGF0ZTogVG9kb1NvcnRTdGF0ZXMuRGF0ZUFzY307XHJcbiAgICBlbHNlIGlmIChuZXdTdGF0ZS5hY3RpdmVQYW5lID09IFRvZG9JdGVtVmlld1BhbmUuU3Rha2Vob2xkZXIpXHJcbiAgICAgIHRoaXMuc29ydFN0YXRlID0ge3N0YXRlOiBUb2RvU29ydFN0YXRlcy5TdGFrZWhvbGRlckFzY307XHJcbiAgICBlbHNlIFxyXG4gICAgICB0aGlzLnNvcnRTdGF0ZSA9IHtzdGF0ZTogVG9kb1NvcnRTdGF0ZXMuRnVsbFRleHRBc2N9O1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0U29ydFN0YXRlKG5ld1N0YXRlOiBUb2RvU29ydFN0YXRlKSB7XHJcbiAgICB0aGlzLnNvcnRTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0RmlsdGVyKGZpbHRlcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcclxuICAgIHRoaXMuZmlsdGVyUmVnZXhwID0gbmV3IFJlZ0V4cChmaWx0ZXIsJ2knKTtcclxuICAgIHRoaXMucmVuZGVyVmlld0l0ZW1zT25seSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW5kZXJWaWV3SXRlbXNPbmx5KCk6dm9pZCB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdO1xyXG4gICAgY29udGFpbmVyLmNoaWxkcmVuWzJdLnJlbW92ZSgpO1xyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctaXRlbXMnLCAoZWwpID0+IHtcclxuICAgICAgdGhpcy5yZW5kZXJJdGVtcyhlbCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcclxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctY29udGFpbmVyJywgKGVsKSA9PiB7XHJcbiAgICAgIGVsLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctc2VhcmNoJywgKGVsKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJTZWFyY2goZWwpO1xyXG4gICAgICB9KTtcclxuICAgICAgZWwuY3JlYXRlRGl2KCd0b2RvLWl0ZW0tdmlldy10b29sYmFyJywgKGVsKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJUb29sQmFyKGVsKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGVsLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctaXRlbXMnLCAoZWwpID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlckl0ZW1zKGVsKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyU2VhcmNoKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGFjdGl2ZUNsYXNzID0gKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5zb3J0U3RhdGUuc3RhdGUgPT0gVG9kb1NvcnRTdGF0ZXMuTm9uZSkgXHJcbiAgICAgICAgcmV0dXJuICcgbm9uZSc7XHJcbiAgICAgIGVsc2UgXHJcbiAgICAgICAgcmV0dXJuICcgYWN0aXZlJztcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc29ydExhYmVsID0gKHNvcnRTdGF0ZTpUb2RvU29ydFN0YXRlcykgPT4ge1xyXG4gICAgICBzd2l0Y2ggKHNvcnRTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuTm9uZTpcclxuICAgICAgICAgIHJldHVybiAnU29ydCBieTogbm9uZSc7XHJcbiAgICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5EYXRlRGVzYzpcclxuICAgICAgICAgIHJldHVybiAnU29ydCBieTogQWN0aW9uIERhdGUgRGVzY2VuZGluZyc7XHJcbiAgICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5EYXRlQXNjOlxyXG4gICAgICAgICAgcmV0dXJuICdTb3J0IGJ5OiBBY3Rpb24gRGF0ZSBBc2NlbmRpbmcnO1xyXG4gICAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuU3Rha2Vob2xkZXJEZXNjOlxyXG4gICAgICAgICAgcmV0dXJuICdTb3J0IGJ5OiBQZXJzb24gRGVzY2VuZGluZyc7XHJcbiAgICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5TdGFrZWhvbGRlckFzYzpcclxuICAgICAgICAgIHJldHVybiAnU29ydCBieTogUGVyc29uIEFzY2VuZGluZyc7XHJcbiAgICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5Qcm9qZWN0RGVzYzpcclxuICAgICAgICAgIHJldHVybiAnU29ydCBieTogUHJvamVjdCBEZXNjZW5kaW5nJztcclxuICAgICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLlByb2plY3RBc2M6XHJcbiAgICAgICAgICByZXR1cm4gJ1NvcnQgYnk6IFByb2plY3QgQXNjZW5kaW5nJztcclxuICAgICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLk1pc2NEZXNjOlxyXG4gICAgICAgICAgcmV0dXJuICdTb3J0IGJ5OiBNaXNjLXNuaXBwZXQgRGVzY2VuZGluZyc7XHJcbiAgICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5NaXNjQXNjOlxyXG4gICAgICAgICAgcmV0dXJuICdTb3J0IGJ5OiBNaXNjLXNuaXBwZXQgQXNjZW5kaW5nJztcclxuICAgICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLkZ1bGxUZXh0RGVzYzpcclxuICAgICAgICAgIHJldHVybiAnU29ydCBieTogRnVsbCBUZXh0IERlc2NlbmRpbmcnO1xyXG4gICAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuRnVsbFRleHRBc2M6XHJcbiAgICAgICAgICByZXR1cm4gJ1NvcnQgYnk6IEZ1bGwgVGV4dCBBc2NlbmRpbmcnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHt2YWx1ZTogdGhpcy5maWx0ZXJ9LCAoZWwpID0+IHtcclxuICAgICAgZWwuYWRkQ2xhc3MoJ3RvZG8tZmlsdGVyLWlucHV0Jyk7XHJcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCdwcm9qL3BlcnNvbiBSZXhFeHAgZmlsdGVyLCBjYXNlIGluc2Vuc2l0aXZlJyk7XHJcbiAgICAgIGVsLm9ua2V5dXAgPSAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0RmlsdGVyKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdihgdG9kby1pdGVtLXZpZXctc29ydCR7YWN0aXZlQ2xhc3MoKX1gLCAoZWwpID0+IHtcclxuICAgICAgZWwuYXBwZW5kQ2hpbGQoUmVuZGVySWNvbihJY29uLlNvcnQsIHNvcnRMYWJlbCh0aGlzLnNvcnRTdGF0ZS5zdGF0ZSkpKTtcclxuICAgICAgZWwub25DbGlja0V2ZW50KChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV4dFNvcnRTdGF0ZSA9ICh0aGlzLnNvcnRTdGF0ZS5zdGF0ZSArIDEpICUgdGhpcy5zb3J0U3RhdGVDb3VudDtcclxuICAgICAgICB0aGlzLnNldFNvcnRTdGF0ZSh7c3RhdGU6IG5leHRTb3J0U3RhdGV9KTtcclxuICAgICAgICAvLyg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsc29ydExhYmVsKG5leHRTb3J0U3RhdGUpKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyVG9vbEJhcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb25zdCBhY3RpdmVDbGFzcyA9IChwYW5lOiBUb2RvSXRlbVZpZXdQYW5lKSA9PiB7XHJcbiAgICAgIHJldHVybiBwYW5lID09PSB0aGlzLnN0YXRlLmFjdGl2ZVBhbmUgPyAnIGFjdGl2ZScgOiAnJztcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2V0QWN0aXZlUGFuZSA9IChwYW5lOiBUb2RvSXRlbVZpZXdQYW5lKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0ge1xyXG4gICAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgICAgYWN0aXZlUGFuZTogcGFuZSxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5zZXRWaWV3U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc0luYm94VmlzaWJsZSlcclxuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdihgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLkluYm94KX1gLCAoZWwpID0+IHtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChSZW5kZXJJY29uKEljb24uSW5ib3gsIHRoaXMucHJvcHMuaW5ib3hUb29sdGlwKSk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5JbmJveCkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc0FnaW5nVmlzaWJsZSlcclxuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdihgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLkFnaW5nKX1gLCAoZWwpID0+IHtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChSZW5kZXJJY29uKEljb24uQWdpbmcsIHRoaXMucHJvcHMuYWdpbmdUb29sdGlwKSk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5BZ2luZykpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc1RvZGF5VmlzaWJsZSlcclxuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdihgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLlRvZGF5KX1gLCAoZWwpID0+IHtcclxuICAgICAgICBlbC5hcHBlbmRDaGlsZChSZW5kZXJJY29uKEljb24uVG9kYXksIHRoaXMucHJvcHMudG9kYXlUb29sdGlwKSk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5Ub2RheSkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc1NjaGVkdWxlZFZpc2libGUpXHJcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoYHRvZG8taXRlbS12aWV3LXRvb2xiYXItaXRlbSR7YWN0aXZlQ2xhc3MoVG9kb0l0ZW1WaWV3UGFuZS5TY2hlZHVsZWQpfWAsIChlbCkgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5TY2hlZHVsZWQsIHRoaXMucHJvcHMuc2NoZWR1bGVkVG9vbHRpcCkpO1xyXG4gICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiBzZXRBY3RpdmVQYW5lKFRvZG9JdGVtVmlld1BhbmUuU2NoZWR1bGVkKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmlzU3Rha2Vob2xkZXJWaXNpYmxlKVxyXG4gICAgICBjb250YWluZXIuY3JlYXRlRGl2KGB0b2RvLWl0ZW0tdmlldy10b29sYmFyLWl0ZW0ke2FjdGl2ZUNsYXNzKFRvZG9JdGVtVmlld1BhbmUuU3Rha2Vob2xkZXIpfWAsIChlbCkgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5TdGFrZWhvbGRlciwgdGhpcy5wcm9wcy5zdGFrZWhvbGRlclRvb2x0aXApKTtcclxuICAgICAgICBlbC5vbkNsaWNrRXZlbnQoKCkgPT4gc2V0QWN0aXZlUGFuZShUb2RvSXRlbVZpZXdQYW5lLlN0YWtlaG9sZGVyKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmlzU29tZWRheVZpc2libGUpICBcclxuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdihgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLlNvbWVkYXkpfWAsIChlbCkgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5Tb21lZGF5LCB0aGlzLnByb3BzLnNvbWVkYXlUb29sdGlwKSk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5Tb21lZGF5KSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW5kZXJJdGVtcyhjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb25zdCBzb3J0VmlldyA9IChhOiBUb2RvSXRlbSwgYjogVG9kb0l0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuc29ydFZpZXcoYSxiKTtcclxuICAgIH07XHJcbiAgICBjb25zdCB0b2Rvc1RvUmVuZGVyID0gdGhpcy5wcm9wcy50b2Rvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcih0aGlzLmZpbHRlckZvclN0YXRlLCB0aGlzKTtcclxuICAgIGNvbnN0IHNvcnRlZFRvZG9zID0gdG9kb3NUb1JlbmRlci5zb3J0KHNvcnRWaWV3KTtcclxuICAgIHNvcnRlZFRvZG9zXHJcbiAgICAgIC5mb3JFYWNoKCh0b2RvLGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYoaW5kZXg+MCkge1xyXG4gICAgICAgICAgaWYoICh0b2RvLmlzV2FpdGluZ0Zvck5vdGUgJiYgdG9kb3NUb1JlbmRlcltpbmRleC0xXS5pc0Rpc2N1c3NXaXRoTm90ZSkgfHwgXHJcbiAgICAgICAgICAgICAgKHRvZG8uaXNQcm9taXNlZFRvTm90ZSAmJiBcclxuICAgICAgICAgICAgICAgICh0b2Rvc1RvUmVuZGVyW2luZGV4LTFdLmlzV2FpdGluZ0Zvck5vdGUgfHwgdG9kb3NUb1JlbmRlcltpbmRleC0xXS5pc0Rpc2N1c3NXaXRoTm90ZSkpIHx8XHJcbiAgICAgICAgICAgICAgKCF0b2RvLmlzUHJvbWlzZWRUb05vdGUgJiYgIXRvZG8uaXNXYWl0aW5nRm9yTm90ZSAmJiAhdG9kby5pc0Rpc2N1c3NXaXRoTm90ZSAmJiBcclxuICAgICAgICAgICAgICAgICh0b2Rvc1RvUmVuZGVyW2luZGV4LTFdLmlzV2FpdGluZ0Zvck5vdGUgfHwgdG9kb3NUb1JlbmRlcltpbmRleC0xXS5pc0Rpc2N1c3NXaXRoTm90ZSB8fCB0b2Rvc1RvUmVuZGVyW2luZGV4LTFdLmlzUHJvbWlzZWRUb05vdGUpKSApIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmNyZWF0ZUVsKCdocicsIHt9ICwoZWwpID0+IHtcclxuICAgICAgICAgICAgICBlbC5hZGRDbGFzcygndG9kby1pdGVtLXZpZXctZGl2aWRlcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LWl0ZW0nLCAoZWwpID0+IHtcclxuICAgICAgICAgIGVsLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctaXRlbS1jaGVja2JveCcsIChlbCkgPT4ge1xyXG4gICAgICAgICAgICBlbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSwgKGVsKSA9PiB7XHJcbiAgICAgICAgICAgICAgZWwuY2hlY2tlZCA9IHRvZG8uc3RhdHVzID09PSBUb2RvSXRlbVN0YXR1cy5Eb25lO1xyXG4gICAgICAgICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVRvZG8odG9kbyk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBlbC5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LWl0ZW0tZGVzY3JpcHRpb24nLCAoZWwpID0+IHtcclxuICAgICAgICAgICAgTWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bih0b2RvLmRlc2NyaXB0aW9uLCBlbCwgdG9kby5zb3VyY2VGaWxlUGF0aCwgdGhpcyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGVsLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctaXRlbS1saW5rJywgKGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5SZXZlYWwsICdPcGVuIGZpbGUnKSk7XHJcbiAgICAgICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5vcGVuRmlsZSh0b2RvKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNvcnRWaWV3KGE6IFRvZG9JdGVtLCBiOiBUb2RvSXRlbSkge1xyXG4gICAgbGV0IHNvcnRSZXN1bHQgPSAwO1xyXG4gICAgc3dpdGNoICh0aGlzLnNvcnRTdGF0ZS5zdGF0ZSkge1xyXG4gICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLk5vbmU6XHJcbiAgICAgICAgc29ydFJlc3VsdCA9IDA7YnJlYWs7XHJcbiAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuRGF0ZUFzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5hY3Rpb25EYXRlIDwgYi5hY3Rpb25EYXRlID8gLTEgOiBhLmFjdGlvbkRhdGUgPiBiLmFjdGlvbkRhdGUgPyAxIDogMDticmVhaztcclxuICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5EYXRlRGVzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5hY3Rpb25EYXRlID4gYi5hY3Rpb25EYXRlID8gLTEgOiBhLmFjdGlvbkRhdGUgPCBiLmFjdGlvbkRhdGUgPyAxIDogMDticmVhaztcclxuICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5TdGFrZWhvbGRlckFzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5wZXJzb24gPCBiLnBlcnNvbiA/IC0xIDogYS5wZXJzb24gPiBiLnBlcnNvbiA/IDEgOiAwO2JyZWFrO1xyXG4gICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLlN0YWtlaG9sZGVyRGVzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5wZXJzb24gPiBiLnBlcnNvbiA/IC0xIDogYS5wZXJzb24gPCBiLnBlcnNvbiA/IDEgOiAwO2JyZWFrO1xyXG4gICAgICBjYXNlIFRvZG9Tb3J0U3RhdGVzLlByb2plY3RBc2M6XHJcbiAgICAgICAgc29ydFJlc3VsdCA9IGEucHJvamVjdCA8IGIucHJvamVjdCA/IC0xIDogYS5wcm9qZWN0ID4gYi5wcm9qZWN0ID8gMSA6IDA7YnJlYWs7XHJcbiAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuUHJvamVjdERlc2M6XHJcbiAgICAgICAgc29ydFJlc3VsdCA9IGEucHJvamVjdCA+IGIucHJvamVjdCA/IC0xIDogYS5wcm9qZWN0IDwgYi5wcm9qZWN0ID8gMSA6IDA7YnJlYWs7XHJcbiAgICAgIGNhc2UgVG9kb1NvcnRTdGF0ZXMuTWlzY0FzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5taXNjIDwgYi5taXNjID8gLTEgOiBhLm1pc2MgPiBiLm1pc2MgPyAxIDogMDticmVhaztcclxuICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5NaXNjRGVzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5taXNjID4gYi5taXNjID8gLTEgOiBhLm1pc2MgPCBiLm1pc2MgPyAxIDogMDticmVhaztcclxuICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5GdWxsVGV4dEFzYzpcclxuICAgICAgICBzb3J0UmVzdWx0ID0gYS5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDwgYi5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpID8gLTEgOiBhLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgPiBiLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgPyAxIDogMDticmVhaztcclxuICAgICAgY2FzZSBUb2RvU29ydFN0YXRlcy5GdWxsVGV4dERlc2M6XHJcbiAgICAgICAgc29ydFJlc3VsdCA9IGEuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA+IGIuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA/IC0xIDogYS5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDwgYi5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpID8gMSA6IDA7YnJlYWs7XHJcbiAgICB9IFxyXG5cclxuICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVBhbmUgPT0gVG9kb0l0ZW1WaWV3UGFuZS5TdGFrZWhvbGRlcikge1xyXG4gICAgICBpZiAoYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYi5pc0Rpc2N1c3NXaXRoTm90ZSkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYS5pc1dhaXRpbmdGb3JOb3RlICYmICFiLmlzRGlzY3Vzc1dpdGhOb3RlICYmICFiLmlzV2FpdGluZ0Zvck5vdGUpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGEuaXNQcm9taXNlZFRvTm90ZSAmJiAhYi5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYi5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChiLmlzRGlzY3Vzc1dpdGhOb3RlICYmICFhLmlzRGlzY3Vzc1dpdGhOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGIuaXNXYWl0aW5nRm9yTm90ZSAmJiAhYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYS5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGIuaXNQcm9taXNlZFRvTm90ZSAmJiAhYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYS5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH0gXHJcbiAgICAgIHJldHVybiBzb3J0UmVzdWx0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNvcnRSZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZpbHRlckZvclN0YXRlKHZhbHVlOiBUb2RvSXRlbSwgX2luZGV4OiBudW1iZXIsIF9hcnJheTogVG9kb0l0ZW1bXSk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgaXNQZXJzb25NYXRjaCA9IHZhbHVlLnBlcnNvbi5tYXRjaCh0aGlzLmZpbHRlclJlZ2V4cCkgIT0gbnVsbDsgXHJcbiAgICBjb25zdCBpc1Byb2plY3RNYXRjaCA9IHZhbHVlLnByb2plY3QubWF0Y2godGhpcy5maWx0ZXJSZWdleHApICE9IG51bGw7IFxyXG4gICAgY29uc3QgaXNNaXNjTWF0Y2ggPSB2YWx1ZS5taXNjLm1hdGNoKHRoaXMuZmlsdGVyUmVnZXhwKSAhPSBudWxsOyAgXHJcbiAgICBjb25zdCBpc0ZpbHRlclNldCA9IHRoaXMuZmlsdGVyIT1cIlwiO1xyXG4gICAgY29uc3QgaGFzUGVyc29uT3JQcm9qZWN0ID0gdmFsdWUucGVyc29uIT0nJyB8fCB2YWx1ZS5wcm9qZWN0IT0nJztcclxuICAgIGNvbnN0IGlzUGVvcGxlQWN0aW9uTm90ZSA9IHZhbHVlLmlzRGlzY3Vzc1dpdGhOb3RlIHx8IHZhbHVlLmlzV2FpdGluZ0Zvck5vdGUgfHwgdmFsdWUuaXNQcm9taXNlZFRvTm90ZTtcclxuICAgIGlmICghaXNGaWx0ZXJTZXQgfHwgaXNQZXJzb25NYXRjaCB8fCBpc1Byb2plY3RNYXRjaCB8fCBpc01pc2NNYXRjaCkge1xyXG4gICAgICBjb25zdCBpc1RvZGF5ID0gKGRhdGU6IERhdGUpID0+IHtcclxuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICBkYXRlLmdldERhdGUoKSA9PSB0b2RheS5nZXREYXRlKCkgJiZcclxuICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSA9PSB0b2RheS5nZXRNb250aCgpICYmXHJcbiAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCkgPT0gdG9kYXkuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBpc0JlZm9yZVRvZGF5ID0gKGRhdGU6IERhdGUpID0+IHtcclxuICAgICAgICBsZXQgdG9kYXkgPSAobmV3IERhdGUoKSlcclxuICAgICAgICB0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICByZXR1cm4gZGF0ZSA8IHRvZGF5O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgaXNBZ2luZ05vdGUgPSB2YWx1ZS5hY3Rpb25EYXRlICYmIGlzQmVmb3JlVG9kYXkodmFsdWUuYWN0aW9uRGF0ZSk7XHJcbiAgICAgIGNvbnN0IGlzVG9kYXlOb3RlID0gdmFsdWUuYWN0aW9uRGF0ZSAmJiBpc1RvZGF5KHZhbHVlLmFjdGlvbkRhdGUpO1xyXG4gICAgICBjb25zdCBpc1NjaGVkdWxlZE5vdGUgPSAhdmFsdWUuaXNTb21lZGF5TWF5YmVOb3RlICYmIHZhbHVlLmFjdGlvbkRhdGUgJiYgIWlzVG9kYXlOb3RlICYmICFpc0FnaW5nTm90ZTtcclxuXHJcbiAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5hY3RpdmVQYW5lKSB7XHJcbiAgICAgICAgY2FzZSBUb2RvSXRlbVZpZXdQYW5lLkluYm94OlxyXG4gICAgICAgICAgcmV0dXJuICF2YWx1ZS5pc1NvbWVkYXlNYXliZU5vdGUgJiYgIWlzVG9kYXlOb3RlICYmICFpc1NjaGVkdWxlZE5vdGUgJiYgIWlzQWdpbmdOb3RlICYmICEoaXNQZW9wbGVBY3Rpb25Ob3RlICYmIGhhc1BlcnNvbk9yUHJvamVjdCk7XHJcbiAgICAgICAgY2FzZSBUb2RvSXRlbVZpZXdQYW5lLlNjaGVkdWxlZDpcclxuICAgICAgICAgIHJldHVybiBpc1NjaGVkdWxlZE5vdGU7XHJcbiAgICAgICAgY2FzZSBUb2RvSXRlbVZpZXdQYW5lLlNvbWVkYXk6XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWUuaXNTb21lZGF5TWF5YmVOb3RlO1xyXG4gICAgICAgIGNhc2UgVG9kb0l0ZW1WaWV3UGFuZS5Ub2RheTpcclxuICAgICAgICAgIHJldHVybiBpc1RvZGF5Tm90ZTtcclxuICAgICAgICBjYXNlIFRvZG9JdGVtVmlld1BhbmUuQWdpbmc6XHJcbiAgICAgICAgICAgIHJldHVybiBpc0FnaW5nTm90ZTtcclxuICAgICAgICBjYXNlIFRvZG9JdGVtVmlld1BhbmUuU3Rha2Vob2xkZXI6XHJcbiAgICAgICAgICByZXR1cm4gaGFzUGVyc29uT3JQcm9qZWN0ICYmIGlzUGVvcGxlQWN0aW9uTm90ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdG9nZ2xlVG9kbyh0b2RvOiBUb2RvSXRlbSk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9wcy50b2dnbGVUb2RvKHRvZG8sIFRvZG9JdGVtU3RhdHVzLnRvZ2dsZVN0YXR1cyh0b2RvLnN0YXR1cykpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvcGVuRmlsZSh0b2RvOiBUb2RvSXRlbSk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9wcy5vcGVuRmlsZSh0b2RvLnNvdXJjZUZpbGVQYXRoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVG9kb0l0ZW0sIFRvZG9JdGVtU3RhdHVzIH0gZnJvbSAnLi4vbW9kZWwvVG9kb0l0ZW0nO1xyXG5pbXBvcnQgeyBUb2RvSXRlbUluZGV4UHJvcHN9IGZyb20gJy4uL21vZGVsL1RvZG9JbmRleCdcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvUGFyc2VyIHtcclxuICBwcm9wczogVG9kb0l0ZW1JbmRleFByb3BzO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogVG9kb0l0ZW1JbmRleFByb3BzKSB7XHJcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwYXJzZVRhc2tzKGZpbGVQYXRoOiBzdHJpbmcsIGZpbGVDb250ZW50czogc3RyaW5nKTogUHJvbWlzZTxUb2RvSXRlbVtdPiB7XHJcbiAgICBjb25zdCBwYXR0ZXJuID0gLygtfFxcKikgXFxbKFxcc3x4KT9cXF1cXHMoLiopL2c7XHJcbiAgICByZXR1cm4gWy4uLmZpbGVDb250ZW50cy5tYXRjaEFsbChwYXR0ZXJuKV0ubWFwKCh0YXNrKSA9PiB0aGlzLnBhcnNlVGFzayhmaWxlUGF0aCwgdGFzaykpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwYXJzZVRhc2soZmlsZVBhdGg6IHN0cmluZywgZW50cnk6IFJlZ0V4cE1hdGNoQXJyYXkpOiBUb2RvSXRlbSB7XHJcbiAgICAvL2RlYnVnZ2VyO1xyXG4gICAgY29uc3QgdG9kb0l0ZW1PZmZzZXQgPSAyOyAvLyBTdHJpcCBvZmYgYC18KiBgXHJcbiAgICBjb25zdCBzdGF0dXMgPSBlbnRyeVsyXSA9PT0gJ3gnID8gVG9kb0l0ZW1TdGF0dXMuRG9uZSA6IFRvZG9JdGVtU3RhdHVzLlRvZG87XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGVudHJ5WzNdO1xyXG5cclxuICAgIGNvbnN0IGRhdGVNYXRjaGVzID0gZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5kYXRlUmVnZXhwKTtcclxuICAgIGxldCBhY3Rpb25EYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgaWYgKGRhdGVNYXRjaGVzICE9IG51bGwpIHtcclxuICAgICAgaWYoZGF0ZU1hdGNoZXMubGVuZ3RoID09IDQpIHtcclxuICAgICAgICBhY3Rpb25EYXRlID0gbmV3IERhdGUocGFyc2VJbnQoZGF0ZU1hdGNoZXNbMV0pLCBwYXJzZUludChkYXRlTWF0Y2hlc1syXSktMSxwYXJzZUludChkYXRlTWF0Y2hlc1szXSksMCwgMCwgMCwgMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZGF0ZU1hdGNoZXMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICBhY3Rpb25EYXRlID0gbmV3IERhdGUoZGF0ZU1hdGNoZXNbMV0pO1xyXG4gICAgICB9IFxyXG4gICAgfSAgXHJcbiAgICBjb25zdCBwZXJzb25NYXRjaGVzID0gZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5wZXJzb25SZWdleHApO1xyXG4gICAgY29uc3QgcGVyc29uID0gcGVyc29uTWF0Y2hlcyAhPSBudWxsID8gcGVyc29uTWF0Y2hlc1sxXSA6IFwiXCI7XHJcblxyXG4gICAgY29uc3QgcHJvamVjdE1hdGNoZXMgPSBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLnByb2plY3RSZWdleHApO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RNYXRjaGVzICE9IG51bGwgPyBwcm9qZWN0TWF0Y2hlc1sxXSA6IFwiXCI7XHJcblxyXG4gICAgY29uc3QgbWlzY01hdGNoZXMgPSBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLm1pc2NSZWdleHApO1xyXG4gICAgY29uc3QgbWlzYyA9IG1pc2NNYXRjaGVzICE9IG51bGwgPyBtaXNjTWF0Y2hlcy5sZW5ndGggPT0gMiA/IG1pc2NNYXRjaGVzWzFdIDogXCJcIiA6IFwiXCI7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBUb2RvSXRlbShcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgcGVyc29uLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgIHByb2plY3QudG9Mb3dlckNhc2UoKSxcclxuICAgICAgbWlzYy50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLnNvbWVkYXlNYXliZVJlZ2V4cCkgIT0gbnVsbCxcclxuICAgICAgZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5kaXNjdXNzV2l0aFJlZ2V4cCkgIT0gbnVsbCxcclxuICAgICAgZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy53YWl0aW5nRm9yUmVnZXhwKSAhPSBudWxsLFxyXG4gICAgICBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLnByb21pc2VkVG9SZWdleHApICE9IG51bGwsXHJcbiAgICAgIGZpbGVQYXRoLFxyXG4gICAgICAoZW50cnkuaW5kZXggPz8gMCkgKyB0b2RvSXRlbU9mZnNldCxcclxuICAgICAgZW50cnlbMF0ubGVuZ3RoIC0gdG9kb0l0ZW1PZmZzZXQsXHJcbiAgICAgIGFjdGlvbkRhdGUsXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBUQWJzdHJhY3RGaWxlLCBURmlsZSwgVmF1bHQgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IFRvZG9JdGVtLCBUb2RvSXRlbVN0YXR1cyB9IGZyb20gJy4uL21vZGVsL1RvZG9JdGVtJztcclxuaW1wb3J0IHsgVG9kb1BhcnNlciB9IGZyb20gJy4uL21vZGVsL1RvZG9QYXJzZXInO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb2RvSXRlbUluZGV4UHJvcHMge1xyXG4gIHBlcnNvblJlZ2V4cDogICAgICAgUmVnRXhwO1xyXG4gIHByb2plY3RSZWdleHA6ICAgICAgUmVnRXhwO1xyXG4gIG1pc2NSZWdleHA6ICAgICAgICAgUmVnRXhwO1xyXG4gIGRhdGVSZWdleHA6ICAgICAgICAgUmVnRXhwO1xyXG4gIGRpc2N1c3NXaXRoUmVnZXhwOiAgUmVnRXhwO1xyXG4gIHdhaXRpbmdGb3JSZWdleHA6ICAgUmVnRXhwO1xyXG4gIHByb21pc2VkVG9SZWdleHA6ICAgUmVnRXhwO1xyXG4gIHNvbWVkYXlNYXliZVJlZ2V4cDogUmVnRXhwO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVG9kb0luZGV4IHtcclxuICBwcml2YXRlIHZhdWx0OiBWYXVsdDtcclxuICBwcml2YXRlIHRvZG9zOiBNYXA8c3RyaW5nLCBUb2RvSXRlbVtdPjtcclxuICBwcml2YXRlIGxpc3RlbmVyczogKCh0b2RvczogVG9kb0l0ZW1bXSkgPT4gdm9pZClbXTtcclxuICBwcml2YXRlIHByb3BzOiBUb2RvSXRlbUluZGV4UHJvcHM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHZhdWx0OiBWYXVsdCwgbGlzdGVuZXI6ICh0b2RvczogVG9kb0l0ZW1bXSkgPT4gdm9pZCwgcHJvcHM6IFRvZG9JdGVtSW5kZXhQcm9wcykge1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy52YXVsdCA9IHZhdWx0O1xyXG4gICAgdGhpcy50b2RvcyA9IG5ldyBNYXA8c3RyaW5nLCBUb2RvSXRlbVtdPigpO1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbbGlzdGVuZXJdO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVsb2FkSW5kZXgocHJvcHM6IFRvZG9JdGVtSW5kZXhQcm9wcykge1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGluaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAvLyBUT0RPOiBwZXJzaXN0IGluZGV4ICYgbGFzdCBzeW5jIHRpbWVzdGFtcDsgb25seSBwYXJzZSBmaWxlcyB0aGF0IGNoYW5nZWQgc2luY2UgdGhlbi5cclxuICAgIGNvbnN0IHRvZG9NYXAgPSBuZXcgTWFwPHN0cmluZywgVG9kb0l0ZW1bXT4oKTtcclxuICAgIGxldCBudW1iZXJPZlRvZG9zID0gMDtcclxuICAgIGNvbnN0IHRpbWVTdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgIGNvbnN0IG1hcmtkb3duRmlsZXMgPSB0aGlzLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBtYXJrZG93bkZpbGVzKSB7XHJcbiAgICAgIGNvbnN0IHRvZG9zID0gYXdhaXQgdGhpcy5wYXJzZVRvZG9zSW5GaWxlKGZpbGUpO1xyXG4gICAgICBudW1iZXJPZlRvZG9zICs9IHRvZG9zLmxlbmd0aDtcclxuICAgICAgaWYgKHRvZG9zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0b2RvTWFwLnNldChmaWxlLnBhdGgsIHRvZG9zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvdGFsVGltZU1zID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lU3RhcnQ7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgYFtvYnNpZGlhbi1zdGFrZWhvbGRlcl9hY3Rpb24tcGx1Z2luXSBQYXJzZWQgJHtudW1iZXJPZlRvZG9zfSBUT0RPcyBmcm9tICR7bWFya2Rvd25GaWxlcy5sZW5ndGh9IG1hcmtkb3duIGZpbGVzIGluICgke1xyXG4gICAgICAgIHRvdGFsVGltZU1zIC8gMTAwMC4wXHJcbiAgICAgIH1zKWAsXHJcbiAgICApO1xyXG4gICAgdGhpcy50b2RvcyA9IHRvZG9NYXA7XHJcbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnRIYW5kbGVycygpO1xyXG4gICAgdGhpcy5pbnZva2VMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldFN0YXR1cyh0b2RvOiBUb2RvSXRlbSwgbmV3U3RhdHVzOiBUb2RvSXRlbVN0YXR1cyk6IHZvaWQge1xyXG4gICAgY29uc3QgZmlsZSA9IHRoaXMudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRvZG8uc291cmNlRmlsZVBhdGgpIGFzIFRGaWxlO1xyXG4gICAgY29uc3QgZmlsZUNvbnRlbnRzID0gdGhpcy52YXVsdC5yZWFkKGZpbGUpO1xyXG4gICAgZmlsZUNvbnRlbnRzLnRoZW4oKGM6IHN0cmluZykgPT4ge1xyXG4gICAgICBjb25zdCBuZXdUb2RvID0gYFske25ld1N0YXR1cyA9PT0gVG9kb0l0ZW1TdGF0dXMuRG9uZSA/ICd4JyA6ICcgJ31dICR7dG9kby5kZXNjcmlwdGlvbn1gO1xyXG4gICAgICBjb25zdCBuZXdDb250ZW50cyA9IGMuc3Vic3RyaW5nKDAsIHRvZG8uc3RhcnRJbmRleCkgKyBuZXdUb2RvICsgYy5zdWJzdHJpbmcodG9kby5zdGFydEluZGV4ICsgdG9kby5sZW5ndGgpO1xyXG4gICAgICB0aGlzLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50cyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5kZXhBYnN0cmFjdEZpbGUoZmlsZTogVEFic3RyYWN0RmlsZSkge1xyXG4gICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmluZGV4RmlsZShmaWxlIGFzIFRGaWxlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5kZXhGaWxlKGZpbGU6IFRGaWxlKSB7XHJcbiAgICB0aGlzLnBhcnNlVG9kb3NJbkZpbGUoZmlsZSkudGhlbigodG9kb3MpID0+IHtcclxuICAgICAgdGhpcy50b2Rvcy5zZXQoZmlsZS5wYXRoLCB0b2Rvcyk7XHJcbiAgICAgIHRoaXMuaW52b2tlTGlzdGVuZXJzKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xlYXJJbmRleChwYXRoOiBzdHJpbmcsIHNpbGVudCA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnRvZG9zLmRlbGV0ZShwYXRoKTtcclxuICAgIGlmICghc2lsZW50KSB7XHJcbiAgICAgIHRoaXMuaW52b2tlTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0UHJvcHMoc2V0dGVyOiAoY3VycmVudFByb3BzOiBUb2RvSXRlbUluZGV4UHJvcHMpID0+IFRvZG9JdGVtSW5kZXhQcm9wcyk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9wcyA9IHNldHRlcih0aGlzLnByb3BzKTtcclxuICAgIC8vZG8gSSBuZWVkIHRvIGRvIGFueXRoaW5nIGVsc2U/P1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBwYXJzZVRvZG9zSW5GaWxlKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxUb2RvSXRlbVtdPiB7XHJcbiAgICAvLyBUT0RPOiBEb2VzIGl0IG1ha2Ugc2Vuc2UgdG8gaW5kZXggY29tcGxldGVkIFRPRE9zIGF0IGFsbD9cclxuICAgIGNvbnN0IHRvZG9QYXJzZXIgPSBuZXcgVG9kb1BhcnNlcih0aGlzLnByb3BzKTtcclxuICAgIGNvbnN0IGZpbGVDb250ZW50cyA9IGF3YWl0IHRoaXMudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcclxuICAgIHJldHVybiB0b2RvUGFyc2VyXHJcbiAgICAgIC5wYXJzZVRhc2tzKGZpbGUucGF0aCwgZmlsZUNvbnRlbnRzKVxyXG4gICAgICAudGhlbigodG9kb3MpID0+IHRvZG9zLmZpbHRlcigodG9kbykgPT4gdG9kby5zdGF0dXMgPT09IFRvZG9JdGVtU3RhdHVzLlRvZG8pKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVnaXN0ZXJFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy52YXVsdC5vbignY3JlYXRlJywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy52YXVsdC5vbignbW9kaWZ5JywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy52YXVsdC5vbignZGVsZXRlJywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5jbGVhckluZGV4KGZpbGUucGF0aCk7XHJcbiAgICB9KTtcclxuICAgIC8vIFdlIGNvdWxkIHNpbXBseSBjaGFuZ2UgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIG9sZCBwYXRoLCBidXQgcGFyc2luZyBhZ2FpbiBkb2VzIHRoZSB0cmljayBhcyB3ZWxsXHJcbiAgICB0aGlzLnZhdWx0Lm9uKCdyZW5hbWUnLCAoZmlsZTogVEFic3RyYWN0RmlsZSwgb2xkUGF0aDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xlYXJJbmRleChvbGRQYXRoKTtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbnZva2VMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCB0b2RvcyA9IChbXSBhcyBUb2RvSXRlbVtdKS5jb25jYXQoLi4uQXJyYXkuZnJvbSh0aGlzLnRvZG9zLnZhbHVlcygpKSk7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIodG9kb3MpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmd9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHR5cGUgQWN0aW9uVHJhY2tlclBsdWdpbiBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvblRyYWNrZXJTZXR0aW5ncyB7XHJcblx0cGVyc29uUmVnZXhwU3RyaW5nOiAgICAgICAgc3RyaW5nLFxyXG4gIHByb2plY3RSZWdleHBTdHJpbmc6ICAgICAgIHN0cmluZyxcclxuICBtaXNjUmVnZXhwU3RyaW5nOiAgICAgICAgICBzdHJpbmcsXHJcbiAgZGF0ZVJlZ2V4cFN0cmluZzogICAgICAgICAgc3RyaW5nLFxyXG4gIGRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nOiAgIHN0cmluZyxcclxuICB3YWl0aW5nRm9yUmVnZXhwU3RyaW5nOiAgICBzdHJpbmcsXHJcbiAgcHJvbWlzZWRUb1JlZ2V4cFN0cmluZzogICAgc3RyaW5nLFxyXG4gIHNvbWVkYXlNYXliZVJlZ2V4cFN0cmluZzogIHN0cmluZyxcclxuICBpc0luYm94VmlzaWJsZTogICAgICAgICAgICBib29sZWFuLFxyXG4gIGlzQWdpbmdWaXNpYmxlOiAgICAgICAgICAgIGJvb2xlYW4sXHJcbiAgaXNUb2RheVZpc2libGU6ICAgICAgICAgICAgYm9vbGVhbixcclxuICBpc1NjaGVkdWxlZFZpc2libGU6ICAgICAgICBib29sZWFuLFxyXG4gIGlzU3Rha2Vob2xkZXJWaXNpYmxlOiAgICAgIGJvb2xlYW4sXHJcbiAgaXNTb21lZGF5VmlzaWJsZTogICAgICAgICAgYm9vbGVhbixcclxuICBpbmJveFRvb2x0aXA6ICAgICAgICAgICAgICBzdHJpbmcsXHJcbiAgYWdpbmdUb29sdGlwOiAgICAgICAgICAgICAgc3RyaW5nLFxyXG4gIHRvZGF5VG9vbHRpcDogICAgICAgICAgICAgIHN0cmluZyxcclxuICBzY2hlZHVsZWRUb29sdGlwOiAgICAgICAgICBzdHJpbmcsXHJcbiAgc3Rha2Vob2xkZXJUb29sdGlwOiAgICAgICAgc3RyaW5nLFxyXG4gIHNvbWVkYXlUb29sdGlwOiAgICAgICAgICAgIHN0cmluZyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEFjdGlvblRyYWNrZXJTZXR0aW5ncyA9IHtcclxuXHRwZXJzb25SZWdleHBTdHJpbmc6ICAgICAgICAnXFxcXFt7Mn1QZW9wbGVcXFxcLyguKj8pXFxcXF17Mn0nLFxyXG4gIHByb2plY3RSZWdleHBTdHJpbmc6ICAgICAgICdcXFxcW3syfVByb2plY3RzXFxcXC8oLio/KVxcXFxdezJ9JyxcclxuICBtaXNjUmVnZXhwU3RyaW5nOiAgICAgICAgICAnJyxcclxuICBkYXRlUmVnZXhwU3RyaW5nOiAgICAgICAgICAnIyhcXFxcZHs0fSlcXFxcLyhcXFxcZHsyfSlcXFxcLyhcXFxcZHsyfSknLFxyXG4gIGRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nOiAgICcjKGRpc2N1c3NXaXRoKScsXHJcbiAgd2FpdGluZ0ZvclJlZ2V4cFN0cmluZzogICAgJyMod2FpdGluZ0ZvciknLFxyXG4gIHByb21pc2VkVG9SZWdleHBTdHJpbmc6ICAgICcjKHByb21pc2VkVG8pJyxcclxuICBzb21lZGF5TWF5YmVSZWdleHBTdHJpbmc6ICAnIyhzb21lZGF5KScsXHJcbiAgaXNJbmJveFZpc2libGU6ICAgICAgICAgICAgdHJ1ZSxcclxuICBpc0FnaW5nVmlzaWJsZTogICAgICAgICAgICB0cnVlLFxyXG4gIGlzVG9kYXlWaXNpYmxlOiAgICAgICAgICAgIHRydWUsXHJcbiAgaXNTY2hlZHVsZWRWaXNpYmxlOiAgICAgICAgdHJ1ZSxcclxuICBpc1N0YWtlaG9sZGVyVmlzaWJsZTogICAgICB0cnVlLFxyXG4gIGlzU29tZWRheVZpc2libGU6ICAgICAgICAgIHRydWUsXHJcbiAgaW5ib3hUb29sdGlwOiAgICAgICAgICAgICAgJ0luYm94OiBObyBkYXRlIHNldCwgbm8gc3Rha2Vob2xkZXIgYWN0aW9uIHNldCwgbm90IGEgc29tZWRheSAvIG1heWJlIGl0ZW0uJyxcclxuICBhZ2luZ1Rvb2x0aXA6ICAgICAgICAgICAgICAnQWdpbmcnLFxyXG4gIHRvZGF5VG9vbHRpcDogICAgICAgICAgICAgICdTY2hlZHVsZWQgZm9yIFRvZGF5JyxcclxuICBzY2hlZHVsZWRUb29sdGlwOiAgICAgICAgICAnU2NoZWR1bGVkIGZvciBhIGZ1dHVyZSBkYXRlJyxcclxuICBzdGFrZWhvbGRlclRvb2x0aXA6ICAgICAgICAnU3Rha2Vob2xkZXIgYW5kIFByb2plY3QgYWN0aW9uczogZGlzY3Vzc1dpdGgsIHByb21pc2VkVG8sIHdhaXRpbmdGb3IuIE9ubHkgaXRlbXMgdGhhdCBoYXZlIGEgdmFsaWQgcHJvamVjdCBvciBwZXJzb24gd2lsbCBzaG93IHVwIGhlcmUuIFN0YWtlaG9sZGVyIGFjdGlvbnMgd2l0aG91dCBwcm9qZWN0IG9yIHBlcnNvbiBhcmUgaW4gdGhlIEluYm94LicsXHJcbiAgc29tZWRheVRvb2x0aXA6ICAgICAgICAgICAgJ1RhZ2dlZCBhcyBTb21lZGF5IC8gTWF5YmUnLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aW9uVHJhY2tlclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IEFjdGlvblRyYWNrZXJQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEFjdGlvblRyYWNrZXJQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGxldCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG5cdFx0dGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDEnLCB7dGV4dDogJ1NlbGVjdG9ycyd9KTtcclxuICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7dGV4dDogJ1NlbGVjdG9ycyBhcmUgcmVndWxhciBleHByZXNzaW9ucyB0aGF0IHNlbGVjdCBzcGVjaWZpYyBwYXJ0IG9mIHRoZSBhY3Rpb24uICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlc2UgdmFsdWVzIGFyZSB1c2VkIHRvIGNvbnRyb2wgd2hhdCBpcyBwcmVzZW50ZWQgaW4gZWFjaCB2aWV3IGFuZC9vciB0byBmaWx0ZXIgdGhlIHZpZXdzLid9KTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHt0ZXh0OiAnU25pcGV0cyd9KTtcclxuICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7dGV4dDogJ1VzZSB0aGVzZSBzZWxlY3RvcnMgdG8gY2FwdHVyZSBzcGVjaWZpYyBpbmZvcm1hdGlvbiBmcm9tIHlvdXIgYWN0aW9uIGl0ZW0uICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1lvdSBjYW4gZmlsdGVyIHZpZXcgcmVzdWx0cyB3aXRoIHRoZXNlIHVzaW5nIHRoZSBzZWFyY2ggYm94IGF0IHRoZSB0b3AuICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWxzbyB0aGUgXCJTdGFrZWhvbGRlciBhbmQgcHJvamVjdHMgYWN0aW9uc1wiIHZpZXcgb25seSBzaG93cyBhY3Rpb25zICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoYXQgaGF2ZSBlaXRoZXIgYSBQcm9qZWN0IG9yIGFuIEFjdGlvbiBQYXJ0eS4gJ30pO1xyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnVGhlIHBhdHRlcm5zIHdpbGwgb25seSBjYXB0dXJlIHRoZSBmaXJzdCBtYXRjaC4gSWYgeW91IG1lbnRpb24gbXVsdGlwbGUgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwZW9wbGUgYW5kIHByb2plY3RzIGluIGEgVE9ETywgeW91IG11c3QgcGxhY2UgdGhlIGFjdGlvbiBwYXJ0eSBmaXJzdC4gRm9yIGV4YW1wbGU6J30pO1xyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnWyBdICNkaXNjdXNzV2l0aCBbW1Blb3BsZS9DYXRoZXJpbmVdXSB3aGF0IHByZXNlbnQgdG8gYnkgZm9yIFtbUGVvcGxlL0thdGVdXSBhcyBhIHJlY29nbml0aW9uICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9yIGFjaGlldmVtZW50cyBvbiBbW1Byb2plY3QvU2VjcmV0IGNhbXBhaWduXV0uJ30pO1xyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnQ2F0aGVyaW5lIHdpbGwgYmUgaWRlbnRpZmllZCBhcyB0aGUgQWN0aW9uIFBhcnR5IGFuZCBTZWNyZXQgY2FtcGFpZ24gYXMgdGhlIFByb2plY3QuJ30pO1xyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdBY3Rpb24gUGFydHknKSBcclxuXHRcdFx0LnNldERlc2MoJ1RoaXMgaXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpZGVudGlmeSB0aGUgYWN0aW9uIHBhcnR5IGluIHRoZSBhY3Rpb24uIFVzZWQgZm9yIGZpbHRlcmluZyB0b2RvcyBieSBwZXJzb24uJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdcXFxcW3syfVBlb3BsZVxcXFwvKC4qPylcXFxcXXsyfScpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcnNvblJlZ2V4cFN0cmluZylcclxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZXJzb25SZWdleHBTdHJpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVGaWx0ZXJTZXR0aW5ncygpO1xyXG5cdFx0XHRcdH0pKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ1Byb2plY3QnKVxyXG4gICAgICAuc2V0RGVzYygnVGhpcyBpcyB0aGUgcmVndWxhciBleHByZXNzaW9uIHRvIGlkZW50aWZ5IHRoZSBwcm9qZWN0IGluIHRoZSBhY3Rpb24uIFVzZWQgZm9yIGZpbHRlcmluZyB0b2RvcyBieSBwcm9qZWN0IG5hbWUuJylcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdcXFxcW3syfVByb2plY3RzXFxcXC8oLio/KVxcXFxdezJ9JylcclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvamVjdFJlZ2V4cFN0cmluZylcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRmlsdGVyU2V0dGluZ3MoKTtcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ01pc2NlbGxhbmVvdXMnKVxyXG4gICAgICAuc2V0RGVzYygnVGhpcyBpcyB0aGUgcmVndWxhciBleHByZXNzaW9uIHRvIGNhcHR1cmUgd2hhdCBldmVyIG90aGVyIHBhcnQgb2YgdGhlIGFjdGlvbiB5b3UgcHJlZmVyIHRvIGNhcHR1cmUuICcgK1xyXG4gICAgICAgICAgICAgICAnVGhpcyBzbmlwZXQgd2lsbCBvbmx5IGJlIHVzZWQgaW4gdGhlIHNlYXJjaCBib3ggYXQgdGhlIHRvcCBvZiB0aGUgTy1HVEQgcGFuZWwuIERlZmF1bHQgaXMgdG8gY2FwdHVyZSBub3RoaW5nLiAnICtcclxuICAgICAgICAgICAgICAgJ3Nob3VsZCB5b3Ugd2FudCB0byBjYXB0dXJlIHRoZSB3aG9sZSBhY3Rpb24gbGluZSBmb3IgZXhhbXBsZSwgY2hhbmdlIHRoZSBwYXR0ZXJuIHRvOiAoLiopICcpXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRQbGFjZWhvbGRlcignKC4qKScpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1pc2NSZWdleHBTdHJpbmcpXHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubWlzY1JlZ2V4cFN0cmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZUZpbHRlclNldHRpbmdzKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gIFxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ0RhdGUnfSk7XHJcbiAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdwJywge3RleHQ6ICdUaGlzIGlzIHRoZSBhY3Rpb25zXFwncyBkdWUgZGF0ZS4gSWYgc2V0IHlvdXIgYWN0aW9uIHdpbGwgc2hvdyB1cCBpbiBvbmUgb2YgdGhlIGRhdGUgZmlsdGVyZWQgdmlld3M6ICcgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FnaW5nIChkYXRlIGlzIG92ZXJkdWUpLCBUb2RheSAoZGF0ZSBpcyB0b2RheSksIFNjaGVkdWxlZCAoZnV0dXJlIGRhdGUpLid9KTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKCdEYXRlJylcclxuICAgICAgICAuc2V0RGVzYygnVGhpcyBpcyB0aGUgcmVndWxhciBleHByZXNzaW9uIHRvIGdldCB0aGUgZGF0ZSBmb3IgYW4gYWN0aW9uLiBZb3UgaGF2ZSB0d28gb3B0aW9ucy4gSWYgeW91ciBSZWdFeHAgY2FwdHVyZXMgMyB2YWx1ZXMsIHRoZW4gJytcclxuICAgICAgICAgICAgICAgICAndGhlIGZpcnN0IG11c3QgYmUgdGhlIHllYXIgKHl5eXkpLCB0aGUgc2Nlb25kIHRoZSBtb250aCAobW0pLCB0aGUgdGhpcmQgdGhlIGRheSAoZGQpLiAnICtcclxuICAgICAgICAgICAgICAgICAnSWYgeW91ciBSZWdFeHAgY2FwdHVyZXMgYSBzaW5nbGUgdmFsdWUsIHRoZW4gaXQgbXVzdCBiZSBhIHZhbGlkIGRhdGUgZm9ybWF0IGJhc2VkIG9uIHlvdXIgcmVnaW9uYWwgc2V0dGluZ3MuIEZvciBleGFtcGxlOiAnICtcclxuICAgICAgICAgICAgICAgICAnIyhcXFxcZHs0fVxcXFwvXFxcXGR7Mn1cXFxcL1xcXFxkezJ9KSBpcyBhbHNvIHZhbGlkIGFzIGl0IGNhcHR1cmVzIGEgc2luZ2xlIGRhdGUgYXMgeXl5eS9tbS9kZCcpXHJcbiAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJyMoXFxcXGR7NH0pXFxcXC8oXFxcXGR7Mn0pXFxcXC8oXFxcXGR7Mn0pJylcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlUmVnZXhwU3RyaW5nKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYXRlUmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVGaWx0ZXJTZXR0aW5ncygpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIFxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ1N0YWtlaG9sZGVyLWFjdGlvbiB0YWdzJ30pO1xyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnVGhlc2UgdGhyZWUgdGFncyBhbGxvdyB5b3UgdG8gcXVhbGlmeSB0aGUgdHlwZSBvZiBzdGFrZWhvbGRlciBhY3Rpb24geW91IHdhbnQgdG8gdGFrZS4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdJbiB0aGUgXCJTdGFrZWhvbGRlciBhbmQgcHJvamVjdCBhY3Rpb25zXCIgdmlldyBpdGVtcyB3aWxsIGJlIHByZS1zb3J0ZWQgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3aXRoICNkaXNjdXNzV2l0aCBmaXJzdCwgI3dhaXRpbmdGb3Igc2Vjb25kLCBhbmQgI3Byb21pc2VkVG8gdGhpcmQuIEkgY2FuIGltYWdpbmUgc2l0dWF0aW9ucyAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3aGVuIHlvdSByZXB1cnBvc2UgdGhlc2UgYW5kIHNlbGVjdCBmb3IgI2hpZ2gsICNtZWRpdW0sICNsb3cgYnkgY2hhbmdpbmcgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMuJ30pO1xyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdEaXNjdXNzIFdpdGggdGFnJylcclxuXHRcdFx0LnNldERlc2MoJ1RoaXMgaXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBpZGVudGlmeSB0b3BpY3MgeW91IHdhbnQgdG8gZGlzY3VzcyB3aXRoIHNvbWVvbmUuJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCcjKGRpc2N1c3NXaXRoKScpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nKVxyXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRmlsdGVyU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdXYWl0aW5nIEZvcicpXHJcbiAgICAgIC5zZXREZXNjKCdUaGlzIGlzIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gaWRlbnRpZnkgYWN0aW9ucyB3aGljaCB5b3UgYXJlIHdhaXRpbmcgZm9yIHNvbWUgdG8gY29tcGxldGUuJylcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcjKHdhaXRpbmdGb3IpJylcclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud2FpdGluZ0ZvclJlZ2V4cFN0cmluZylcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy53YWl0aW5nRm9yUmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlRmlsdGVyU2V0dGluZ3MoKTtcclxuICAgICAgICB9KSk7ICAgICAgICBcclxuICAgIFxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdQcm9taXNlZCBUbycpXHJcbiAgICAgIC5zZXREZXNjKCdUaGlzIGlzIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gaWRlbnRpZnkgcHJvbWlzZXMgeW91IGhhdmUgbWFkZSB0byBzb21lb25lLicpXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRQbGFjZWhvbGRlcignIyhwcm9taXNlZFRvKScpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb21pc2VkVG9SZWdleHBTdHJpbmcpXHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvbWlzZWRUb1JlZ2V4cFN0cmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZUZpbHRlclNldHRpbmdzKCk7XHJcbiAgICAgICAgfSkpOyAgICAgICAgXHJcblxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ1NvbWVkYXkvTWF5YmUgdGFnJ30pO1xyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnVXNlIGEgdGFnIHRvIG1hcmsgYWN0aW9ucyB0aGF0IGFyZSBkZWxpYmVyYXRlbHkgd2l0aG91dCBhIGRlYWRsaW5lLCBzdWNoIGFzICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXRlbXMgb24geW91ciBidWNrZXQgbGlzdC4gVGhlc2UgYWN0aW9ucyB3aWxsIHNob3cgdXAgaW4gdGhlIFwiU29tZWRheS9NYXliZSB2aWV3LiAnICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBY3Rpb25zIHdpdGhvdXQgYSB2YWxpZCB0YWcgYW5kIHdpdGhvdXQgYSBkZWFkbGluZSB3aWxsIHNob3cgdXAgaW4gdGhlIEluYm94Lid9KTtcclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnU29tZWRheSBNYXliZSByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKCdUaGlzIGlzIHRoZSByZWdleHAgcGF0dGVybiB5b3UgdXNlICcpXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRQbGFjZWhvbGRlcignIyhzb21lZGF5KScpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNvbWVkYXlNYXliZVJlZ2V4cFN0cmluZylcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb21lZGF5TWF5YmVSZWdleHBTdHJpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVGaWx0ZXJTZXR0aW5ncygpO1xyXG4gICAgICAgIH0pKTsgIFxyXG4gICAgXHJcbiAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMScsIHt0ZXh0OiAnVmlldyBDb25maWd1cmF0aW9uJ30pOyAgIFxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgncCcsIHt0ZXh0OiAnWW91IGNhbiBzaG93L2hpZGUgc3BlY2lmaWMgdmlld3MgYmFzZWQgb24geW91ciBuZWVkcy4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBcyB5b3UgY3VzdG9taXplIHNvbWUgb2YgdGhlIHNlbGVjdG9ycywgdmlld3MgbWF5IGNoYW5nZSB0aGVpciBtZWFuaW5nLiBZb3UgY2FuIHVwZGF0ZSAnK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHRvb2x0aXAgdGV4dCB0byBoZWxwIHlvdSByZW1lbWJlciB5b3VyIGludGVuZGVkIHVzZSBmb3IgZWFjaCB2aWV3Lid9KTtcclxuICAgIFxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ0luYm94J30pO1xyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdTaG93L2hpZGUgSW5ib3gnKVxyXG4gICAgICAuYWRkVG9nZ2xlKHZhbHVlID0+IHZhbHVlXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlzSW5ib3hWaXNpYmxlKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmlzSW5ib3hWaXNpYmxlID0gdmFsdWU7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgIH0pKTsgIFxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdJbmJveCB0b29sdGlwJylcclxuICAgICAgLmFkZFRleHRBcmVhKHRleHQgPT4ge1xyXG4gICAgICAgIGxldCB0ID0gdGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmluYm94VG9vbHRpcClcclxuICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5ib3hUb29sdGlwKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmluYm94VG9vbHRpcCA9IHZhbHVlO1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVZpZXdEaXNwbGF5U2V0dGluZ3MoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0LmlucHV0RWwuc2V0QXR0cihcInJvd3NcIiwgNCk7XHJcbiAgICAgIH0pOyAgXHJcblxyXG5cclxuICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7dGV4dDogJ0FnaW5nJ30pO1xyXG4gICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAuc2V0TmFtZSgnU2hvdy9oaWRlIEFnaW5nJylcclxuICAgICAgICAuYWRkVG9nZ2xlKHZhbHVlID0+IHZhbHVlXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNBZ2luZ1Zpc2libGUpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmlzQWdpbmdWaXNpYmxlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICAgICAgICB9KSk7ICBcclxuICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoJ0FnaW5nIHRvb2x0aXAnKVxyXG4gICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcclxuICAgICAgICAgIGxldCB0ID0gdGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLmFnaW5nVG9vbHRpcClcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZ2luZ1Rvb2x0aXApXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFnaW5nVG9vbHRpcCA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0LmlucHV0RWwuc2V0QXR0cihcInJvd3NcIiwgNCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywge3RleHQ6ICdUb2RheSd9KTtcclxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgIC5zZXROYW1lKCdTaG93L2hpZGUgVG9kYXknKVxyXG4gICAgICAgICAgLmFkZFRvZ2dsZSh2YWx1ZSA9PiB2YWx1ZVxyXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNUb2RheVZpc2libGUpXHJcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1RvZGF5VmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgIH0pKTsgIFxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgLnNldE5hbWUoJ1RvZGF5IHRvb2x0aXAnKVxyXG4gICAgICAgICAgLmFkZFRleHRBcmVhKHRleHQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdCA9IHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy50b2RheVRvb2x0aXApXHJcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b2RheVRvb2x0aXApXHJcbiAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b2RheVRvb2x0aXAgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdC5pbnB1dEVsLnNldEF0dHIoXCJyb3dzXCIsIDQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHt0ZXh0OiAnU2NoZWR1bGVkJ30pO1xyXG4gICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdTaG93L2hpZGUgU2NoZWR1bGVkJylcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh2YWx1ZSA9PiB2YWx1ZVxyXG4gICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NjaGVkdWxlZFZpc2libGUpXHJcbiAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTY2hlZHVsZWRWaXNpYmxlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgIH0pKTsgIFxyXG4gICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdTY2hlZHVsZWQgdG9vbHRpcCcpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICBsZXQgdCA9IHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5zY2hlZHVsZWRUb29sdGlwKVxyXG4gICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zY2hlZHVsZWRUb29sdGlwKVxyXG4gICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNjaGVkdWxlZFRvb2x0aXAgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdC5pbnB1dEVsLnNldEF0dHIoXCJyb3dzXCIsIDQpO1xyXG4gICAgICAgICAgICB9KTsgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gIFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywge3RleHQ6ICdTdGFrZWhvbGRlciBBY3Rpb25zJ30pO1xyXG4gICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdTaG93L2hpZGUgU3Rha2Vob2xkZXIgQWN0aW9ucycpXHJcbiAgICAgICAgICAgIC5hZGRUb2dnbGUodmFsdWUgPT4gdmFsdWVcclxuICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTdGFrZWhvbGRlclZpc2libGUpXHJcbiAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTdGFrZWhvbGRlclZpc2libGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgfSkpOyAgXHJcbiAgICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgICAgICAgLnNldE5hbWUoJ1N0YWtlaG9sZGVyIEFjdGlvbnMgdG9vbHRpcCcpXHJcbiAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICBsZXQgdCA9IHRleHQuc2V0UGxhY2Vob2xkZXIoREVGQVVMVF9TRVRUSU5HUy5zdGFrZWhvbGRlclRvb2x0aXApXHJcbiAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN0YWtlaG9sZGVyVG9vbHRpcClcclxuICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdGFrZWhvbGRlclRvb2x0aXAgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdC5pbnB1dEVsLnNldEF0dHIoXCJyb3dzXCIsIDQpO1xyXG4gICAgICAgICAgICB9KTsgIFxyXG5cclxuXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHt0ZXh0OiAnU29tZWRheS9NYXliZSd9KTtcclxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgICAgLnNldE5hbWUoJ1Nob3cvaGlkZSBTb21lZGF5L01heWJlJylcclxuICAgICAgICAgICAgICAuYWRkVG9nZ2xlKHZhbHVlID0+IHZhbHVlXHJcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTb21lZGF5VmlzaWJsZSlcclxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNTb21lZGF5VmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSkpOyAgXHJcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAgIC5zZXROYW1lKCdTb21lZGF5L01heWJlIHRvb2x0aXAnKVxyXG4gICAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0ID0gdGV4dC5zZXRQbGFjZWhvbGRlcihERUZBVUxUX1NFVFRJTkdTLnNvbWVkYXlUb29sdGlwKVxyXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNvbWVkYXlUb29sdGlwKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb21lZGF5VG9vbHRpcCA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlVmlld0Rpc3BsYXlTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0LmlucHV0RWwuc2V0QXR0cihcInJvd3NcIiwgNCk7XHJcbiAgICAgICAgICAgICAgfSk7ICBcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBBcHAsIFBsdWdpbiwgUGx1Z2luTWFuaWZlc3QsIFRGaWxlLCBXb3Jrc3BhY2VMZWFmLCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgVklFV19UWVBFX1RPRE8gfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFRvZG9JdGVtVmlldywgVG9kb0l0ZW1WaWV3UHJvcHMgfSBmcm9tICcuL3VpL1RvZG9JdGVtVmlldyc7XHJcbmltcG9ydCB7IFRvZG9JdGVtLCBUb2RvSXRlbVN0YXR1cyB9IGZyb20gJy4vbW9kZWwvVG9kb0l0ZW0nO1xyXG5pbXBvcnQgeyBUb2RvSW5kZXgsVG9kb0l0ZW1JbmRleFByb3BzIH0gZnJvbSAnLi9tb2RlbC9Ub2RvSW5kZXgnO1xyXG5pbXBvcnQge0RFRkFVTFRfU0VUVElOR1MsIEFjdGlvblRyYWNrZXJTZXR0aW5ncywgQWN0aW9uVHJhY2tlclNldHRpbmdUYWJ9IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvblRyYWNrZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gIHByaXZhdGUgdG9kb0luZGV4OiBUb2RvSW5kZXg7XHJcbiAgcHJpdmF0ZSB2aWV3OiBUb2RvSXRlbVZpZXc7XHJcbiAgc2V0dGluZ3M6IEFjdGlvblRyYWNrZXJTZXR0aW5ncztcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xyXG4gICAgc3VwZXIoYXBwLCBtYW5pZmVzdCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFRvZG9JdGVtSW5kZXhQcm9wcygpIDogVG9kb0l0ZW1JbmRleFByb3BzIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBlcnNvblJlZ2V4cDogbmV3IFJlZ0V4cCAodGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3BlcnNvblJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgcHJvamVjdFJlZ2V4cDogbmV3IFJlZ0V4cCAodGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3Byb2plY3RSZWdleHBTdHJpbmcnKSksXHJcbiAgICAgIG1pc2NSZWdleHA6ICAgIG5ldyBSZWdFeHAgKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdtaXNjUmVnZXhwU3RyaW5nJykpLFxyXG4gICAgICBkYXRlUmVnZXhwOiBuZXcgUmVnRXhwICh0aGlzLmdldFNldHRpbmdWYWx1ZSgnZGF0ZVJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgZGlzY3Vzc1dpdGhSZWdleHA6IG5ldyBSZWdFeHAgKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdkaXNjdXNzV2l0aFJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgd2FpdGluZ0ZvclJlZ2V4cDogbmV3IFJlZ0V4cCAodGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3dhaXRpbmdGb3JSZWdleHBTdHJpbmcnKSksXHJcbiAgICAgIHByb21pc2VkVG9SZWdleHA6IG5ldyBSZWdFeHAgKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdwcm9taXNlZFRvUmVnZXhwU3RyaW5nJykpLFxyXG4gICAgICBzb21lZGF5TWF5YmVSZWdleHA6IG5ldyBSZWdFeHAgKHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdzb21lZGF5TWF5YmVSZWdleHBTdHJpbmcnKSksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25sb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc29sZS5sb2coJ2xvYWRpbmcgcGx1Z2luJyk7XHJcbiAgICBcclxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcbiAgICBcclxuICAgIHRoaXMudG9kb0luZGV4ID0gbmV3IFRvZG9JbmRleCh0aGlzLmFwcC52YXVsdCwgdGhpcy50aWNrLmJpbmQodGhpcyksdGhpcy5nZXRUb2RvSXRlbUluZGV4UHJvcHMoKSk7XHJcblxyXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoVklFV19UWVBFX1RPRE8sIChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRvZG9zOiBUb2RvSXRlbVtdID0gW107XHJcbiAgICAgIGNvbnN0IHByb3BzID0ge1xyXG4gICAgICAgIHRvZG9zOiB0b2RvcyxcclxuICAgICAgICBvcGVuRmlsZTogKGZpbGVQYXRoOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpIGFzIFRGaWxlO1xyXG4gICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLnNwbGl0QWN0aXZlTGVhZigpLm9wZW5GaWxlKGZpbGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG9nZ2xlVG9kbzogKHRvZG86IFRvZG9JdGVtLCBuZXdTdGF0dXM6IFRvZG9JdGVtU3RhdHVzKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnRvZG9JbmRleC5zZXRTdGF0dXModG9kbywgbmV3U3RhdHVzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzSW5ib3hWaXNpYmxlOiAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNJbmJveFZpc2libGUnKSxcclxuICAgICAgICBpc0FnaW5nVmlzaWJsZTogICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ2lzQWdpbmdWaXNpYmxlJyksXHJcbiAgICAgICAgaXNUb2RheVZpc2libGU6ICAgICAgIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdpc1RvZGF5VmlzaWJsZScpLFxyXG4gICAgICAgIGlzU2NoZWR1bGVkVmlzaWJsZTogICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNTY2hlZHVsZWRWaXNpYmxlJyksXHJcbiAgICAgICAgaXNTdGFrZWhvbGRlclZpc2libGU6IHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdpc1N0YWtlaG9sZGVyVmlzaWJsZScpLFxyXG4gICAgICAgIGlzU29tZWRheVZpc2libGU6ICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNTb21lZGF5VmlzaWJsZScpLFxyXG4gICAgICAgIGluYm94VG9vbHRpcDogICAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaW5ib3hUb29sdGlwJyksXHJcbiAgICAgICAgYWdpbmdUb29sdGlwOiAgICAgICAgIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdhZ2luZ1Rvb2x0aXAnKSxcclxuICAgICAgICB0b2RheVRvb2x0aXA6ICAgICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3RvZGF5VG9vbHRpcCcpLFxyXG4gICAgICAgIHNjaGVkdWxlZFRvb2x0aXA6ICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnc2NoZWR1bGVkVG9vbHRpcCcpLFxyXG4gICAgICAgIHN0YWtlaG9sZGVyVG9vbHRpcDogICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnc3Rha2Vob2xkZXJUb29sdGlwJyksXHJcbiAgICAgICAgc29tZWRheVRvb2x0aXA6ICAgICAgIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdzb21lZGF5VG9vbHRpcCcpLFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLnZpZXcgPSBuZXcgVG9kb0l0ZW1WaWV3KGxlYWYsIHByb3BzKTtcclxuICAgICAgcmV0dXJuIHRoaXMudmlldztcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQWN0aW9uVHJhY2tlclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcbiAgICBpZiAodGhpcy5hcHAud29ya3NwYWNlLmxheW91dFJlYWR5KSB7XHJcbiAgICAgIHRoaXMuaW5pdExlYWYoKTtcclxuICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlSW5kZXgoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1yZWFkeScsIHRoaXMuaW5pdExlYWYuYmluZCh0aGlzKSkpO1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAud29ya3NwYWNlLm9uKCdsYXlvdXQtcmVhZHknLCBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnByZXBhcmVJbmRleCgpKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbnVubG9hZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1RPRE8pLmZvckVhY2goKGxlYWYpID0+IGxlYWYuZGV0YWNoKCkpO1xyXG4gIH1cclxuXHJcbiAgaW5pdExlYWYoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfVE9ETykubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XHJcbiAgICAgIHR5cGU6IFZJRVdfVFlQRV9UT0RPLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcmVwYXJlSW5kZXgoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLnRvZG9JbmRleC5pbml0aWFsaXplKCk7XHJcbiAgfVxyXG5cclxuICB0aWNrKHRvZG9zOiBUb2RvSXRlbVtdKTogdm9pZCB7XHJcbiAgICB0aGlzLnZpZXcuc2V0UHJvcHMoKGN1cnJlbnRQcm9wczogVG9kb0l0ZW1WaWV3UHJvcHMpID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5jdXJyZW50UHJvcHMsXHJcbiAgICAgICAgdG9kb3M6IHRvZG9zLFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVGaWx0ZXJTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICBhd2FpdCB0aGlzLnRvZG9JbmRleC5yZWxvYWRJbmRleCh0aGlzLmdldFRvZG9JdGVtSW5kZXhQcm9wcygpKTtcclxuXHR9XHJcblxyXG4gIGFzeW5jIHNhdmVWaWV3RGlzcGxheVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICAgIHRoaXMudmlldy5zZXREaXNwbGF5UHJvcHMoe1xyXG4gICAgICB0b2RvczogbnVsbCxcclxuICAgICAgb3BlbkZpbGU6IG51bGwsXHJcbiAgICAgIHRvZ2dsZVRvZG86IG51bGwsXHJcbiAgICAgIGlzSW5ib3hWaXNpYmxlOiAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNJbmJveFZpc2libGUnKSxcclxuICAgICAgaXNBZ2luZ1Zpc2libGU6ICAgICAgIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdpc0FnaW5nVmlzaWJsZScpLFxyXG4gICAgICBpc1RvZGF5VmlzaWJsZTogICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ2lzVG9kYXlWaXNpYmxlJyksXHJcbiAgICAgIGlzU2NoZWR1bGVkVmlzaWJsZTogICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNTY2hlZHVsZWRWaXNpYmxlJyksXHJcbiAgICAgIGlzU3Rha2Vob2xkZXJWaXNpYmxlOiB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaXNTdGFrZWhvbGRlclZpc2libGUnKSxcclxuICAgICAgaXNTb21lZGF5VmlzaWJsZTogICAgIHRoaXMuZ2V0U2V0dGluZ1ZhbHVlKCdpc1NvbWVkYXlWaXNpYmxlJyksXHJcbiAgICAgIGluYm94VG9vbHRpcDogICAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnaW5ib3hUb29sdGlwJyksXHJcbiAgICAgIGFnaW5nVG9vbHRpcDogICAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnYWdpbmdUb29sdGlwJyksXHJcbiAgICAgIHRvZGF5VG9vbHRpcDogICAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgndG9kYXlUb29sdGlwJyksXHJcbiAgICAgIHNjaGVkdWxlZFRvb2x0aXA6ICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgnc2NoZWR1bGVkVG9vbHRpcCcpLFxyXG4gICAgICBzdGFrZWhvbGRlclRvb2x0aXA6ICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3N0YWtlaG9sZGVyVG9vbHRpcCcpLFxyXG4gICAgICBzb21lZGF5VG9vbHRpcDogICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3NvbWVkYXlUb29sdGlwJyksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNldHRpbmdWYWx1ZTxLIGV4dGVuZHMga2V5b2YgQWN0aW9uVHJhY2tlclNldHRpbmdzPihzZXR0aW5nOiBLKTogQWN0aW9uVHJhY2tlclNldHRpbmdzW0tdIHtcclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzW3NldHRpbmddXHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkl0ZW1WaWV3IiwiTWFya2Rvd25SZW5kZXJlciIsIlRGaWxlIiwiUGx1Z2luU2V0dGluZ1RhYiIsIlNldHRpbmciLCJQbHVnaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdURBO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FB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
