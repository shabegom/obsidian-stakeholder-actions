/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugin's github repository at
https://github.com/zsviczian/obsidian-stakeholder-actions
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

const VIEW_TYPE_TODO = 'online.zsviczian.obsidian-stakeholder_action-plugin';

var TodoItemStatus;
(function (TodoItemStatus) {
    TodoItemStatus[TodoItemStatus["Todo"] = 0] = "Todo";
    TodoItemStatus[TodoItemStatus["Done"] = 1] = "Done";
})(TodoItemStatus || (TodoItemStatus = {}));
// eslint-disable-next-line @typescript-eslint/no-namespace
(function (TodoItemStatus) {
    function toggleStatus(status) {
        switch (status) {
            case TodoItemStatus.Todo:
                return TodoItemStatus.Done;
            case TodoItemStatus.Done:
                return TodoItemStatus.Todo;
        }
    }
    TodoItemStatus.toggleStatus = toggleStatus;
})(TodoItemStatus || (TodoItemStatus = {}));
class TodoItem {
    constructor(status, description, person, project, isSomedayMaybeNote, isDiscussWithNote, isWaitingForNote, isPromisedToNote, sourceFilePath, startIndex, length, actionDate) {
        this.status = status;
        this.description = description;
        this.person = person;
        this.project = project;
        this.actionDate = actionDate;
        this.isSomedayMaybeNote = isSomedayMaybeNote;
        this.isDiscussWithNote = isDiscussWithNote;
        this.isWaitingForNote = isWaitingForNote;
        this.isPromisedToNote = isPromisedToNote;
        this.sourceFilePath = sourceFilePath;
        this.startIndex = startIndex;
        this.length = length;
    }
}

class TodoParser {
    constructor(props) {
        this.props = props;
    }
    parseTasks(filePath, fileContents) {
        return __awaiter(this, void 0, void 0, function* () {
            const pattern = /(-|\*) \[(\s|x)?\]\s(.*)/g;
            return [...fileContents.matchAll(pattern)].map(task => this.parseTask(filePath, task));
        });
    }
    parseTask(filePath, entry) {
        var _a;
        // debugger;
        const todoItemOffset = 2; // Strip off `-|* `
        const status = entry[2] === 'x' ? TodoItemStatus.Done : TodoItemStatus.Todo;
        const description = entry[3];
        const dateMatches = description.match(this.props.dateRegexp);
        let actionDate = undefined;
        if (dateMatches != null) {
            actionDate =
                dateMatches.length > 3
                    ? new Date(parseInt(dateMatches[1]), parseInt(dateMatches[2]) - 1, parseInt(dateMatches[3]), 0, 0, 0, 0)
                    : undefined;
        }
        const personMatches = description.match(this.props.personRegexp);
        const person = personMatches != null ? personMatches[1] : '';
        const projectMatches = description.match(this.props.projectRegexp);
        const project = projectMatches != null ? projectMatches[1] : '';
        return new TodoItem(status, description, person, project, description.match(this.props.somedayMaybeRegexp) != null, description.match(this.props.discussWithRegexp) != null, description.match(this.props.waitingForRegexp) != null, description.match(this.props.promisedToRegexp) != null, filePath, ((_a = entry.index) !== null && _a !== void 0 ? _a : 0) + todoItemOffset, entry[0].length - todoItemOffset, actionDate);
    }
}

class TodoIndex {
    constructor(vault, listener, props) {
        this.props = props;
        this.vault = vault;
        this.todos = new Map();
        this.listeners = [listener];
    }
    reloadIndex(props) {
        return __awaiter(this, void 0, void 0, function* () {
            this.props = props;
            yield this.initialize();
        });
    }
    initialize() {
        return __awaiter(this, void 0, void 0, function* () {
            // TODO: persist index & last sync timestamp; only parse files that changed since then.
            const todoMap = new Map();
            let numberOfTodos = 0;
            const timeStart = new Date().getTime();
            const markdownFiles = this.vault.getMarkdownFiles();
            for (const file of markdownFiles) {
                const todos = yield this.parseTodosInFile(file);
                numberOfTodos += todos.length;
                if (todos.length > 0) {
                    todoMap.set(file.path, todos);
                }
            }
            const totalTimeMs = new Date().getTime() - timeStart;
            console.log(`[obsidian-stakeholder_action-plugin] Parsed ${numberOfTodos} TODOs from ${markdownFiles.length} markdown files in (${totalTimeMs / 1000.0}s)`);
            this.todos = todoMap;
            this.registerEventHandlers();
            this.invokeListeners();
        });
    }
    setStatus(todo, newStatus) {
        const file = this.vault.getAbstractFileByPath(todo.sourceFilePath);
        const fileContents = this.vault.read(file);
        fileContents.then((c) => {
            const newTodo = `[${newStatus === TodoItemStatus.Done ? 'x' : ' '}] ${todo.description}`;
            const newContents = c.substring(0, todo.startIndex) +
                newTodo +
                c.substring(todo.startIndex + todo.length);
            this.vault.modify(file, newContents);
        });
    }
    indexAbstractFile(file) {
        if (!(file instanceof obsidian.TFile)) {
            return;
        }
        this.indexFile(file);
    }
    indexFile(file) {
        this.parseTodosInFile(file).then(todos => {
            this.todos.set(file.path, todos);
            this.invokeListeners();
        });
    }
    clearIndex(path, silent = false) {
        this.todos.delete(path);
        if (!silent) {
            this.invokeListeners();
        }
    }
    setProps(setter) {
        this.props = setter(this.props);
        //do I need to do anything else??
    }
    parseTodosInFile(file) {
        return __awaiter(this, void 0, void 0, function* () {
            // TODO: Does it make sense to index completed TODOs at all?
            const todoParser = new TodoParser(this.props);
            const fileContents = yield this.vault.cachedRead(file);
            return todoParser
                .parseTasks(file.path, fileContents)
                .then(todos => todos.filter(todo => todo.status === TodoItemStatus.Todo));
        });
    }
    registerEventHandlers() {
        this.vault.on('create', (file) => {
            this.indexAbstractFile(file);
        });
        this.vault.on('modify', (file) => {
            this.indexAbstractFile(file);
        });
        this.vault.on('delete', (file) => {
            this.clearIndex(file.path);
        });
        // We could simply change the references to the old path, but parsing again does the trick as well
        this.vault.on('rename', (file, oldPath) => {
            this.clearIndex(oldPath);
            this.indexAbstractFile(file);
        });
    }
    invokeListeners() {
        const todos = [].concat(...Array.from(this.todos.values()));
        this.listeners.forEach(listener => listener(todos));
    }
}

const DEFAULT_SETTINGS = {
    personRegexpString: '\\[{2}People\\/(.*?)\\]{2}',
    projectRegexpString: '\\[{2}Projects\\/(.*?)\\]{2}',
    dateRegexpString: '#(\\d{4})\\/(\\d{2})\\/(\\d{2})',
    discussWithRegexpString: '#(discussWith)',
    waitingForRegexpString: '#(waitingFor)',
    promisedToRegexpString: '#(promisedTo)',
    somedayMaybeRegexpString: '#(someday)',
};
class ActionTrackerSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        this.containerEl.empty();
        this.containerEl.createEl('h2', {
            text: 'Settings for the stakeholder action tracker plugin',
        });
        new obsidian.Setting(containerEl)
            .setName('Person regexp pattern')
            .setDesc('This is the regular expression to identify the action party in the action. Used for filtering todos by person.')
            .addText(text => text
            .setPlaceholder('\\[{2}People\\/(.*?)\\]{2}')
            .setValue(this.plugin.settings.personRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.personRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Project regexp pattern')
            .setDesc('This is the regular expression to identify the project in the action. Used for filtering todos by project name.')
            .addText(text => text
            .setPlaceholder('\\[{2}Projects\\/(.*?)\\]{2}')
            .setValue(this.plugin.settings.projectRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.projectRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Date regexp pattern')
            .setDesc('This is the regular expression to get the date for an action. The RegExp needs to capture 3 values. The first one should be the year (yyyy), the sceond the month (mm), the third the day (dd).')
            .addText(text => text
            .setPlaceholder('#(\\d{4})\\/(\\d{2})\\/(\\d{2})')
            .setValue(this.plugin.settings.dateRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.dateRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Discuss With regexp pattern')
            .setDesc('This is the regexp pattern you use to mark topics you want to discuss with someone. "Discuss with", "Promised to", and "Waiting for" actions show up under the Stakeholder Actions tab.')
            .addText(text => text
            .setPlaceholder('#(discussWith)')
            .setValue(this.plugin.settings.discussWithRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.discussWithRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Waiting For regexp pattern')
            .setDesc('This is the regexp pattern you use to mark topics someone has promised to deliver to me. "Discuss with", "Promised to", and "Waiting for" actions show up under the Stakeholder Actions tab.')
            .addText(text => text
            .setPlaceholder('#(waitingFor)')
            .setValue(this.plugin.settings.waitingForRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.waitingForRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Promised To regexp pattern')
            .setDesc('This is the regexp pattern you use to mark topics someone has promised to deliver to me. "Discuss with", "Promised to", and "Waiting for" actions show up under the Stakeholder Actions tab.')
            .addText(text => text
            .setPlaceholder('#(promisedTo)')
            .setValue(this.plugin.settings.promisedToRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.promisedToRegexpString = value;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Someday Maybe regexp pattern')
            .setDesc('This is the regexp pattern you use to mark actions deliberately without a deadline - i.e. bucket list. Actions without a valid tag and without a deadline will show up in the Inbox.')
            .addText(text => text
            .setPlaceholder('#(someday)')
            .setValue(this.plugin.settings.somedayMaybeRegexpString)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.somedayMaybeRegexpString = value;
            yield this.plugin.saveSettings();
        })));
    }
}

var Icon;
(function (Icon) {
    Icon[Icon["Inbox"] = 0] = "Inbox";
    Icon[Icon["Reveal"] = 1] = "Reveal";
    Icon[Icon["Scheduled"] = 2] = "Scheduled";
    Icon[Icon["Someday"] = 3] = "Someday";
    Icon[Icon["Today"] = 4] = "Today";
    Icon[Icon["Stakeholder"] = 5] = "Stakeholder";
    Icon[Icon["Aging"] = 6] = "Aging";
})(Icon || (Icon = {}));
const RenderIcon = (icon, title = '', description = '') => {
    const svg = svgForIcon(icon)(title, description);
    return parser.parseFromString(svg, 'text/xml').documentElement;
};
const parser = new DOMParser();
const svgForIcon = (icon) => {
    switch (icon) {
        case Icon.Inbox:
            return inboxIcon;
        case Icon.Reveal:
            return revealIcon;
        case Icon.Scheduled:
            return scheduledIcon;
        case Icon.Someday:
            return somedayIcon;
        case Icon.Today:
            return todayIcon;
        case Icon.Stakeholder:
            return stakeholderIcon;
        case Icon.Aging:
            return agingIcon;
    }
};
const inboxIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5v-3h3.56c.69 1.19 1.97 2 3.45 2s2.75-.81 3.45-2H19v3zm0-5h-4.99c0 1.1-.9 2-2 2s-2-.9-2-2H5V5h14v9z"/>
</svg>
`;
const revealIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" role="img" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <rect fill="none" height="24" width="24"/><path d="M9,5v2h6.59L4,18.59L5.41,20L17,8.41V15h2V5H9z"/>
</svg>
`;
const scheduledIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z"/>
</svg>
`;
const somedayIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <g><rect fill="none" height="24" width="24"/></g>
  <g><g><path d="M20,2H4C3,2,2,2.9,2,4v3.01C2,7.73,2.43,8.35,3,8.7V20c0,1.1,1.1,2,2,2h14c0.9,0,2-0.9,2-2V8.7c0.57-0.35,1-0.97,1-1.69V4 C22,2.9,21,2,20,2z M19,20H5V9h14V20z M20,7H4V4h16V7z"/><rect height="2" width="6" x="9" y="12"/></g></g>
</svg>
`;
const todayIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v24H0V0z" fill="none"/>
  <path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/>
</svg>
`;
const stakeholderIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 16 24" width="16" height="24" viewBox="0 0 16 24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <path d="M0 0h24v16H0V0z" fill="none"/>
  <path  d="M 12.041617 0.379395 C 14.783072 -0.385254 17.844596 0.648438 20.335563 2.021973 C 22.826529 3.395508 25.707145 5.746094 26.973502 8.606445 C 28.23986 11.480957 28.921744 16.182129 27.933707 19.226562 C 26.94567 22.270996 23.744986 25.471191 21.059195 26.901367 C 18.359488 28.345703 14.68566 28.628906 11.777213 27.864258 C 8.868766 27.099609 5.584586 24.635742 3.566764 22.299316 C 1.562858 19.962891 -0.246224 16.960938 -0.301889 13.874023 C -0.357553 10.787109 0.811393 6.128418 3.204947 3.806152 C 5.598502 1.483887 11.888541 0.379395 14.087272 -0.0737305 C 16.299918 -0.526855 16.480826 0.761719 16.439078 1.059082 M 18.902213 -0.201172 C 21.629752 0.308594 25.484488 3.62207 26.94567 6.397461 C 28.420768 9.172852 28.532096 13.52002 27.697135 16.422852 C 26.87609 19.325684 24.245963 22.101074 21.963736 23.814453 C 19.68151 25.513672 17.134879 26.349121 14.031608 26.660645 C 10.942252 26.958008 5.821158 27.524414 3.385856 25.655273 C 0.950553 23.800293 -0.580209 18.476074 -0.594125 15.488281 C -0.608041 12.500488 1.72985 10.022461 3.30236 7.728516 C 4.874869 5.43457 6.113395 2.970703 8.840934 1.724609 C 11.568473 0.478516 18.053336 0.237793 19.639762 0.237793 C 21.226188 0.223633 18.526481 1.512207 18.38732 1.696289 " transform="matrix(0.280702,0,0,0.275862,3.237084,2.758621)"/>
  <path  d="M -0.260884 -17.497731 C -0.664449 -21.207692 -3.405904 -34.730641 -2.779683 -39.941578 C -2.153463 -45.152516 0.114848 -46.894215 3.482524 -48.749196 C 6.8502 -50.590016 13.098491 -51.467946 17.440287 -51.028981 C 21.782084 -50.590016 27.042338 -51.694508 29.519389 -46.129567 C 31.99644 -40.564625 37.242778 -22.595387 32.27476 -17.639332 C 27.320659 -12.683278 5.124614 -16.50652 -0.246968 -16.393238 M -1.513326 -18.729664 C -1.555074 -22.708668 -1.193257 -36.727223 -0.469625 -41.499196 C 0.254008 -46.257008 -0.107808 -45.888844 2.814555 -47.290699 C 5.736918 -48.692555 12.305278 -50.09441 17.092387 -49.938649 C 21.86558 -49.768727 29.268901 -51.538746 31.523295 -46.313649 C 33.77769 -41.088551 35.753764 -23.430836 30.590922 -18.602223 C 25.441996 -13.77361 5.820414 -17.582692 0.601909 -17.356129 " transform="matrix(0.280702,0,0,0.275862,3.612293,25.350398)"/>
</svg>
`;
const agingIcon = (title, description) => `
<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" aria-label="${title + description}">
  <title>${title}</title>
  <description>${description}</description>
  <g id="surface1">
  <path style="fill-rule:evenodd;fill-opacity:1;stroke-width:16;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:4;" d="M 254.333333 461.166667 C 125 283.833333 172.833333 22.333333 518.5 18.333333 C 864.666667 17.666667 924.666667 295.833333 792.833333 449.666667 C 801.333333 531.5 801.5 600.333333 738.5 618.333333 C 712.833333 726.333333 722.5 794.5 707.166667 829.666667 C 635.333333 956.666667 410.833333 962.5 340 831.166667 C 323.666667 790 337.5 722.5 305.666667 612.166667 C 261.833333 595.166667 248.833333 542.666667 254.333333 461.166667 Z M 254.333333 238.333333 C 236.666667 279 245.166667 305 261.666667 348.5 C 272 375.333333 259.5 429.166667 254.333333 461.166667 M 797.166667 238.333333 C 809.5 264 807.166667 289.833333 790.166667 342.333333 C 778.5 372.833333 790.166667 419.166667 792.833333 449.666667 M 394.5 693.833333 C 384 658.666667 342 623.5 305.666667 612.166667 M 655.333333 692 C 672 650 694.5 620 738.5 618.333333 " transform="matrix(0.0234375,0,0,0.0234375,0,0)"/>
  <path style="fill:none;stroke-width:8;stroke-linecap:round;stroke-linejoin:round;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:4;" d="M 340 626 C 361 674 372.333333 725.833333 380 779 C 428.166667 840 594.166667 858 665 776 C 669.833333 725.166667 687.666667 675.666667 704 626 L 655.333333 692 C 649.666667 733.166667 402 730.5 394.5 693.833333 Z M 403.5 798 L 403.5 706 M 432 815 L 433 714 M 462.5 822 L 463 719 M 492.5 827.5 C 492.5 825.5 493 721.5 493 721.5 M 523.5 831 L 523 722.5 M 554.5 827 L 554 722 M 583 822.5 L 582 719 M 615.5 810.5 L 614 715 M 644 794 L 643 705.5 M 642 750.5 C 560.5 786 487.833333 788.5 404 750.5 " transform="matrix(0.0234375,0,0,0.0234375,0,0)"/>
  <path style=" stroke:none;fill-rule:evenodd;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 7.25 9.789062 C 7.113281 10.28125 7.207031 10.910156 7.382812 11.460938 C 7.605469 12.152344 8.105469 12.566406 8.953125 12.632812 C 9.929688 12.65625 10.554688 12.089844 10.96875 11.179688 C 11.082031 10.90625 11.15625 10.445312 11.039062 9.9375 C 10.96875 9.679688 10.644531 9.296875 10.328125 9.101562 C 9.753906 8.753906 7.472656 8.949219 7.25 9.789062 Z M 17.339844 9.726562 C 17.472656 10.21875 17.378906 10.847656 17.203125 11.398438 C 16.984375 12.089844 16.480469 12.503906 15.632812 12.570312 C 14.65625 12.59375 14.035156 12.027344 13.617188 11.117188 C 13.503906 10.84375 13.429688 10.382812 13.546875 9.875 C 13.617188 9.617188 13.941406 9.234375 14.257812 9.035156 C 14.835938 8.691406 17.113281 8.886719 17.339844 9.726562 Z M 12.035156 12 L 12.035156 14.765625 C 11.625 15.386719 11.484375 15.433594 11.25 15.421875 C 10.941406 15.421875 10.734375 14.964844 10.792969 14.4375 C 10.945312 12.769531 11.449219 12.425781 12.035156 12 Z M 12.453125 12.011719 L 12.453125 14.777344 C 12.863281 15.398438 13.003906 15.445312 13.238281 15.433594 C 13.542969 15.433594 13.75 14.976562 13.695312 14.449219 C 13.542969 12.78125 13.039062 12.4375 12.453125 12.011719 Z M 12.453125 12.011719 "/>
  </g>
</svg>
`;

var TodoItemViewPane;
(function (TodoItemViewPane) {
    TodoItemViewPane[TodoItemViewPane["Aging"] = 0] = "Aging";
    TodoItemViewPane[TodoItemViewPane["Today"] = 1] = "Today";
    TodoItemViewPane[TodoItemViewPane["Scheduled"] = 2] = "Scheduled";
    TodoItemViewPane[TodoItemViewPane["Inbox"] = 3] = "Inbox";
    TodoItemViewPane[TodoItemViewPane["Someday"] = 4] = "Someday";
    TodoItemViewPane[TodoItemViewPane["Stakeholder"] = 5] = "Stakeholder";
})(TodoItemViewPane || (TodoItemViewPane = {}));
class TodoItemView extends obsidian.ItemView {
    constructor(leaf, props) {
        //debugger;
        super(leaf);
        this.props = props;
        this.state = {
            activePane: TodoItemViewPane.Today,
        };
        this.filter = '';
    }
    getViewType() {
        return VIEW_TYPE_TODO;
    }
    getDisplayText() {
        return 'Todo';
    }
    getIcon() {
        return 'checkmark';
    }
    onClose() {
        return Promise.resolve();
    }
    setProps(setter) {
        this.props = setter(this.props);
        this.render();
    }
    setViewState(newState) {
        this.state = newState;
        this.render();
    }
    setFilter(filter) {
        this.filter = filter;
        this.filterRegexp = new RegExp(filter, 'i');
        this.render();
    }
    render() {
        const container = this.containerEl.children[1];
        container.empty();
        container.createDiv('todo-item-view-container', el => {
            el.createDiv('todo-item-view-search', el => {
                this.renderSearch(el);
            });
            el.createDiv('todo-item-view-toolbar', el => {
                this.renderToolBar(el);
            });
            el.createDiv('todo-item-view-items', el => {
                this.renderItems(el);
            });
        });
    }
    renderSearch(container) {
        container.createEl('table', {}, el => {
            el.addClass('todo-filter-wrapper');
            el.createEl('tr', {}, el => {
                el.addClass('todo-filter-row');
                el.createEl('td', {}, el => {
                    el.addClass('todo-filter-col-input');
                    el.createEl('input', { value: this.filter }, el => {
                        el.addClass('todo-filter-input');
                        el.setAttribute('placeholder', 'proj/person RexExp filter, case insensitive');
                        el.onchange = e => {
                            this.setFilter(e.target.value);
                        };
                    });
                });
                el.createEl('td', {}, el => {
                    el.addClass('todo-filter-col-button');
                    el.createEl('button', { text: 'Filter' }, el => {
                        el.addClass('todo-filter-button');
                    });
                });
            });
        });
    }
    renderToolBar(container) {
        const activeClass = (pane) => {
            return pane === this.state.activePane ? ' active' : '';
        };
        const setActivePane = (pane) => {
            const newState = Object.assign(Object.assign({}, this.state), { activePane: pane });
            this.setViewState(newState);
        };
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Inbox)}`, el => {
            el.appendChild(RenderIcon(Icon.Inbox, 'Inbox: No date set, no stakeholder action set, not a someday / maybe item.'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Inbox));
        });
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Aging)}`, el => {
            el.appendChild(RenderIcon(Icon.Aging, 'Aging'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Aging));
        });
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Today)}`, el => {
            el.appendChild(RenderIcon(Icon.Today, 'Scheduled for Today'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Today));
        });
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Scheduled)}`, el => {
            el.appendChild(RenderIcon(Icon.Scheduled, 'Scheduled for a future date'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Scheduled));
        });
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Stakeholder)}`, el => {
            el.appendChild(RenderIcon(Icon.Stakeholder, 'Stakeholder actions: discussWith, promisedTo, waitingFor. Only items that have a valid project or person will show up here. Stakeholder actions without project or person are in the Inbox.'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Stakeholder));
        });
        container.createDiv(`todo-item-view-toolbar-item${activeClass(TodoItemViewPane.Someday)}`, el => {
            el.appendChild(RenderIcon(Icon.Someday, 'Tagged as Someday / Maybe'));
            el.onClickEvent(() => setActivePane(TodoItemViewPane.Someday));
        });
    }
    renderItems(container) {
        const todosToRender = this.props.todos
            .filter(this.filterForState, this)
            .sort(this.sortByActionDate);
        todosToRender.forEach((todo, index) => {
            if (index > 0) {
                if ((todo.isWaitingForNote &&
                    todosToRender[index - 1].isDiscussWithNote) ||
                    (todo.isPromisedToNote &&
                        (todosToRender[index - 1].isWaitingForNote ||
                            todosToRender[index - 1].isDiscussWithNote)) ||
                    (!todo.isPromisedToNote &&
                        !todo.isWaitingForNote &&
                        !todo.isDiscussWithNote &&
                        (todosToRender[index - 1].isWaitingForNote ||
                            todosToRender[index - 1].isDiscussWithNote ||
                            todosToRender[index - 1].isPromisedToNote))) {
                    container.createEl('hr', {}, el => {
                        el.addClass('todo-item-view-divider');
                    });
                }
            }
            container.createDiv('todo-item-view-item', el => {
                el.createDiv('todo-item-view-item-checkbox', el => {
                    el.createEl('input', { type: 'checkbox' }, el => {
                        el.checked = todo.status === TodoItemStatus.Done;
                        el.onClickEvent(() => {
                            this.toggleTodo(todo);
                        });
                    });
                });
                el.createDiv('todo-item-view-item-description', el => {
                    obsidian.MarkdownRenderer.renderMarkdown(todo.description, el, todo.sourceFilePath, this);
                });
                el.createDiv('todo-item-view-item-link', el => {
                    el.appendChild(RenderIcon(Icon.Reveal, 'Open file'));
                    el.onClickEvent(() => {
                        this.openFile(todo);
                    });
                });
            });
        });
    }
    filterForState(value) {
        const isPersonMatch = value.person.match(this.filterRegexp) != null;
        const isProjectMatch = value.project.match(this.filterRegexp) != null;
        const isFilterSet = this.filter != '';
        const hasPersonOrProject = value.person != '' || value.project != '';
        const isPeopleActionNote = value.isDiscussWithNote ||
            value.isWaitingForNote ||
            value.isPromisedToNote;
        if (!isFilterSet || isPersonMatch || isProjectMatch) {
            const isToday = (date) => {
                const today = new Date();
                return (date.getDate() == today.getDate() &&
                    date.getMonth() == today.getMonth() &&
                    date.getFullYear() == today.getFullYear());
            };
            const isBeforeToday = (date) => {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                return date < today;
            };
            const isAgingNote = value.actionDate && isBeforeToday(value.actionDate);
            const isTodayNote = value.actionDate && isToday(value.actionDate);
            const isScheduledNote = !value.isSomedayMaybeNote &&
                value.actionDate &&
                !isTodayNote &&
                !isAgingNote;
            switch (this.state.activePane) {
                case TodoItemViewPane.Inbox:
                    return (!value.isSomedayMaybeNote &&
                        !isTodayNote &&
                        !isScheduledNote &&
                        !isAgingNote &&
                        !(isPeopleActionNote && hasPersonOrProject));
                case TodoItemViewPane.Scheduled:
                    return isScheduledNote;
                case TodoItemViewPane.Someday:
                    return value.isSomedayMaybeNote;
                case TodoItemViewPane.Today:
                    return isTodayNote;
                case TodoItemViewPane.Aging:
                    return isAgingNote;
                case TodoItemViewPane.Stakeholder:
                    return hasPersonOrProject && isPeopleActionNote;
            }
        }
        else
            return false;
    }
    sortByActionDate(a, b) {
        if (!a.actionDate && !b.actionDate) {
            if (a.isDiscussWithNote && !b.isDiscussWithNote) {
                return -1;
            }
            if (a.isWaitingForNote && !b.isDiscussWithNote && !b.isWaitingForNote) {
                return -1;
            }
            if (a.isPromisedToNote && !b.isDiscussWithNote && !b.isWaitingForNote) {
                return -1;
            }
            if (b.isDiscussWithNote && !a.isDiscussWithNote) {
                return 1;
            }
            if (b.isWaitingForNote && !a.isDiscussWithNote && !a.isWaitingForNote) {
                return 1;
            }
            if (b.isPromisedToNote && !a.isDiscussWithNote && !a.isWaitingForNote) {
                return 1;
            }
            if (a.isSomedayMaybeNote && !b.isSomedayMaybeNote) {
                return -1;
            }
            if (!a.isSomedayMaybeNote && b.isSomedayMaybeNote) {
                return 1;
            }
            return 0;
        }
        return a.actionDate < b.actionDate
            ? -1
            : a.actionDate > b.actionDate
                ? 1
                : 0;
    }
    toggleTodo(todo) {
        this.props.toggleTodo(todo, TodoItemStatus.toggleStatus(todo.status));
    }
    openFile(todo) {
        this.props.openFile(todo.sourceFilePath);
    }
}

class ActionTrackerPlugin extends obsidian.Plugin {
    constructor(app, manifest) {
        super(app, manifest);
    }
    getTodoItemIndexProps() {
        return {
            personRegexp: new RegExp(this.getSettingValue('personRegexpString')),
            projectRegexp: new RegExp(this.getSettingValue('projectRegexpString')),
            dateRegexp: new RegExp(this.getSettingValue('dateRegexpString')),
            discussWithRegexp: new RegExp(this.getSettingValue('discussWithRegexpString')),
            waitingForRegexp: new RegExp(this.getSettingValue('waitingForRegexpString')),
            promisedToRegexp: new RegExp(this.getSettingValue('promisedToRegexpString')),
            somedayMaybeRegexp: new RegExp(this.getSettingValue('somedayMaybeRegexpString')),
        };
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log('loading plugin');
            yield this.loadSettings();
            this.todoIndex = new TodoIndex(this.app.vault, this.tick.bind(this), this.getTodoItemIndexProps());
            this.registerView(VIEW_TYPE_TODO, (leaf) => {
                const todos = [];
                const props = {
                    todos: todos,
                    openFile: (filePath) => {
                        const file = this.app.vault.getAbstractFileByPath(filePath);
                        this.app.workspace.splitActiveLeaf().openFile(file);
                    },
                    toggleTodo: (todo, newStatus) => {
                        this.todoIndex.setStatus(todo, newStatus);
                    },
                };
                this.view = new TodoItemView(leaf, props);
                return this.view;
            });
            this.addSettingTab(new ActionTrackerSettingTab(this.app, this));
            if (this.app.workspace.layoutReady) {
                this.initLeaf();
                yield this.prepareIndex();
            }
            else {
                this.registerEvent(this.app.workspace.on('layout-ready', this.initLeaf.bind(this)));
                this.registerEvent(this.app.workspace.on('layout-ready', () => __awaiter(this, void 0, void 0, function* () { return yield this.prepareIndex(); })));
            }
        });
    }
    onunload() {
        this.app.workspace
            .getLeavesOfType(VIEW_TYPE_TODO)
            .forEach(leaf => leaf.detach());
    }
    initLeaf() {
        if (this.app.workspace.getLeavesOfType(VIEW_TYPE_TODO).length) {
            return;
        }
        this.app.workspace.getRightLeaf(false).setViewState({
            type: VIEW_TYPE_TODO,
        });
    }
    prepareIndex() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.todoIndex.initialize();
        });
    }
    tick(todos) {
        this.view.setProps((currentProps) => {
            return Object.assign(Object.assign({}, currentProps), { todos: todos });
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
            yield this.todoIndex.reloadIndex(this.getTodoItemIndexProps());
        });
    }
    getSettingValue(setting) {
        return this.settings[setting];
    }
}

module.exports = ActionTrackerPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9jb25zdGFudHMudHMiLCJzcmMvbW9kZWwvVG9kb0l0ZW0udHMiLCJzcmMvbW9kZWwvVG9kb1BhcnNlci50cyIsInNyYy9tb2RlbC9Ub2RvSW5kZXgudHMiLCJzcmMvc2V0dGluZ3MudHMiLCJzcmMvdWkvaWNvbnMudHMiLCJzcmMvdWkvVG9kb0l0ZW1WaWV3LnRzIiwic3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKVxyXG4gICAgICAgIHRvW2pdID0gZnJvbVtpXTtcclxuICAgIHJldHVybiB0bztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcbiIsImV4cG9ydCBjb25zdCBWSUVXX1RZUEVfVE9ETyA9XHJcbiAgJ29ubGluZS56c3ZpY3ppYW4ub2JzaWRpYW4tc3Rha2Vob2xkZXJfYWN0aW9uLXBsdWdpbic7XHJcbiIsImV4cG9ydCBlbnVtIFRvZG9JdGVtU3RhdHVzIHtcclxuICBUb2RvLFxyXG4gIERvbmUsXHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXHJcbmV4cG9ydCBuYW1lc3BhY2UgVG9kb0l0ZW1TdGF0dXMge1xyXG4gIGV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTdGF0dXMoc3RhdHVzOiBUb2RvSXRlbVN0YXR1cyk6IFRvZG9JdGVtU3RhdHVzIHtcclxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XHJcbiAgICAgIGNhc2UgVG9kb0l0ZW1TdGF0dXMuVG9kbzpcclxuICAgICAgICByZXR1cm4gVG9kb0l0ZW1TdGF0dXMuRG9uZTtcclxuICAgICAgY2FzZSBUb2RvSXRlbVN0YXR1cy5Eb25lOlxyXG4gICAgICAgIHJldHVybiBUb2RvSXRlbVN0YXR1cy5Ub2RvO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvZG9JdGVtIHtcclxuICBwdWJsaWMgc291cmNlRmlsZVBhdGg6IHN0cmluZztcclxuICBwdWJsaWMgc3RhcnRJbmRleDogbnVtYmVyO1xyXG4gIHB1YmxpYyBsZW5ndGg6IG51bWJlcjtcclxuICBwdWJsaWMgc3RhdHVzOiBUb2RvSXRlbVN0YXR1cztcclxuICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBwdWJsaWMgcGVyc29uOiBzdHJpbmc7XHJcbiAgcHVibGljIHByb2plY3Q6IHN0cmluZztcclxuICBwdWJsaWMgYWN0aW9uRGF0ZT86IERhdGU7XHJcbiAgcHVibGljIGlzU29tZWRheU1heWJlTm90ZTogYm9vbGVhbjtcclxuICBwdWJsaWMgaXNEaXNjdXNzV2l0aE5vdGU6IGJvb2xlYW47XHJcbiAgcHVibGljIGlzV2FpdGluZ0Zvck5vdGU6IGJvb2xlYW47XHJcbiAgcHVibGljIGlzUHJvbWlzZWRUb05vdGU6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgc3RhdHVzOiBUb2RvSXRlbVN0YXR1cyxcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICBwZXJzb246IHN0cmluZyxcclxuICAgIHByb2plY3Q6IHN0cmluZyxcclxuICAgIGlzU29tZWRheU1heWJlTm90ZTogYm9vbGVhbixcclxuICAgIGlzRGlzY3Vzc1dpdGhOb3RlOiBib29sZWFuLFxyXG4gICAgaXNXYWl0aW5nRm9yTm90ZTogYm9vbGVhbixcclxuICAgIGlzUHJvbWlzZWRUb05vdGU6IGJvb2xlYW4sXHJcbiAgICBzb3VyY2VGaWxlUGF0aDogc3RyaW5nLFxyXG4gICAgc3RhcnRJbmRleDogbnVtYmVyLFxyXG4gICAgbGVuZ3RoOiBudW1iZXIsXHJcbiAgICBhY3Rpb25EYXRlPzogRGF0ZSxcclxuICApIHtcclxuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xyXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgdGhpcy5wZXJzb24gPSBwZXJzb247XHJcbiAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xyXG4gICAgdGhpcy5hY3Rpb25EYXRlID0gYWN0aW9uRGF0ZTtcclxuICAgIHRoaXMuaXNTb21lZGF5TWF5YmVOb3RlID0gaXNTb21lZGF5TWF5YmVOb3RlO1xyXG4gICAgdGhpcy5pc0Rpc2N1c3NXaXRoTm90ZSA9IGlzRGlzY3Vzc1dpdGhOb3RlO1xyXG4gICAgdGhpcy5pc1dhaXRpbmdGb3JOb3RlID0gaXNXYWl0aW5nRm9yTm90ZTtcclxuICAgIHRoaXMuaXNQcm9taXNlZFRvTm90ZSA9IGlzUHJvbWlzZWRUb05vdGU7XHJcbiAgICB0aGlzLnNvdXJjZUZpbGVQYXRoID0gc291cmNlRmlsZVBhdGg7XHJcbiAgICB0aGlzLnN0YXJ0SW5kZXggPSBzdGFydEluZGV4O1xyXG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRvZG9JdGVtSW5kZXhQcm9wcyB9IGZyb20gJy4uL21vZGVsL1RvZG9JbmRleCc7XHJcbmltcG9ydCB7IFRvZG9JdGVtLCBUb2RvSXRlbVN0YXR1cyB9IGZyb20gJy4uL21vZGVsL1RvZG9JdGVtJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvUGFyc2VyIHtcclxuICBwcm9wczogVG9kb0l0ZW1JbmRleFByb3BzO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogVG9kb0l0ZW1JbmRleFByb3BzKSB7XHJcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwYXJzZVRhc2tzKFxyXG4gICAgZmlsZVBhdGg6IHN0cmluZyxcclxuICAgIGZpbGVDb250ZW50czogc3RyaW5nLFxyXG4gICk6IFByb21pc2U8VG9kb0l0ZW1bXT4ge1xyXG4gICAgY29uc3QgcGF0dGVybiA9IC8oLXxcXCopIFxcWyhcXHN8eCk/XFxdXFxzKC4qKS9nO1xyXG4gICAgcmV0dXJuIFsuLi5maWxlQ29udGVudHMubWF0Y2hBbGwocGF0dGVybildLm1hcCh0YXNrID0+XHJcbiAgICAgIHRoaXMucGFyc2VUYXNrKGZpbGVQYXRoLCB0YXNrKSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhcnNlVGFzayhmaWxlUGF0aDogc3RyaW5nLCBlbnRyeTogUmVnRXhwTWF0Y2hBcnJheSk6IFRvZG9JdGVtIHtcclxuICAgIC8vIGRlYnVnZ2VyO1xyXG4gICAgY29uc3QgdG9kb0l0ZW1PZmZzZXQgPSAyOyAvLyBTdHJpcCBvZmYgYC18KiBgXHJcbiAgICBjb25zdCBzdGF0dXMgPSBlbnRyeVsyXSA9PT0gJ3gnID8gVG9kb0l0ZW1TdGF0dXMuRG9uZSA6IFRvZG9JdGVtU3RhdHVzLlRvZG87XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGVudHJ5WzNdO1xyXG5cclxuICAgIGNvbnN0IGRhdGVNYXRjaGVzID0gZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5kYXRlUmVnZXhwKTtcclxuICAgIGxldCBhY3Rpb25EYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgaWYgKGRhdGVNYXRjaGVzICE9IG51bGwpIHtcclxuICAgICAgYWN0aW9uRGF0ZSA9XHJcbiAgICAgICAgZGF0ZU1hdGNoZXMubGVuZ3RoID4gM1xyXG4gICAgICAgICAgPyBuZXcgRGF0ZShcclxuICAgICAgICAgICAgICBwYXJzZUludChkYXRlTWF0Y2hlc1sxXSksXHJcbiAgICAgICAgICAgICAgcGFyc2VJbnQoZGF0ZU1hdGNoZXNbMl0pIC0gMSxcclxuICAgICAgICAgICAgICBwYXJzZUludChkYXRlTWF0Y2hlc1szXSksXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwZXJzb25NYXRjaGVzID0gZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5wZXJzb25SZWdleHApO1xyXG4gICAgY29uc3QgcGVyc29uID0gcGVyc29uTWF0Y2hlcyAhPSBudWxsID8gcGVyc29uTWF0Y2hlc1sxXSA6ICcnO1xyXG5cclxuICAgIGNvbnN0IHByb2plY3RNYXRjaGVzID0gZGVzY3JpcHRpb24ubWF0Y2godGhpcy5wcm9wcy5wcm9qZWN0UmVnZXhwKTtcclxuICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0TWF0Y2hlcyAhPSBudWxsID8gcHJvamVjdE1hdGNoZXNbMV0gOiAnJztcclxuXHJcbiAgICByZXR1cm4gbmV3IFRvZG9JdGVtKFxyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBwZXJzb24sXHJcbiAgICAgIHByb2plY3QsXHJcbiAgICAgIGRlc2NyaXB0aW9uLm1hdGNoKHRoaXMucHJvcHMuc29tZWRheU1heWJlUmVnZXhwKSAhPSBudWxsLFxyXG4gICAgICBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLmRpc2N1c3NXaXRoUmVnZXhwKSAhPSBudWxsLFxyXG4gICAgICBkZXNjcmlwdGlvbi5tYXRjaCh0aGlzLnByb3BzLndhaXRpbmdGb3JSZWdleHApICE9IG51bGwsXHJcbiAgICAgIGRlc2NyaXB0aW9uLm1hdGNoKHRoaXMucHJvcHMucHJvbWlzZWRUb1JlZ2V4cCkgIT0gbnVsbCxcclxuICAgICAgZmlsZVBhdGgsXHJcbiAgICAgIChlbnRyeS5pbmRleCA/PyAwKSArIHRvZG9JdGVtT2Zmc2V0LFxyXG4gICAgICBlbnRyeVswXS5sZW5ndGggLSB0b2RvSXRlbU9mZnNldCxcclxuICAgICAgYWN0aW9uRGF0ZSxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRBYnN0cmFjdEZpbGUsIFRGaWxlLCBWYXVsdCB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgVG9kb0l0ZW0sIFRvZG9JdGVtU3RhdHVzIH0gZnJvbSAnLi4vbW9kZWwvVG9kb0l0ZW0nO1xyXG5pbXBvcnQgeyBUb2RvUGFyc2VyIH0gZnJvbSAnLi4vbW9kZWwvVG9kb1BhcnNlcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvZG9JdGVtSW5kZXhQcm9wcyB7XHJcbiAgcGVyc29uUmVnZXhwOiBSZWdFeHA7XHJcbiAgcHJvamVjdFJlZ2V4cDogUmVnRXhwO1xyXG4gIGRhdGVSZWdleHA6IFJlZ0V4cDtcclxuICBkaXNjdXNzV2l0aFJlZ2V4cDogUmVnRXhwO1xyXG4gIHdhaXRpbmdGb3JSZWdleHA6IFJlZ0V4cDtcclxuICBwcm9taXNlZFRvUmVnZXhwOiBSZWdFeHA7XHJcbiAgc29tZWRheU1heWJlUmVnZXhwOiBSZWdFeHA7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBUb2RvSW5kZXgge1xyXG4gIHByaXZhdGUgdmF1bHQ6IFZhdWx0O1xyXG4gIHByaXZhdGUgdG9kb3M6IE1hcDxzdHJpbmcsIFRvZG9JdGVtW10+O1xyXG4gIHByaXZhdGUgbGlzdGVuZXJzOiAoKHRvZG9zOiBUb2RvSXRlbVtdKSA9PiB2b2lkKVtdO1xyXG4gIHByaXZhdGUgcHJvcHM6IFRvZG9JdGVtSW5kZXhQcm9wcztcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB2YXVsdDogVmF1bHQsXHJcbiAgICBsaXN0ZW5lcjogKHRvZG9zOiBUb2RvSXRlbVtdKSA9PiB2b2lkLFxyXG4gICAgcHJvcHM6IFRvZG9JdGVtSW5kZXhQcm9wcyxcclxuICApIHtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMudmF1bHQgPSB2YXVsdDtcclxuICAgIHRoaXMudG9kb3MgPSBuZXcgTWFwPHN0cmluZywgVG9kb0l0ZW1bXT4oKTtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbG9hZEluZGV4KHByb3BzOiBUb2RvSXRlbUluZGV4UHJvcHMpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIC8vIFRPRE86IHBlcnNpc3QgaW5kZXggJiBsYXN0IHN5bmMgdGltZXN0YW1wOyBvbmx5IHBhcnNlIGZpbGVzIHRoYXQgY2hhbmdlZCBzaW5jZSB0aGVuLlxyXG4gICAgY29uc3QgdG9kb01hcCA9IG5ldyBNYXA8c3RyaW5nLCBUb2RvSXRlbVtdPigpO1xyXG4gICAgbGV0IG51bWJlck9mVG9kb3MgPSAwO1xyXG4gICAgY29uc3QgdGltZVN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgY29uc3QgbWFya2Rvd25GaWxlcyA9IHRoaXMudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIG1hcmtkb3duRmlsZXMpIHtcclxuICAgICAgY29uc3QgdG9kb3MgPSBhd2FpdCB0aGlzLnBhcnNlVG9kb3NJbkZpbGUoZmlsZSk7XHJcbiAgICAgIG51bWJlck9mVG9kb3MgKz0gdG9kb3MubGVuZ3RoO1xyXG4gICAgICBpZiAodG9kb3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRvZG9NYXAuc2V0KGZpbGUucGF0aCwgdG9kb3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG90YWxUaW1lTXMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRpbWVTdGFydDtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBgW29ic2lkaWFuLXN0YWtlaG9sZGVyX2FjdGlvbi1wbHVnaW5dIFBhcnNlZCAke251bWJlck9mVG9kb3N9IFRPRE9zIGZyb20gJHtcclxuICAgICAgICBtYXJrZG93bkZpbGVzLmxlbmd0aFxyXG4gICAgICB9IG1hcmtkb3duIGZpbGVzIGluICgke3RvdGFsVGltZU1zIC8gMTAwMC4wfXMpYCxcclxuICAgICk7XHJcbiAgICB0aGlzLnRvZG9zID0gdG9kb01hcDtcclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB0aGlzLmludm9rZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3RhdHVzKHRvZG86IFRvZG9JdGVtLCBuZXdTdGF0dXM6IFRvZG9JdGVtU3RhdHVzKTogdm9pZCB7XHJcbiAgICBjb25zdCBmaWxlID0gdGhpcy52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodG9kby5zb3VyY2VGaWxlUGF0aCkgYXMgVEZpbGU7XHJcbiAgICBjb25zdCBmaWxlQ29udGVudHMgPSB0aGlzLnZhdWx0LnJlYWQoZmlsZSk7XHJcbiAgICBmaWxlQ29udGVudHMudGhlbigoYzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1RvZG8gPSBgWyR7bmV3U3RhdHVzID09PSBUb2RvSXRlbVN0YXR1cy5Eb25lID8gJ3gnIDogJyAnfV0gJHtcclxuICAgICAgICB0b2RvLmRlc2NyaXB0aW9uXHJcbiAgICAgIH1gO1xyXG4gICAgICBjb25zdCBuZXdDb250ZW50cyA9XHJcbiAgICAgICAgYy5zdWJzdHJpbmcoMCwgdG9kby5zdGFydEluZGV4KSArXHJcbiAgICAgICAgbmV3VG9kbyArXHJcbiAgICAgICAgYy5zdWJzdHJpbmcodG9kby5zdGFydEluZGV4ICsgdG9kby5sZW5ndGgpO1xyXG4gICAgICB0aGlzLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50cyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5kZXhBYnN0cmFjdEZpbGUoZmlsZTogVEFic3RyYWN0RmlsZSkge1xyXG4gICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLmluZGV4RmlsZShmaWxlIGFzIFRGaWxlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5kZXhGaWxlKGZpbGU6IFRGaWxlKSB7XHJcbiAgICB0aGlzLnBhcnNlVG9kb3NJbkZpbGUoZmlsZSkudGhlbih0b2RvcyA9PiB7XHJcbiAgICAgIHRoaXMudG9kb3Muc2V0KGZpbGUucGF0aCwgdG9kb3MpO1xyXG4gICAgICB0aGlzLmludm9rZUxpc3RlbmVycygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNsZWFySW5kZXgocGF0aDogc3RyaW5nLCBzaWxlbnQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy50b2Rvcy5kZWxldGUocGF0aCk7XHJcbiAgICBpZiAoIXNpbGVudCkge1xyXG4gICAgICB0aGlzLmludm9rZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFByb3BzKFxyXG4gICAgc2V0dGVyOiAoY3VycmVudFByb3BzOiBUb2RvSXRlbUluZGV4UHJvcHMpID0+IFRvZG9JdGVtSW5kZXhQcm9wcyxcclxuICApOiB2b2lkIHtcclxuICAgIHRoaXMucHJvcHMgPSBzZXR0ZXIodGhpcy5wcm9wcyk7XHJcbiAgICAvL2RvIEkgbmVlZCB0byBkbyBhbnl0aGluZyBlbHNlPz9cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgcGFyc2VUb2Rvc0luRmlsZShmaWxlOiBURmlsZSk6IFByb21pc2U8VG9kb0l0ZW1bXT4ge1xyXG4gICAgLy8gVE9ETzogRG9lcyBpdCBtYWtlIHNlbnNlIHRvIGluZGV4IGNvbXBsZXRlZCBUT0RPcyBhdCBhbGw/XHJcbiAgICBjb25zdCB0b2RvUGFyc2VyID0gbmV3IFRvZG9QYXJzZXIodGhpcy5wcm9wcyk7XHJcbiAgICBjb25zdCBmaWxlQ29udGVudHMgPSBhd2FpdCB0aGlzLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XHJcbiAgICByZXR1cm4gdG9kb1BhcnNlclxyXG4gICAgICAucGFyc2VUYXNrcyhmaWxlLnBhdGgsIGZpbGVDb250ZW50cylcclxuICAgICAgLnRoZW4odG9kb3MgPT4gdG9kb3MuZmlsdGVyKHRvZG8gPT4gdG9kby5zdGF0dXMgPT09IFRvZG9JdGVtU3RhdHVzLlRvZG8pKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVnaXN0ZXJFdmVudEhhbmRsZXJzKCkge1xyXG4gICAgdGhpcy52YXVsdC5vbignY3JlYXRlJywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy52YXVsdC5vbignbW9kaWZ5JywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy52YXVsdC5vbignZGVsZXRlJywgKGZpbGU6IFRBYnN0cmFjdEZpbGUpID0+IHtcclxuICAgICAgdGhpcy5jbGVhckluZGV4KGZpbGUucGF0aCk7XHJcbiAgICB9KTtcclxuICAgIC8vIFdlIGNvdWxkIHNpbXBseSBjaGFuZ2UgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIG9sZCBwYXRoLCBidXQgcGFyc2luZyBhZ2FpbiBkb2VzIHRoZSB0cmljayBhcyB3ZWxsXHJcbiAgICB0aGlzLnZhdWx0Lm9uKCdyZW5hbWUnLCAoZmlsZTogVEFic3RyYWN0RmlsZSwgb2xkUGF0aDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xlYXJJbmRleChvbGRQYXRoKTtcclxuICAgICAgdGhpcy5pbmRleEFic3RyYWN0RmlsZShmaWxlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbnZva2VMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCB0b2RvcyA9IChbXSBhcyBUb2RvSXRlbVtdKS5jb25jYXQoLi4uQXJyYXkuZnJvbSh0aGlzLnRvZG9zLnZhbHVlcygpKSk7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKHRvZG9zKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IEFjdGlvblRyYWNrZXJQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uVHJhY2tlclNldHRpbmdzIHtcclxuICBwZXJzb25SZWdleHBTdHJpbmc6IHN0cmluZztcclxuICBwcm9qZWN0UmVnZXhwU3RyaW5nOiBzdHJpbmc7XHJcbiAgZGF0ZVJlZ2V4cFN0cmluZzogc3RyaW5nO1xyXG4gIGRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nOiBzdHJpbmc7XHJcbiAgd2FpdGluZ0ZvclJlZ2V4cFN0cmluZzogc3RyaW5nO1xyXG4gIHByb21pc2VkVG9SZWdleHBTdHJpbmc6IHN0cmluZztcclxuICBzb21lZGF5TWF5YmVSZWdleHBTdHJpbmc6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEFjdGlvblRyYWNrZXJTZXR0aW5ncyA9IHtcclxuICBwZXJzb25SZWdleHBTdHJpbmc6ICdcXFxcW3syfVBlb3BsZVxcXFwvKC4qPylcXFxcXXsyfScsXHJcbiAgcHJvamVjdFJlZ2V4cFN0cmluZzogJ1xcXFxbezJ9UHJvamVjdHNcXFxcLyguKj8pXFxcXF17Mn0nLFxyXG4gIGRhdGVSZWdleHBTdHJpbmc6ICcjKFxcXFxkezR9KVxcXFwvKFxcXFxkezJ9KVxcXFwvKFxcXFxkezJ9KScsXHJcbiAgZGlzY3Vzc1dpdGhSZWdleHBTdHJpbmc6ICcjKGRpc2N1c3NXaXRoKScsXHJcbiAgd2FpdGluZ0ZvclJlZ2V4cFN0cmluZzogJyMod2FpdGluZ0ZvciknLFxyXG4gIHByb21pc2VkVG9SZWdleHBTdHJpbmc6ICcjKHByb21pc2VkVG8pJyxcclxuICBzb21lZGF5TWF5YmVSZWdleHBTdHJpbmc6ICcjKHNvbWVkYXkpJyxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25UcmFja2VyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHBsdWdpbjogQWN0aW9uVHJhY2tlclBsdWdpbjtcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQWN0aW9uVHJhY2tlclBsdWdpbikge1xyXG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG4gICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7XHJcbiAgICAgIHRleHQ6ICdTZXR0aW5ncyBmb3IgdGhlIHN0YWtlaG9sZGVyIGFjdGlvbiB0cmFja2VyIHBsdWdpbicsXHJcbiAgICB9KTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ1BlcnNvbiByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgICdUaGlzIGlzIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gaWRlbnRpZnkgdGhlIGFjdGlvbiBwYXJ0eSBpbiB0aGUgYWN0aW9uLiBVc2VkIGZvciBmaWx0ZXJpbmcgdG9kb3MgYnkgcGVyc29uLicsXHJcbiAgICAgIClcclxuICAgICAgLmFkZFRleHQodGV4dCA9PlxyXG4gICAgICAgIHRleHRcclxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignXFxcXFt7Mn1QZW9wbGVcXFxcLyguKj8pXFxcXF17Mn0nKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcnNvblJlZ2V4cFN0cmluZylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBlcnNvblJlZ2V4cFN0cmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICApO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnUHJvamVjdCByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgICdUaGlzIGlzIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gaWRlbnRpZnkgdGhlIHByb2plY3QgaW4gdGhlIGFjdGlvbi4gVXNlZCBmb3IgZmlsdGVyaW5nIHRvZG9zIGJ5IHByb2plY3QgbmFtZS4nLFxyXG4gICAgICApXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1xcXFxbezJ9UHJvamVjdHNcXFxcLyguKj8pXFxcXF17Mn0nKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnByb2plY3RSZWdleHBTdHJpbmcpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9qZWN0UmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdEYXRlIHJlZ2V4cCBwYXR0ZXJuJylcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgJ1RoaXMgaXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBnZXQgdGhlIGRhdGUgZm9yIGFuIGFjdGlvbi4gVGhlIFJlZ0V4cCBuZWVkcyB0byBjYXB0dXJlIDMgdmFsdWVzLiBUaGUgZmlyc3Qgb25lIHNob3VsZCBiZSB0aGUgeWVhciAoeXl5eSksIHRoZSBzY2VvbmQgdGhlIG1vbnRoIChtbSksIHRoZSB0aGlyZCB0aGUgZGF5IChkZCkuJyxcclxuICAgICAgKVxyXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcjKFxcXFxkezR9KVxcXFwvKFxcXFxkezJ9KVxcXFwvKFxcXFxkezJ9KScpXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZVJlZ2V4cFN0cmluZylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVSZWdleHBTdHJpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ0Rpc2N1c3MgV2l0aCByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgICdUaGlzIGlzIHRoZSByZWdleHAgcGF0dGVybiB5b3UgdXNlIHRvIG1hcmsgdG9waWNzIHlvdSB3YW50IHRvIGRpc2N1c3Mgd2l0aCBzb21lb25lLiBcIkRpc2N1c3Mgd2l0aFwiLCBcIlByb21pc2VkIHRvXCIsIGFuZCBcIldhaXRpbmcgZm9yXCIgYWN0aW9ucyBzaG93IHVwIHVuZGVyIHRoZSBTdGFrZWhvbGRlciBBY3Rpb25zIHRhYi4nLFxyXG4gICAgICApXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJyMoZGlzY3Vzc1dpdGgpJylcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNjdXNzV2l0aFJlZ2V4cFN0cmluZylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc2N1c3NXaXRoUmVnZXhwU3RyaW5nID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICk7XHJcblxyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKCdXYWl0aW5nIEZvciByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgICdUaGlzIGlzIHRoZSByZWdleHAgcGF0dGVybiB5b3UgdXNlIHRvIG1hcmsgdG9waWNzIHNvbWVvbmUgaGFzIHByb21pc2VkIHRvIGRlbGl2ZXIgdG8gbWUuIFwiRGlzY3VzcyB3aXRoXCIsIFwiUHJvbWlzZWQgdG9cIiwgYW5kIFwiV2FpdGluZyBmb3JcIiBhY3Rpb25zIHNob3cgdXAgdW5kZXIgdGhlIFN0YWtlaG9sZGVyIEFjdGlvbnMgdGFiLicsXHJcbiAgICAgIClcclxuICAgICAgLmFkZFRleHQodGV4dCA9PlxyXG4gICAgICAgIHRleHRcclxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignIyh3YWl0aW5nRm9yKScpXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud2FpdGluZ0ZvclJlZ2V4cFN0cmluZylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndhaXRpbmdGb3JSZWdleHBTdHJpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgKTtcclxuXHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoJ1Byb21pc2VkIFRvIHJlZ2V4cCBwYXR0ZXJuJylcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgJ1RoaXMgaXMgdGhlIHJlZ2V4cCBwYXR0ZXJuIHlvdSB1c2UgdG8gbWFyayB0b3BpY3Mgc29tZW9uZSBoYXMgcHJvbWlzZWQgdG8gZGVsaXZlciB0byBtZS4gXCJEaXNjdXNzIHdpdGhcIiwgXCJQcm9taXNlZCB0b1wiLCBhbmQgXCJXYWl0aW5nIGZvclwiIGFjdGlvbnMgc2hvdyB1cCB1bmRlciB0aGUgU3Rha2Vob2xkZXIgQWN0aW9ucyB0YWIuJyxcclxuICAgICAgKVxyXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XHJcbiAgICAgICAgdGV4dFxyXG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCcjKHByb21pc2VkVG8pJylcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9taXNlZFRvUmVnZXhwU3RyaW5nKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvbWlzZWRUb1JlZ2V4cFN0cmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICApO1xyXG5cclxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZSgnU29tZWRheSBNYXliZSByZWdleHAgcGF0dGVybicpXHJcbiAgICAgIC5zZXREZXNjKFxyXG4gICAgICAgICdUaGlzIGlzIHRoZSByZWdleHAgcGF0dGVybiB5b3UgdXNlIHRvIG1hcmsgYWN0aW9ucyBkZWxpYmVyYXRlbHkgd2l0aG91dCBhIGRlYWRsaW5lIC0gaS5lLiBidWNrZXQgbGlzdC4gQWN0aW9ucyB3aXRob3V0IGEgdmFsaWQgdGFnIGFuZCB3aXRob3V0IGEgZGVhZGxpbmUgd2lsbCBzaG93IHVwIGluIHRoZSBJbmJveC4nLFxyXG4gICAgICApXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cclxuICAgICAgICB0ZXh0XHJcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJyMoc29tZWRheSknKVxyXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNvbWVkYXlNYXliZVJlZ2V4cFN0cmluZylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNvbWVkYXlNYXliZVJlZ2V4cFN0cmluZyA9IHZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgIH0pLFxyXG4gICAgICApO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZW51bSBJY29uIHtcclxuICBJbmJveCxcclxuICBSZXZlYWwsXHJcbiAgU2NoZWR1bGVkLFxyXG4gIFNvbWVkYXksXHJcbiAgVG9kYXksXHJcbiAgU3Rha2Vob2xkZXIsXHJcbiAgQWdpbmcsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSZW5kZXJJY29uID0gKFxyXG4gIGljb246IEljb24sXHJcbiAgdGl0bGUgPSAnJyxcclxuICBkZXNjcmlwdGlvbiA9ICcnLFxyXG4pOiBIVE1MRWxlbWVudCA9PiB7XHJcbiAgY29uc3Qgc3ZnID0gc3ZnRm9ySWNvbihpY29uKSh0aXRsZSwgZGVzY3JpcHRpb24pO1xyXG4gIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2ZywgJ3RleHQveG1sJykuZG9jdW1lbnRFbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xyXG5cclxuY29uc3Qgc3ZnRm9ySWNvbiA9IChpY29uOiBJY29uKTogKChhcmcwOiBzdHJpbmcsIGFyZzE6IHN0cmluZykgPT4gc3RyaW5nKSA9PiB7XHJcbiAgc3dpdGNoIChpY29uKSB7XHJcbiAgICBjYXNlIEljb24uSW5ib3g6XHJcbiAgICAgIHJldHVybiBpbmJveEljb247XHJcbiAgICBjYXNlIEljb24uUmV2ZWFsOlxyXG4gICAgICByZXR1cm4gcmV2ZWFsSWNvbjtcclxuICAgIGNhc2UgSWNvbi5TY2hlZHVsZWQ6XHJcbiAgICAgIHJldHVybiBzY2hlZHVsZWRJY29uO1xyXG4gICAgY2FzZSBJY29uLlNvbWVkYXk6XHJcbiAgICAgIHJldHVybiBzb21lZGF5SWNvbjtcclxuICAgIGNhc2UgSWNvbi5Ub2RheTpcclxuICAgICAgcmV0dXJuIHRvZGF5SWNvbjtcclxuICAgIGNhc2UgSWNvbi5TdGFrZWhvbGRlcjpcclxuICAgICAgcmV0dXJuIHN0YWtlaG9sZGVySWNvbjtcclxuICAgIGNhc2UgSWNvbi5BZ2luZzpcclxuICAgICAgcmV0dXJuIGFnaW5nSWNvbjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBpbmJveEljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBhcmlhLWxhYmVsPVwiJHtcclxuICB0aXRsZSArIGRlc2NyaXB0aW9uXHJcbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMFYwelwiIGZpbGw9XCJub25lXCIvPlxyXG4gIDxwYXRoIGQ9XCJNMTkgM0g1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yem0wIDE2SDV2LTNoMy41NmMuNjkgMS4xOSAxLjk3IDIgMy40NSAyczIuNzUtLjgxIDMuNDUtMkgxOXYzem0wLTVoLTQuOTljMCAxLjEtLjkgMi0yIDJzLTItLjktMi0ySDVWNWgxNHY5elwiLz5cclxuPC9zdmc+XHJcbmA7XHJcblxyXG5jb25zdCByZXZlYWxJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCIgcm9sZT1cImltZ1wiIGFyaWEtbGFiZWw9XCIke1xyXG4gIHRpdGxlICsgZGVzY3JpcHRpb25cclxufVwiPlxyXG4gIDx0aXRsZT4ke3RpdGxlfTwvdGl0bGU+XHJcbiAgPGRlc2NyaXB0aW9uPiR7ZGVzY3JpcHRpb259PC9kZXNjcmlwdGlvbj5cclxuICA8cmVjdCBmaWxsPVwibm9uZVwiIGhlaWdodD1cIjI0XCIgd2lkdGg9XCIyNFwiLz48cGF0aCBkPVwiTTksNXYyaDYuNTlMNCwxOC41OUw1LjQxLDIwTDE3LDguNDFWMTVoMlY1SDl6XCIvPlxyXG48L3N2Zz5cclxuYDtcclxuXHJcbmNvbnN0IHNjaGVkdWxlZEljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBhcmlhLWxhYmVsPVwiJHtcclxuICB0aXRsZSArIGRlc2NyaXB0aW9uXHJcbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMFYwelwiIGZpbGw9XCJub25lXCIvPlxyXG4gIDxwYXRoIGQ9XCJNMjAgM2gtMVYxaC0ydjJIN1YxSDV2Mkg0Yy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMThINFYxMGgxNnYxMXptMC0xM0g0VjVoMTZ2M3pcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3Qgc29tZWRheUljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAyNCAyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBhcmlhLWxhYmVsPVwiJHtcclxuICB0aXRsZSArIGRlc2NyaXB0aW9uXHJcbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPGc+PHJlY3QgZmlsbD1cIm5vbmVcIiBoZWlnaHQ9XCIyNFwiIHdpZHRoPVwiMjRcIi8+PC9nPlxyXG4gIDxnPjxnPjxwYXRoIGQ9XCJNMjAsMkg0QzMsMiwyLDIuOSwyLDR2My4wMUMyLDcuNzMsMi40Myw4LjM1LDMsOC43VjIwYzAsMS4xLDEuMSwyLDIsMmgxNGMwLjksMCwyLTAuOSwyLTJWOC43YzAuNTctMC4zNSwxLTAuOTcsMS0xLjY5VjQgQzIyLDIuOSwyMSwyLDIwLDJ6IE0xOSwyMEg1VjloMTRWMjB6IE0yMCw3SDRWNGgxNlY3elwiLz48cmVjdCBoZWlnaHQ9XCIyXCIgd2lkdGg9XCI2XCIgeD1cIjlcIiB5PVwiMTJcIi8+PC9nPjwvZz5cclxuPC9zdmc+XHJcbmA7XHJcblxyXG5jb25zdCB0b2RheUljb24gPSAodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZyk6IHN0cmluZyA9PiBgXHJcbjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRcIiBhcmlhLWxhYmVsPVwiJHtcclxuICB0aXRsZSArIGRlc2NyaXB0aW9uXHJcbn1cIj5cclxuICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxyXG4gIDxkZXNjcmlwdGlvbj4ke2Rlc2NyaXB0aW9ufTwvZGVzY3JpcHRpb24+XHJcbiAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMFYwelwiIGZpbGw9XCJub25lXCIvPlxyXG4gIDxwYXRoIGQ9XCJNMjIgOS4yNGwtNy4xOS0uNjJMMTIgMiA5LjE5IDguNjMgMiA5LjI0bDUuNDYgNC43M0w1LjgyIDIxIDEyIDE3LjI3IDE4LjE4IDIxbC0xLjYzLTcuMDNMMjIgOS4yNHpNMTIgMTUuNGwtMy43NiAyLjI3IDEtNC4yOC0zLjMyLTIuODggNC4zOC0uMzhMMTIgNi4xbDEuNzEgNC4wNCA0LjM4LjM4LTMuMzIgMi44OCAxIDQuMjhMMTIgMTUuNHpcIi8+XHJcbjwvc3ZnPlxyXG5gO1xyXG5cclxuY29uc3Qgc3Rha2Vob2xkZXJJY29uID0gKHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBzdHJpbmcgPT4gYFxyXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMTYgMjRcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDE2IDI0XCIgYXJpYS1sYWJlbD1cIiR7XHJcbiAgdGl0bGUgKyBkZXNjcmlwdGlvblxyXG59XCI+XHJcbiAgPHRpdGxlPiR7dGl0bGV9PC90aXRsZT5cclxuICA8ZGVzY3JpcHRpb24+JHtkZXNjcmlwdGlvbn08L2Rlc2NyaXB0aW9uPlxyXG4gIDxwYXRoIGQ9XCJNMCAwaDI0djE2SDBWMHpcIiBmaWxsPVwibm9uZVwiLz5cclxuICA8cGF0aCAgZD1cIk0gMTIuMDQxNjE3IDAuMzc5Mzk1IEMgMTQuNzgzMDcyIC0wLjM4NTI1NCAxNy44NDQ1OTYgMC42NDg0MzggMjAuMzM1NTYzIDIuMDIxOTczIEMgMjIuODI2NTI5IDMuMzk1NTA4IDI1LjcwNzE0NSA1Ljc0NjA5NCAyNi45NzM1MDIgOC42MDY0NDUgQyAyOC4yMzk4NiAxMS40ODA5NTcgMjguOTIxNzQ0IDE2LjE4MjEyOSAyNy45MzM3MDcgMTkuMjI2NTYyIEMgMjYuOTQ1NjcgMjIuMjcwOTk2IDIzLjc0NDk4NiAyNS40NzExOTEgMjEuMDU5MTk1IDI2LjkwMTM2NyBDIDE4LjM1OTQ4OCAyOC4zNDU3MDMgMTQuNjg1NjYgMjguNjI4OTA2IDExLjc3NzIxMyAyNy44NjQyNTggQyA4Ljg2ODc2NiAyNy4wOTk2MDkgNS41ODQ1ODYgMjQuNjM1NzQyIDMuNTY2NzY0IDIyLjI5OTMxNiBDIDEuNTYyODU4IDE5Ljk2Mjg5MSAtMC4yNDYyMjQgMTYuOTYwOTM4IC0wLjMwMTg4OSAxMy44NzQwMjMgQyAtMC4zNTc1NTMgMTAuNzg3MTA5IDAuODExMzkzIDYuMTI4NDE4IDMuMjA0OTQ3IDMuODA2MTUyIEMgNS41OTg1MDIgMS40ODM4ODcgMTEuODg4NTQxIDAuMzc5Mzk1IDE0LjA4NzI3MiAtMC4wNzM3MzA1IEMgMTYuMjk5OTE4IC0wLjUyNjg1NSAxNi40ODA4MjYgMC43NjE3MTkgMTYuNDM5MDc4IDEuMDU5MDgyIE0gMTguOTAyMjEzIC0wLjIwMTE3MiBDIDIxLjYyOTc1MiAwLjMwODU5NCAyNS40ODQ0ODggMy42MjIwNyAyNi45NDU2NyA2LjM5NzQ2MSBDIDI4LjQyMDc2OCA5LjE3Mjg1MiAyOC41MzIwOTYgMTMuNTIwMDIgMjcuNjk3MTM1IDE2LjQyMjg1MiBDIDI2Ljg3NjA5IDE5LjMyNTY4NCAyNC4yNDU5NjMgMjIuMTAxMDc0IDIxLjk2MzczNiAyMy44MTQ0NTMgQyAxOS42ODE1MSAyNS41MTM2NzIgMTcuMTM0ODc5IDI2LjM0OTEyMSAxNC4wMzE2MDggMjYuNjYwNjQ1IEMgMTAuOTQyMjUyIDI2Ljk1ODAwOCA1LjgyMTE1OCAyNy41MjQ0MTQgMy4zODU4NTYgMjUuNjU1MjczIEMgMC45NTA1NTMgMjMuODAwMjkzIC0wLjU4MDIwOSAxOC40NzYwNzQgLTAuNTk0MTI1IDE1LjQ4ODI4MSBDIC0wLjYwODA0MSAxMi41MDA0ODggMS43Mjk4NSAxMC4wMjI0NjEgMy4zMDIzNiA3LjcyODUxNiBDIDQuODc0ODY5IDUuNDM0NTcgNi4xMTMzOTUgMi45NzA3MDMgOC44NDA5MzQgMS43MjQ2MDkgQyAxMS41Njg0NzMgMC40Nzg1MTYgMTguMDUzMzM2IDAuMjM3NzkzIDE5LjYzOTc2MiAwLjIzNzc5MyBDIDIxLjIyNjE4OCAwLjIyMzYzMyAxOC41MjY0ODEgMS41MTIyMDcgMTguMzg3MzIgMS42OTYyODkgXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMjgwNzAyLDAsMCwwLjI3NTg2MiwzLjIzNzA4NCwyLjc1ODYyMSlcIi8+XHJcbiAgPHBhdGggIGQ9XCJNIC0wLjI2MDg4NCAtMTcuNDk3NzMxIEMgLTAuNjY0NDQ5IC0yMS4yMDc2OTIgLTMuNDA1OTA0IC0zNC43MzA2NDEgLTIuNzc5NjgzIC0zOS45NDE1NzggQyAtMi4xNTM0NjMgLTQ1LjE1MjUxNiAwLjExNDg0OCAtNDYuODk0MjE1IDMuNDgyNTI0IC00OC43NDkxOTYgQyA2Ljg1MDIgLTUwLjU5MDAxNiAxMy4wOTg0OTEgLTUxLjQ2Nzk0NiAxNy40NDAyODcgLTUxLjAyODk4MSBDIDIxLjc4MjA4NCAtNTAuNTkwMDE2IDI3LjA0MjMzOCAtNTEuNjk0NTA4IDI5LjUxOTM4OSAtNDYuMTI5NTY3IEMgMzEuOTk2NDQgLTQwLjU2NDYyNSAzNy4yNDI3NzggLTIyLjU5NTM4NyAzMi4yNzQ3NiAtMTcuNjM5MzMyIEMgMjcuMzIwNjU5IC0xMi42ODMyNzggNS4xMjQ2MTQgLTE2LjUwNjUyIC0wLjI0Njk2OCAtMTYuMzkzMjM4IE0gLTEuNTEzMzI2IC0xOC43Mjk2NjQgQyAtMS41NTUwNzQgLTIyLjcwODY2OCAtMS4xOTMyNTcgLTM2LjcyNzIyMyAtMC40Njk2MjUgLTQxLjQ5OTE5NiBDIDAuMjU0MDA4IC00Ni4yNTcwMDggLTAuMTA3ODA4IC00NS44ODg4NDQgMi44MTQ1NTUgLTQ3LjI5MDY5OSBDIDUuNzM2OTE4IC00OC42OTI1NTUgMTIuMzA1Mjc4IC01MC4wOTQ0MSAxNy4wOTIzODcgLTQ5LjkzODY0OSBDIDIxLjg2NTU4IC00OS43Njg3MjcgMjkuMjY4OTAxIC01MS41Mzg3NDYgMzEuNTIzMjk1IC00Ni4zMTM2NDkgQyAzMy43Nzc2OSAtNDEuMDg4NTUxIDM1Ljc1Mzc2NCAtMjMuNDMwODM2IDMwLjU5MDkyMiAtMTguNjAyMjIzIEMgMjUuNDQxOTk2IC0xMy43NzM2MSA1LjgyMDQxNCAtMTcuNTgyNjkyIDAuNjAxOTA5IC0xNy4zNTYxMjkgXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMjgwNzAyLDAsMCwwLjI3NTg2MiwzLjYxMjI5MywyNS4zNTAzOTgpXCIvPlxyXG48L3N2Zz5cclxuYDtcclxuXHJcbmNvbnN0IGFnaW5nSWNvbiA9ICh0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nKTogc3RyaW5nID0+IGBcclxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiIGFyaWEtbGFiZWw9XCIke1xyXG4gIHRpdGxlICsgZGVzY3JpcHRpb25cclxufVwiPlxyXG4gIDx0aXRsZT4ke3RpdGxlfTwvdGl0bGU+XHJcbiAgPGRlc2NyaXB0aW9uPiR7ZGVzY3JpcHRpb259PC9kZXNjcmlwdGlvbj5cclxuICA8ZyBpZD1cInN1cmZhY2UxXCI+XHJcbiAgPHBhdGggc3R5bGU9XCJmaWxsLXJ1bGU6ZXZlbm9kZDtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MTY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6NDtcIiBkPVwiTSAyNTQuMzMzMzMzIDQ2MS4xNjY2NjcgQyAxMjUgMjgzLjgzMzMzMyAxNzIuODMzMzMzIDIyLjMzMzMzMyA1MTguNSAxOC4zMzMzMzMgQyA4NjQuNjY2NjY3IDE3LjY2NjY2NyA5MjQuNjY2NjY3IDI5NS44MzMzMzMgNzkyLjgzMzMzMyA0NDkuNjY2NjY3IEMgODAxLjMzMzMzMyA1MzEuNSA4MDEuNSA2MDAuMzMzMzMzIDczOC41IDYxOC4zMzMzMzMgQyA3MTIuODMzMzMzIDcyNi4zMzMzMzMgNzIyLjUgNzk0LjUgNzA3LjE2NjY2NyA4MjkuNjY2NjY3IEMgNjM1LjMzMzMzMyA5NTYuNjY2NjY3IDQxMC44MzMzMzMgOTYyLjUgMzQwIDgzMS4xNjY2NjcgQyAzMjMuNjY2NjY3IDc5MCAzMzcuNSA3MjIuNSAzMDUuNjY2NjY3IDYxMi4xNjY2NjcgQyAyNjEuODMzMzMzIDU5NS4xNjY2NjcgMjQ4LjgzMzMzMyA1NDIuNjY2NjY3IDI1NC4zMzMzMzMgNDYxLjE2NjY2NyBaIE0gMjU0LjMzMzMzMyAyMzguMzMzMzMzIEMgMjM2LjY2NjY2NyAyNzkgMjQ1LjE2NjY2NyAzMDUgMjYxLjY2NjY2NyAzNDguNSBDIDI3MiAzNzUuMzMzMzMzIDI1OS41IDQyOS4xNjY2NjcgMjU0LjMzMzMzMyA0NjEuMTY2NjY3IE0gNzk3LjE2NjY2NyAyMzguMzMzMzMzIEMgODA5LjUgMjY0IDgwNy4xNjY2NjcgMjg5LjgzMzMzMyA3OTAuMTY2NjY3IDM0Mi4zMzMzMzMgQyA3NzguNSAzNzIuODMzMzMzIDc5MC4xNjY2NjcgNDE5LjE2NjY2NyA3OTIuODMzMzMzIDQ0OS42NjY2NjcgTSAzOTQuNSA2OTMuODMzMzMzIEMgMzg0IDY1OC42NjY2NjcgMzQyIDYyMy41IDMwNS42NjY2NjcgNjEyLjE2NjY2NyBNIDY1NS4zMzMzMzMgNjkyIEMgNjcyIDY1MCA2OTQuNSA2MjAgNzM4LjUgNjE4LjMzMzMzMyBcIiB0cmFuc2Zvcm09XCJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsMCwwKVwiLz5cclxuICA8cGF0aCBzdHlsZT1cImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6ODtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOnJnYigwJSwwJSwwJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDo0O1wiIGQ9XCJNIDM0MCA2MjYgQyAzNjEgNjc0IDM3Mi4zMzMzMzMgNzI1LjgzMzMzMyAzODAgNzc5IEMgNDI4LjE2NjY2NyA4NDAgNTk0LjE2NjY2NyA4NTggNjY1IDc3NiBDIDY2OS44MzMzMzMgNzI1LjE2NjY2NyA2ODcuNjY2NjY3IDY3NS42NjY2NjcgNzA0IDYyNiBMIDY1NS4zMzMzMzMgNjkyIEMgNjQ5LjY2NjY2NyA3MzMuMTY2NjY3IDQwMiA3MzAuNSAzOTQuNSA2OTMuODMzMzMzIFogTSA0MDMuNSA3OTggTCA0MDMuNSA3MDYgTSA0MzIgODE1IEwgNDMzIDcxNCBNIDQ2Mi41IDgyMiBMIDQ2MyA3MTkgTSA0OTIuNSA4MjcuNSBDIDQ5Mi41IDgyNS41IDQ5MyA3MjEuNSA0OTMgNzIxLjUgTSA1MjMuNSA4MzEgTCA1MjMgNzIyLjUgTSA1NTQuNSA4MjcgTCA1NTQgNzIyIE0gNTgzIDgyMi41IEwgNTgyIDcxOSBNIDYxNS41IDgxMC41IEwgNjE0IDcxNSBNIDY0NCA3OTQgTCA2NDMgNzA1LjUgTSA2NDIgNzUwLjUgQyA1NjAuNSA3ODYgNDg3LjgzMzMzMyA3ODguNSA0MDQgNzUwLjUgXCIgdHJhbnNmb3JtPVwibWF0cml4KDAuMDIzNDM3NSwwLDAsMC4wMjM0Mzc1LDAsMClcIi8+XHJcbiAgPHBhdGggc3R5bGU9XCIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxO1wiIGQ9XCJNIDcuMjUgOS43ODkwNjIgQyA3LjExMzI4MSAxMC4yODEyNSA3LjIwNzAzMSAxMC45MTAxNTYgNy4zODI4MTIgMTEuNDYwOTM4IEMgNy42MDU0NjkgMTIuMTUyMzQ0IDguMTA1NDY5IDEyLjU2NjQwNiA4Ljk1MzEyNSAxMi42MzI4MTIgQyA5LjkyOTY4OCAxMi42NTYyNSAxMC41NTQ2ODggMTIuMDg5ODQ0IDEwLjk2ODc1IDExLjE3OTY4OCBDIDExLjA4MjAzMSAxMC45MDYyNSAxMS4xNTYyNSAxMC40NDUzMTIgMTEuMDM5MDYyIDkuOTM3NSBDIDEwLjk2ODc1IDkuNjc5Njg4IDEwLjY0NDUzMSA5LjI5Njg3NSAxMC4zMjgxMjUgOS4xMDE1NjIgQyA5Ljc1MzkwNiA4Ljc1MzkwNiA3LjQ3MjY1NiA4Ljk0OTIxOSA3LjI1IDkuNzg5MDYyIFogTSAxNy4zMzk4NDQgOS43MjY1NjIgQyAxNy40NzI2NTYgMTAuMjE4NzUgMTcuMzc4OTA2IDEwLjg0NzY1NiAxNy4yMDMxMjUgMTEuMzk4NDM4IEMgMTYuOTg0Mzc1IDEyLjA4OTg0NCAxNi40ODA0NjkgMTIuNTAzOTA2IDE1LjYzMjgxMiAxMi41NzAzMTIgQyAxNC42NTYyNSAxMi41OTM3NSAxNC4wMzUxNTYgMTIuMDI3MzQ0IDEzLjYxNzE4OCAxMS4xMTcxODggQyAxMy41MDM5MDYgMTAuODQzNzUgMTMuNDI5Njg4IDEwLjM4MjgxMiAxMy41NDY4NzUgOS44NzUgQyAxMy42MTcxODggOS42MTcxODggMTMuOTQxNDA2IDkuMjM0Mzc1IDE0LjI1NzgxMiA5LjAzNTE1NiBDIDE0LjgzNTkzOCA4LjY5MTQwNiAxNy4xMTMyODEgOC44ODY3MTkgMTcuMzM5ODQ0IDkuNzI2NTYyIFogTSAxMi4wMzUxNTYgMTIgTCAxMi4wMzUxNTYgMTQuNzY1NjI1IEMgMTEuNjI1IDE1LjM4NjcxOSAxMS40ODQzNzUgMTUuNDMzNTk0IDExLjI1IDE1LjQyMTg3NSBDIDEwLjk0MTQwNiAxNS40MjE4NzUgMTAuNzM0Mzc1IDE0Ljk2NDg0NCAxMC43OTI5NjkgMTQuNDM3NSBDIDEwLjk0NTMxMiAxMi43Njk1MzEgMTEuNDQ5MjE5IDEyLjQyNTc4MSAxMi4wMzUxNTYgMTIgWiBNIDEyLjQ1MzEyNSAxMi4wMTE3MTkgTCAxMi40NTMxMjUgMTQuNzc3MzQ0IEMgMTIuODYzMjgxIDE1LjM5ODQzOCAxMy4wMDM5MDYgMTUuNDQ1MzEyIDEzLjIzODI4MSAxNS40MzM1OTQgQyAxMy41NDI5NjkgMTUuNDMzNTk0IDEzLjc1IDE0Ljk3NjU2MiAxMy42OTUzMTIgMTQuNDQ5MjE5IEMgMTMuNTQyOTY5IDEyLjc4MTI1IDEzLjAzOTA2MiAxMi40Mzc1IDEyLjQ1MzEyNSAxMi4wMTE3MTkgWiBNIDEyLjQ1MzEyNSAxMi4wMTE3MTkgXCIvPlxyXG4gIDwvZz5cclxuPC9zdmc+XHJcbmA7XHJcbiIsImltcG9ydCB7IEl0ZW1WaWV3LCBNYXJrZG93blJlbmRlcmVyLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBWSUVXX1RZUEVfVE9ETyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFRvZG9JdGVtLCBUb2RvSXRlbVN0YXR1cyB9IGZyb20gJy4uL21vZGVsL1RvZG9JdGVtJztcclxuaW1wb3J0IHsgUmVuZGVySWNvbiwgSWNvbiB9IGZyb20gJy4uL3VpL2ljb25zJztcclxuXHJcbmVudW0gVG9kb0l0ZW1WaWV3UGFuZSB7XHJcbiAgQWdpbmcsXHJcbiAgVG9kYXksXHJcbiAgU2NoZWR1bGVkLFxyXG4gIEluYm94LFxyXG4gIFNvbWVkYXksXHJcbiAgU3Rha2Vob2xkZXIsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9kb0l0ZW1WaWV3UHJvcHMge1xyXG4gIHRvZG9zOiBUb2RvSXRlbVtdO1xyXG4gIG9wZW5GaWxlOiAoZmlsZVBhdGg6IHN0cmluZykgPT4gdm9pZDtcclxuICB0b2dnbGVUb2RvOiAodG9kbzogVG9kb0l0ZW0sIG5ld1N0YXR1czogVG9kb0l0ZW1TdGF0dXMpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBUb2RvSXRlbVZpZXdTdGF0ZSB7XHJcbiAgYWN0aXZlUGFuZTogVG9kb0l0ZW1WaWV3UGFuZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvZG9JdGVtVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuICBwcml2YXRlIHByb3BzOiBUb2RvSXRlbVZpZXdQcm9wcztcclxuICBwcml2YXRlIHN0YXRlOiBUb2RvSXRlbVZpZXdTdGF0ZTtcclxuICBwcml2YXRlIGZpbHRlcjogc3RyaW5nO1xyXG4gIHByaXZhdGUgZmlsdGVyUmVnZXhwOiBSZWdFeHA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHByb3BzOiBUb2RvSXRlbVZpZXdQcm9wcykge1xyXG4gICAgLy9kZWJ1Z2dlcjtcclxuICAgIHN1cGVyKGxlYWYpO1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYWN0aXZlUGFuZTogVG9kb0l0ZW1WaWV3UGFuZS5Ub2RheSxcclxuICAgIH07XHJcbiAgICB0aGlzLmZpbHRlciA9ICcnO1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBWSUVXX1RZUEVfVE9ETztcclxuICB9XHJcblxyXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ1RvZG8nO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdjaGVja21hcmsnO1xyXG4gIH1cclxuXHJcbiAgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRQcm9wcyhcclxuICAgIHNldHRlcjogKGN1cnJlbnRQcm9wczogVG9kb0l0ZW1WaWV3UHJvcHMpID0+IFRvZG9JdGVtVmlld1Byb3BzLFxyXG4gICk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9wcyA9IHNldHRlcih0aGlzLnByb3BzKTtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFZpZXdTdGF0ZShuZXdTdGF0ZTogVG9kb0l0ZW1WaWV3U3RhdGUpIHtcclxuICAgIHRoaXMuc3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEZpbHRlcihmaWx0ZXI6IHN0cmluZykge1xyXG4gICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICB0aGlzLmZpbHRlclJlZ2V4cCA9IG5ldyBSZWdFeHAoZmlsdGVyLCAnaScpO1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcclxuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctY29udGFpbmVyJywgZWwgPT4ge1xyXG4gICAgICBlbC5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LXNlYXJjaCcsIGVsID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlclNlYXJjaChlbCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbC5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LXRvb2xiYXInLCBlbCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJUb29sQmFyKGVsKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGVsLmNyZWF0ZURpdigndG9kby1pdGVtLXZpZXctaXRlbXMnLCBlbCA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJJdGVtcyhlbCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbmRlclNlYXJjaChjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb250YWluZXIuY3JlYXRlRWwoJ3RhYmxlJywge30sIGVsID0+IHtcclxuICAgICAgZWwuYWRkQ2xhc3MoJ3RvZG8tZmlsdGVyLXdyYXBwZXInKTtcclxuICAgICAgZWwuY3JlYXRlRWwoJ3RyJywge30sIGVsID0+IHtcclxuICAgICAgICBlbC5hZGRDbGFzcygndG9kby1maWx0ZXItcm93Jyk7XHJcbiAgICAgICAgZWwuY3JlYXRlRWwoJ3RkJywge30sIGVsID0+IHtcclxuICAgICAgICAgIGVsLmFkZENsYXNzKCd0b2RvLWZpbHRlci1jb2wtaW5wdXQnKTtcclxuICAgICAgICAgIGVsLmNyZWF0ZUVsKCdpbnB1dCcsIHsgdmFsdWU6IHRoaXMuZmlsdGVyIH0sIGVsID0+IHtcclxuICAgICAgICAgICAgZWwuYWRkQ2xhc3MoJ3RvZG8tZmlsdGVyLWlucHV0Jyk7XHJcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgICAgICAncGxhY2Vob2xkZXInLFxyXG4gICAgICAgICAgICAgICdwcm9qL3BlcnNvbiBSZXhFeHAgZmlsdGVyLCBjYXNlIGluc2Vuc2l0aXZlJyxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgZWwub25jaGFuZ2UgPSBlID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcigoPEhUTUxJbnB1dEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsLmNyZWF0ZUVsKCd0ZCcsIHt9LCBlbCA9PiB7XHJcbiAgICAgICAgICBlbC5hZGRDbGFzcygndG9kby1maWx0ZXItY29sLWJ1dHRvbicpO1xyXG4gICAgICAgICAgZWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0ZpbHRlcicgfSwgZWwgPT4ge1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcygndG9kby1maWx0ZXItYnV0dG9uJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyVG9vbEJhcihjb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb25zdCBhY3RpdmVDbGFzcyA9IChwYW5lOiBUb2RvSXRlbVZpZXdQYW5lKSA9PiB7XHJcbiAgICAgIHJldHVybiBwYW5lID09PSB0aGlzLnN0YXRlLmFjdGl2ZVBhbmUgPyAnIGFjdGl2ZScgOiAnJztcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc2V0QWN0aXZlUGFuZSA9IChwYW5lOiBUb2RvSXRlbVZpZXdQYW5lKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0ge1xyXG4gICAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgICAgYWN0aXZlUGFuZTogcGFuZSxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5zZXRWaWV3U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb250YWluZXIuY3JlYXRlRGl2KFxyXG4gICAgICBgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLkluYm94KX1gLFxyXG4gICAgICBlbCA9PiB7XHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICBSZW5kZXJJY29uKFxyXG4gICAgICAgICAgICBJY29uLkluYm94LFxyXG4gICAgICAgICAgICAnSW5ib3g6IE5vIGRhdGUgc2V0LCBubyBzdGFrZWhvbGRlciBhY3Rpb24gc2V0LCBub3QgYSBzb21lZGF5IC8gbWF5YmUgaXRlbS4nLFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiBzZXRBY3RpdmVQYW5lKFRvZG9JdGVtVmlld1BhbmUuSW5ib3gpKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdihcclxuICAgICAgYHRvZG8taXRlbS12aWV3LXRvb2xiYXItaXRlbSR7YWN0aXZlQ2xhc3MoVG9kb0l0ZW1WaWV3UGFuZS5BZ2luZyl9YCxcclxuICAgICAgZWwgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5BZ2luZywgJ0FnaW5nJykpO1xyXG4gICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiBzZXRBY3RpdmVQYW5lKFRvZG9JdGVtVmlld1BhbmUuQWdpbmcpKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdihcclxuICAgICAgYHRvZG8taXRlbS12aWV3LXRvb2xiYXItaXRlbSR7YWN0aXZlQ2xhc3MoVG9kb0l0ZW1WaWV3UGFuZS5Ub2RheSl9YCxcclxuICAgICAgZWwgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFJlbmRlckljb24oSWNvbi5Ub2RheSwgJ1NjaGVkdWxlZCBmb3IgVG9kYXknKSk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5Ub2RheSkpO1xyXG4gICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgICBjb250YWluZXIuY3JlYXRlRGl2KFxyXG4gICAgICBgdG9kby1pdGVtLXZpZXctdG9vbGJhci1pdGVtJHthY3RpdmVDbGFzcyhUb2RvSXRlbVZpZXdQYW5lLlNjaGVkdWxlZCl9YCxcclxuICAgICAgZWwgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgUmVuZGVySWNvbihJY29uLlNjaGVkdWxlZCwgJ1NjaGVkdWxlZCBmb3IgYSBmdXR1cmUgZGF0ZScpLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHNldEFjdGl2ZVBhbmUoVG9kb0l0ZW1WaWV3UGFuZS5TY2hlZHVsZWQpKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdihcclxuICAgICAgYHRvZG8taXRlbS12aWV3LXRvb2xiYXItaXRlbSR7YWN0aXZlQ2xhc3MoVG9kb0l0ZW1WaWV3UGFuZS5TdGFrZWhvbGRlcil9YCxcclxuICAgICAgZWwgPT4ge1xyXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKFxyXG4gICAgICAgICAgUmVuZGVySWNvbihcclxuICAgICAgICAgICAgSWNvbi5TdGFrZWhvbGRlcixcclxuICAgICAgICAgICAgJ1N0YWtlaG9sZGVyIGFjdGlvbnM6IGRpc2N1c3NXaXRoLCBwcm9taXNlZFRvLCB3YWl0aW5nRm9yLiBPbmx5IGl0ZW1zIHRoYXQgaGF2ZSBhIHZhbGlkIHByb2plY3Qgb3IgcGVyc29uIHdpbGwgc2hvdyB1cCBoZXJlLiBTdGFrZWhvbGRlciBhY3Rpb25zIHdpdGhvdXQgcHJvamVjdCBvciBwZXJzb24gYXJlIGluIHRoZSBJbmJveC4nLFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiBzZXRBY3RpdmVQYW5lKFRvZG9JdGVtVmlld1BhbmUuU3Rha2Vob2xkZXIpKTtcclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgY29udGFpbmVyLmNyZWF0ZURpdihcclxuICAgICAgYHRvZG8taXRlbS12aWV3LXRvb2xiYXItaXRlbSR7YWN0aXZlQ2xhc3MoVG9kb0l0ZW1WaWV3UGFuZS5Tb21lZGF5KX1gLFxyXG4gICAgICBlbCA9PiB7XHJcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoUmVuZGVySWNvbihJY29uLlNvbWVkYXksICdUYWdnZWQgYXMgU29tZWRheSAvIE1heWJlJykpO1xyXG4gICAgICAgIGVsLm9uQ2xpY2tFdmVudCgoKSA9PiBzZXRBY3RpdmVQYW5lKFRvZG9JdGVtVmlld1BhbmUuU29tZWRheSkpO1xyXG4gICAgICB9LFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVySXRlbXMoY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgY29uc3QgdG9kb3NUb1JlbmRlciA9IHRoaXMucHJvcHMudG9kb3NcclxuICAgICAgLmZpbHRlcih0aGlzLmZpbHRlckZvclN0YXRlLCB0aGlzKVxyXG4gICAgICAuc29ydCh0aGlzLnNvcnRCeUFjdGlvbkRhdGUpO1xyXG4gICAgdG9kb3NUb1JlbmRlci5mb3JFYWNoKCh0b2RvLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggPiAwKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgKHRvZG8uaXNXYWl0aW5nRm9yTm90ZSAmJlxyXG4gICAgICAgICAgICB0b2Rvc1RvUmVuZGVyW2luZGV4IC0gMV0uaXNEaXNjdXNzV2l0aE5vdGUpIHx8XHJcbiAgICAgICAgICAodG9kby5pc1Byb21pc2VkVG9Ob3RlICYmXHJcbiAgICAgICAgICAgICh0b2Rvc1RvUmVuZGVyW2luZGV4IC0gMV0uaXNXYWl0aW5nRm9yTm90ZSB8fFxyXG4gICAgICAgICAgICAgIHRvZG9zVG9SZW5kZXJbaW5kZXggLSAxXS5pc0Rpc2N1c3NXaXRoTm90ZSkpIHx8XHJcbiAgICAgICAgICAoIXRvZG8uaXNQcm9taXNlZFRvTm90ZSAmJlxyXG4gICAgICAgICAgICAhdG9kby5pc1dhaXRpbmdGb3JOb3RlICYmXHJcbiAgICAgICAgICAgICF0b2RvLmlzRGlzY3Vzc1dpdGhOb3RlICYmXHJcbiAgICAgICAgICAgICh0b2Rvc1RvUmVuZGVyW2luZGV4IC0gMV0uaXNXYWl0aW5nRm9yTm90ZSB8fFxyXG4gICAgICAgICAgICAgIHRvZG9zVG9SZW5kZXJbaW5kZXggLSAxXS5pc0Rpc2N1c3NXaXRoTm90ZSB8fFxyXG4gICAgICAgICAgICAgIHRvZG9zVG9SZW5kZXJbaW5kZXggLSAxXS5pc1Byb21pc2VkVG9Ob3RlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnRhaW5lci5jcmVhdGVFbCgnaHInLCB7fSwgZWwgPT4ge1xyXG4gICAgICAgICAgICBlbC5hZGRDbGFzcygndG9kby1pdGVtLXZpZXctZGl2aWRlcicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LWl0ZW0nLCBlbCA9PiB7XHJcbiAgICAgICAgZWwuY3JlYXRlRGl2KCd0b2RvLWl0ZW0tdmlldy1pdGVtLWNoZWNrYm94JywgZWwgPT4ge1xyXG4gICAgICAgICAgZWwuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0sIGVsID0+IHtcclxuICAgICAgICAgICAgZWwuY2hlY2tlZCA9IHRvZG8uc3RhdHVzID09PSBUb2RvSXRlbVN0YXR1cy5Eb25lO1xyXG4gICAgICAgICAgICBlbC5vbkNsaWNrRXZlbnQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMudG9nZ2xlVG9kbyh0b2RvKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlbC5jcmVhdGVEaXYoJ3RvZG8taXRlbS12aWV3LWl0ZW0tZGVzY3JpcHRpb24nLCBlbCA9PiB7XHJcbiAgICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlck1hcmtkb3duKFxyXG4gICAgICAgICAgICB0b2RvLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBlbCxcclxuICAgICAgICAgICAgdG9kby5zb3VyY2VGaWxlUGF0aCxcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWwuY3JlYXRlRGl2KCd0b2RvLWl0ZW0tdmlldy1pdGVtLWxpbmsnLCBlbCA9PiB7XHJcbiAgICAgICAgICBlbC5hcHBlbmRDaGlsZChSZW5kZXJJY29uKEljb24uUmV2ZWFsLCAnT3BlbiBmaWxlJykpO1xyXG4gICAgICAgICAgZWwub25DbGlja0V2ZW50KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vcGVuRmlsZSh0b2RvKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBmaWx0ZXJGb3JTdGF0ZSh2YWx1ZTogVG9kb0l0ZW0pOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGlzUGVyc29uTWF0Y2ggPSB2YWx1ZS5wZXJzb24ubWF0Y2godGhpcy5maWx0ZXJSZWdleHApICE9IG51bGw7XHJcbiAgICBjb25zdCBpc1Byb2plY3RNYXRjaCA9IHZhbHVlLnByb2plY3QubWF0Y2godGhpcy5maWx0ZXJSZWdleHApICE9IG51bGw7XHJcbiAgICBjb25zdCBpc0ZpbHRlclNldCA9IHRoaXMuZmlsdGVyICE9ICcnO1xyXG4gICAgY29uc3QgaGFzUGVyc29uT3JQcm9qZWN0ID0gdmFsdWUucGVyc29uICE9ICcnIHx8IHZhbHVlLnByb2plY3QgIT0gJyc7XHJcbiAgICBjb25zdCBpc1Blb3BsZUFjdGlvbk5vdGUgPVxyXG4gICAgICB2YWx1ZS5pc0Rpc2N1c3NXaXRoTm90ZSB8fFxyXG4gICAgICB2YWx1ZS5pc1dhaXRpbmdGb3JOb3RlIHx8XHJcbiAgICAgIHZhbHVlLmlzUHJvbWlzZWRUb05vdGU7XHJcbiAgICBpZiAoIWlzRmlsdGVyU2V0IHx8IGlzUGVyc29uTWF0Y2ggfHwgaXNQcm9qZWN0TWF0Y2gpIHtcclxuICAgICAgY29uc3QgaXNUb2RheSA9IChkYXRlOiBEYXRlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICBkYXRlLmdldERhdGUoKSA9PSB0b2RheS5nZXREYXRlKCkgJiZcclxuICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSA9PSB0b2RheS5nZXRNb250aCgpICYmXHJcbiAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCkgPT0gdG9kYXkuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBpc0JlZm9yZVRvZGF5ID0gKGRhdGU6IERhdGUpID0+IHtcclxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGUgPCB0b2RheTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IGlzQWdpbmdOb3RlID0gdmFsdWUuYWN0aW9uRGF0ZSAmJiBpc0JlZm9yZVRvZGF5KHZhbHVlLmFjdGlvbkRhdGUpO1xyXG4gICAgICBjb25zdCBpc1RvZGF5Tm90ZSA9IHZhbHVlLmFjdGlvbkRhdGUgJiYgaXNUb2RheSh2YWx1ZS5hY3Rpb25EYXRlKTtcclxuICAgICAgY29uc3QgaXNTY2hlZHVsZWROb3RlID1cclxuICAgICAgICAhdmFsdWUuaXNTb21lZGF5TWF5YmVOb3RlICYmXHJcbiAgICAgICAgdmFsdWUuYWN0aW9uRGF0ZSAmJlxyXG4gICAgICAgICFpc1RvZGF5Tm90ZSAmJlxyXG4gICAgICAgICFpc0FnaW5nTm90ZTtcclxuXHJcbiAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5hY3RpdmVQYW5lKSB7XHJcbiAgICAgICAgY2FzZSBUb2RvSXRlbVZpZXdQYW5lLkluYm94OlxyXG4gICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgIXZhbHVlLmlzU29tZWRheU1heWJlTm90ZSAmJlxyXG4gICAgICAgICAgICAhaXNUb2RheU5vdGUgJiZcclxuICAgICAgICAgICAgIWlzU2NoZWR1bGVkTm90ZSAmJlxyXG4gICAgICAgICAgICAhaXNBZ2luZ05vdGUgJiZcclxuICAgICAgICAgICAgIShpc1Blb3BsZUFjdGlvbk5vdGUgJiYgaGFzUGVyc29uT3JQcm9qZWN0KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICBjYXNlIFRvZG9JdGVtVmlld1BhbmUuU2NoZWR1bGVkOlxyXG4gICAgICAgICAgcmV0dXJuIGlzU2NoZWR1bGVkTm90ZTtcclxuICAgICAgICBjYXNlIFRvZG9JdGVtVmlld1BhbmUuU29tZWRheTpcclxuICAgICAgICAgIHJldHVybiB2YWx1ZS5pc1NvbWVkYXlNYXliZU5vdGU7XHJcbiAgICAgICAgY2FzZSBUb2RvSXRlbVZpZXdQYW5lLlRvZGF5OlxyXG4gICAgICAgICAgcmV0dXJuIGlzVG9kYXlOb3RlO1xyXG4gICAgICAgIGNhc2UgVG9kb0l0ZW1WaWV3UGFuZS5BZ2luZzpcclxuICAgICAgICAgIHJldHVybiBpc0FnaW5nTm90ZTtcclxuICAgICAgICBjYXNlIFRvZG9JdGVtVmlld1BhbmUuU3Rha2Vob2xkZXI6XHJcbiAgICAgICAgICByZXR1cm4gaGFzUGVyc29uT3JQcm9qZWN0ICYmIGlzUGVvcGxlQWN0aW9uTm90ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc29ydEJ5QWN0aW9uRGF0ZShhOiBUb2RvSXRlbSwgYjogVG9kb0l0ZW0pOiBudW1iZXIge1xyXG4gICAgaWYgKCFhLmFjdGlvbkRhdGUgJiYgIWIuYWN0aW9uRGF0ZSkge1xyXG4gICAgICBpZiAoYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYi5pc0Rpc2N1c3NXaXRoTm90ZSkge1xyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYS5pc1dhaXRpbmdGb3JOb3RlICYmICFiLmlzRGlzY3Vzc1dpdGhOb3RlICYmICFiLmlzV2FpdGluZ0Zvck5vdGUpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGEuaXNQcm9taXNlZFRvTm90ZSAmJiAhYi5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYi5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChiLmlzRGlzY3Vzc1dpdGhOb3RlICYmICFhLmlzRGlzY3Vzc1dpdGhOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGIuaXNXYWl0aW5nRm9yTm90ZSAmJiAhYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYS5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGIuaXNQcm9taXNlZFRvTm90ZSAmJiAhYS5pc0Rpc2N1c3NXaXRoTm90ZSAmJiAhYS5pc1dhaXRpbmdGb3JOb3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhLmlzU29tZWRheU1heWJlTm90ZSAmJiAhYi5pc1NvbWVkYXlNYXliZU5vdGUpIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFhLmlzU29tZWRheU1heWJlTm90ZSAmJiBiLmlzU29tZWRheU1heWJlTm90ZSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGEuYWN0aW9uRGF0ZSA8IGIuYWN0aW9uRGF0ZVxyXG4gICAgICA/IC0xXHJcbiAgICAgIDogYS5hY3Rpb25EYXRlID4gYi5hY3Rpb25EYXRlXHJcbiAgICAgID8gMVxyXG4gICAgICA6IDA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHRvZ2dsZVRvZG8odG9kbzogVG9kb0l0ZW0pOiB2b2lkIHtcclxuICAgIHRoaXMucHJvcHMudG9nZ2xlVG9kbyh0b2RvLCBUb2RvSXRlbVN0YXR1cy50b2dnbGVTdGF0dXModG9kby5zdGF0dXMpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb3BlbkZpbGUodG9kbzogVG9kb0l0ZW0pOiB2b2lkIHtcclxuICAgIHRoaXMucHJvcHMub3BlbkZpbGUodG9kby5zb3VyY2VGaWxlUGF0aCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5NYW5pZmVzdCwgVEZpbGUsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBWSUVXX1RZUEVfVE9ETyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgVG9kb0luZGV4LCBUb2RvSXRlbUluZGV4UHJvcHMgfSBmcm9tICcuL21vZGVsL1RvZG9JbmRleCc7XHJcbmltcG9ydCB7IFRvZG9JdGVtLCBUb2RvSXRlbVN0YXR1cyB9IGZyb20gJy4vbW9kZWwvVG9kb0l0ZW0nO1xyXG5pbXBvcnQge1xyXG4gIEFjdGlvblRyYWNrZXJTZXR0aW5ncyxcclxuICBBY3Rpb25UcmFja2VyU2V0dGluZ1RhYixcclxuICBERUZBVUxUX1NFVFRJTkdTLFxyXG59IGZyb20gJy4vc2V0dGluZ3MnO1xyXG5pbXBvcnQgeyBUb2RvSXRlbVZpZXcsIFRvZG9JdGVtVmlld1Byb3BzIH0gZnJvbSAnLi91aS9Ub2RvSXRlbVZpZXcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWN0aW9uVHJhY2tlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgcHJpdmF0ZSB0b2RvSW5kZXg6IFRvZG9JbmRleDtcclxuICBwcml2YXRlIHZpZXc6IFRvZG9JdGVtVmlldztcclxuICBzZXR0aW5nczogQWN0aW9uVHJhY2tlclNldHRpbmdzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWFuaWZlc3Q6IFBsdWdpbk1hbmlmZXN0KSB7XHJcbiAgICBzdXBlcihhcHAsIG1hbmlmZXN0KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0VG9kb0l0ZW1JbmRleFByb3BzKCk6IFRvZG9JdGVtSW5kZXhQcm9wcyB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwZXJzb25SZWdleHA6IG5ldyBSZWdFeHAodGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3BlcnNvblJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgcHJvamVjdFJlZ2V4cDogbmV3IFJlZ0V4cCh0aGlzLmdldFNldHRpbmdWYWx1ZSgncHJvamVjdFJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgZGF0ZVJlZ2V4cDogbmV3IFJlZ0V4cCh0aGlzLmdldFNldHRpbmdWYWx1ZSgnZGF0ZVJlZ2V4cFN0cmluZycpKSxcclxuICAgICAgZGlzY3Vzc1dpdGhSZWdleHA6IG5ldyBSZWdFeHAoXHJcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ2Rpc2N1c3NXaXRoUmVnZXhwU3RyaW5nJyksXHJcbiAgICAgICksXHJcbiAgICAgIHdhaXRpbmdGb3JSZWdleHA6IG5ldyBSZWdFeHAoXHJcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3dhaXRpbmdGb3JSZWdleHBTdHJpbmcnKSxcclxuICAgICAgKSxcclxuICAgICAgcHJvbWlzZWRUb1JlZ2V4cDogbmV3IFJlZ0V4cChcclxuICAgICAgICB0aGlzLmdldFNldHRpbmdWYWx1ZSgncHJvbWlzZWRUb1JlZ2V4cFN0cmluZycpLFxyXG4gICAgICApLFxyXG4gICAgICBzb21lZGF5TWF5YmVSZWdleHA6IG5ldyBSZWdFeHAoXHJcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nVmFsdWUoJ3NvbWVkYXlNYXliZVJlZ2V4cFN0cmluZycpLFxyXG4gICAgICApLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGFzeW5jIG9ubG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nIHBsdWdpbicpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG4gICAgdGhpcy50b2RvSW5kZXggPSBuZXcgVG9kb0luZGV4KFxyXG4gICAgICB0aGlzLmFwcC52YXVsdCxcclxuICAgICAgdGhpcy50aWNrLmJpbmQodGhpcyksXHJcbiAgICAgIHRoaXMuZ2V0VG9kb0l0ZW1JbmRleFByb3BzKCksXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9UT0RPLCAobGVhZjogV29ya3NwYWNlTGVhZikgPT4ge1xyXG4gICAgICBjb25zdCB0b2RvczogVG9kb0l0ZW1bXSA9IFtdO1xyXG4gICAgICBjb25zdCBwcm9wcyA9IHtcclxuICAgICAgICB0b2RvczogdG9kb3MsXHJcbiAgICAgICAgb3BlbkZpbGU6IChmaWxlUGF0aDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGVQYXRoKSBhcyBURmlsZTtcclxuICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5zcGxpdEFjdGl2ZUxlYWYoKS5vcGVuRmlsZShmaWxlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvZ2dsZVRvZG86ICh0b2RvOiBUb2RvSXRlbSwgbmV3U3RhdHVzOiBUb2RvSXRlbVN0YXR1cykgPT4ge1xyXG4gICAgICAgICAgdGhpcy50b2RvSW5kZXguc2V0U3RhdHVzKHRvZG8sIG5ld1N0YXR1cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy52aWV3ID0gbmV3IFRvZG9JdGVtVmlldyhsZWFmLCBwcm9wcyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnZpZXc7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEFjdGlvblRyYWNrZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYXBwLndvcmtzcGFjZS5sYXlvdXRSZWFkeSkge1xyXG4gICAgICB0aGlzLmluaXRMZWFmKCk7XHJcbiAgICAgIGF3YWl0IHRoaXMucHJlcGFyZUluZGV4KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdsYXlvdXQtcmVhZHknLCB0aGlzLmluaXRMZWFmLmJpbmQodGhpcykpLFxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICAgICAgJ2xheW91dC1yZWFkeScsXHJcbiAgICAgICAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnByZXBhcmVJbmRleCgpLFxyXG4gICAgICAgICksXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbnVubG9hZCgpOiB2b2lkIHtcclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZVxyXG4gICAgICAuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9UT0RPKVxyXG4gICAgICAuZm9yRWFjaChsZWFmID0+IGxlYWYuZGV0YWNoKCkpO1xyXG4gIH1cclxuXHJcbiAgaW5pdExlYWYoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfVE9ETykubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpLnNldFZpZXdTdGF0ZSh7XHJcbiAgICAgIHR5cGU6IFZJRVdfVFlQRV9UT0RPLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBwcmVwYXJlSW5kZXgoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLnRvZG9JbmRleC5pbml0aWFsaXplKCk7XHJcbiAgfVxyXG5cclxuICB0aWNrKHRvZG9zOiBUb2RvSXRlbVtdKTogdm9pZCB7XHJcbiAgICB0aGlzLnZpZXcuc2V0UHJvcHMoKGN1cnJlbnRQcm9wczogVG9kb0l0ZW1WaWV3UHJvcHMpID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5jdXJyZW50UHJvcHMsXHJcbiAgICAgICAgdG9kb3M6IHRvZG9zLFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkU2V0dGluZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICBhd2FpdCB0aGlzLnRvZG9JbmRleC5yZWxvYWRJbmRleCh0aGlzLmdldFRvZG9JdGVtSW5kZXhQcm9wcygpKTtcclxuICB9XHJcblxyXG4gIGdldFNldHRpbmdWYWx1ZTxLIGV4dGVuZHMga2V5b2YgQWN0aW9uVHJhY2tlclNldHRpbmdzPihcclxuICAgIHNldHRpbmc6IEssXHJcbiAgKTogQWN0aW9uVHJhY2tlclNldHRpbmdzW0tdIHtcclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzW3NldHRpbmddO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiVEZpbGUiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyIsIkl0ZW1WaWV3IiwiTWFya2Rvd25SZW5kZXJlciIsIlBsdWdpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REE7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FB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
